change_boon_tribute_disabling_penalty_effect = {
	# Reset the variable
	set_variable = {
		which = penalty
		value = 0
	}
	# Check which flags are set
	if = {
		limit = {
			has_character_flag = china_no_gold_tributes
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_tributaries
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_horses_tributes
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_eunuch_tributes
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_concubine_tributes
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_commander_tributes
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_physician_tributes
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_relief_tributes
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_artifact_tributes
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_peace_deal_boons
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_physician_boons
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_artifact_boons
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_siege_engineer_boons
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_strategist_boons
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_administrator_boons
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_master_engineer_boons
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_trade_contract_boons
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	if = {
		limit = {
			has_character_flag = china_no_imperial_marriage_boons
		}
		change_variable = {
			which = penalty
			value = 1
		}
	}
	# Check how big the penalty is and apply the correct modifier
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 0
			}
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 1
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_1
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 2
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_2
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 3
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_3
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 4
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_4
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 5
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_5
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 6
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_6
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 7
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_7
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 8
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_8
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 9
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_9
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 10
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_10
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 11
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_11
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 12
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_12
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 13
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_13
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 14
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_14
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 15
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_15
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 16
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_16
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_17
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 17
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_17
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_18
		break = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = penalty
				value = 18
			}
		}
		add_character_modifier = {
			name = tribute_boon_refusal_18
			duration = -1
		}
		remove_character_modifier = tribute_boon_refusal_1
		remove_character_modifier = tribute_boon_refusal_2
		remove_character_modifier = tribute_boon_refusal_3
		remove_character_modifier = tribute_boon_refusal_4
		remove_character_modifier = tribute_boon_refusal_5
		remove_character_modifier = tribute_boon_refusal_6
		remove_character_modifier = tribute_boon_refusal_7
		remove_character_modifier = tribute_boon_refusal_8
		remove_character_modifier = tribute_boon_refusal_9
		remove_character_modifier = tribute_boon_refusal_10
		remove_character_modifier = tribute_boon_refusal_11
		remove_character_modifier = tribute_boon_refusal_12
		remove_character_modifier = tribute_boon_refusal_13
		remove_character_modifier = tribute_boon_refusal_14
		remove_character_modifier = tribute_boon_refusal_15
		remove_character_modifier = tribute_boon_refusal_16
		remove_character_modifier = tribute_boon_refusal_17
		break = yes
	}
}


### Chinese Imperial Bloodline (real and pretender) creation

create_real_chinese_imperial_bloodline_effect = {
	if = {
		limit = {
			e_china = {
				has_title_flag = tang_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_tang
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_tang
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = jin_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_jin
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_jin
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = wei_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_wei
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_wei
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = qi_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_qi
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_qi
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = zhou_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_zhou
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_zhou
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = han_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_han
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_han
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = qin_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_qin
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_qin
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = yan_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_yan
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_yan
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = zhao_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_zhao
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_zhao
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = liao_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_liao
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_liao
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = yuan_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_yuan
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_yuan
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = xia_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_xia
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_xia
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = qing_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_qing
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_qing
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = dai_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_dai
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_dai
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = cheng_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_cheng
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_cheng
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = liang_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_liang
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_liang
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = song_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_song
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_song
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = ming_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_ming
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_ming
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = shu_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_shu
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_shu
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = wu_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_wu
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_wu
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = chu_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_chu
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_chu
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = yue_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_yue
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_yue
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = yin_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_yin
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_yin
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = shun_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = real_chinese_imperial_bloodline_shun
			}
		}
		else = {
			create_bloodline = {
				type = real_chinese_imperial_bloodline_shun
				inheritance = matrilineal
			}
		}
	}
}

create_pretender_chinese_imperial_bloodline_effect = {
	if = {
		limit = {
			primary_title = {
				has_title_flag = tang_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_tang
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_tang
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = jin_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_jin
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_jin
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = wei_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_wei
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_wei
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = qi_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_qi
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_qi
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = zhou_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_zhou
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_zhou
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = han_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_han
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_han
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = qin_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_qin
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_qin
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = yan_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_yan
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_yan
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = zhao_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_zhao
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_zhao
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = liao_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_liao
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_liao
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = yuan_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_yuan
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_yuan
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = xia_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_xia
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_xia
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = qing_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_qing
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_qing
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = dai_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_dai
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_dai
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = cheng_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_cheng
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_cheng
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = liang_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_liang
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_liang
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = song_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_song
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_song
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = ming_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_ming
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_ming
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = shu_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_shu
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_shu
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = wu_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_wu
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_wu
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = chu_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_chu
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_chu
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = yue_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_yue
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_yue
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = yin_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_yin
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_yin
				inheritance = matrilineal
			}
		}
	}
	else_if = {
		limit = {
			primary_title = {
				has_title_flag = shun_china
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_shun
			}
		}
		else = {
			create_bloodline = {
				type = pretender_chinese_imperial_bloodline_shun
				inheritance = matrilineal
			}
		}
	}
}

### Renaming China/pretender empire

update_global_china_name_flag_effect = {
	# Remove old flags
	clr_global_flag = tang_china_exists
	clr_global_flag = jin_china_exists
	clr_global_flag = wei_china_exists
	clr_global_flag = qi_china_exists
	clr_global_flag = zhou_china_exists
	clr_global_flag = han_china_exists
	clr_global_flag = qin_china_exists
	clr_global_flag = yan_china_exists
	clr_global_flag = zhao_china_exists
	clr_global_flag = liao_china_exists
	clr_global_flag = yuan_china_exists
	clr_global_flag = xia_china_exists
	clr_global_flag = qing_china_exists
	clr_global_flag = dai_china_exists
	clr_global_flag = cheng_china_exists
	clr_global_flag = liang_china_exists
	clr_global_flag = song_china_exists
	clr_global_flag = ming_china_exists
	clr_global_flag = shu_china_exists
	clr_global_flag = wu_china_exists
	clr_global_flag = chu_china_exists
	clr_global_flag = yue_china_exists
	clr_global_flag = yin_china_exists
	clr_global_flag = shun_china_exists
	
	if = {
		limit = {
			e_china = {
				has_title_flag = tang_china
			}
		}
		set_global_flag = tang_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = jin_china
			}
		}
		set_global_flag = jin_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = wei_china
			}
		}
		set_global_flag = wei_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = qi_china
			}
		}
		set_global_flag = qi_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = zhou_china
			}
		}
		set_global_flag = zhou_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = han_china
			}
		}
		set_global_flag = han_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = qin_china
			}
		}
		set_global_flag = qin_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = yan_china
			}
		}
		set_global_flag = yan_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = zhao_china
			}
		}
		set_global_flag = zhao_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = liao_china
			}
		}
		set_global_flag = liao_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = yuan_china
			}
		}
		set_global_flag = yuan_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = xia_china
			}
		}
		set_global_flag = xia_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = qing_china
			}
		}
		set_global_flag = qing_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = dai_china
			}
		}
		set_global_flag = dai_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = cheng_china
			}
		}
		set_global_flag = cheng_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = liang_china
			}
		}
		set_global_flag = liang_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = song_china
			}
		}
		set_global_flag = song_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = ming_china
			}
		}
		set_global_flag = ming_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = shu_china
			}
		}
		set_global_flag = shu_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = wu_china
			}
		}
		set_global_flag = wu_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = chu_china
			}
		}
		set_global_flag = chu_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = yue_china
			}
		}
		set_global_flag = yue_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = yin_china
			}
		}
		set_global_flag = yin_china_exists
	}
	else_if = {
		limit = {
			e_china = {
				has_title_flag = shun_china
			}
		}
		set_global_flag = shun_china_exists
	}
}

add_global_pretender_china_name_flag_effect = {
	if = {
		limit = {
			has_title_flag = tang_china
		}
		set_global_flag = pretender_tang_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = jin_china
		}
		set_global_flag = pretender_jin_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = wei_china
		}
		set_global_flag = pretender_wei_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = qi_china
		}
		set_global_flag = pretender_qi_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = zhou_china
		}
		set_global_flag = pretender_zhou_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = han_china
		}
		set_global_flag = pretender_han_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = qin_china
		}
		set_global_flag = pretender_qin_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = yan_china
		}
		set_global_flag = pretender_yan_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = zhao_china
		}
		set_global_flag = pretender_zhao_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = liao_china
		}
		set_global_flag = pretender_liao_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = yuan_china
		}
		set_global_flag = pretender_yuan_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = xia_china
		}
		set_global_flag = pretender_xia_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = qing_china
		}
		set_global_flag = pretender_qing_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = dai_china
		}
		set_global_flag = pretender_dai_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = cheng_china
		}
		set_global_flag = pretender_cheng_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = liang_china
		}
		set_global_flag = pretender_liang_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = song_china
		}
		set_global_flag = pretender_song_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = ming_china
		}
		set_global_flag = pretender_ming_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = shu_china
		}
		set_global_flag = pretender_shu_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = wu_china
		}
		set_global_flag = pretender_wu_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = chu_china
		}
		set_global_flag = pretender_chu_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = yue_china
		}
		set_global_flag = pretender_yue_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = yin_china
		}
		set_global_flag = pretender_yin_china_exists
	}
	else_if = {
		limit = {
			has_title_flag = shun_china
		}
		set_global_flag = pretender_shun_china_exists
	}
}

remove_global_pretender_china_name_flag_effect = {
	if = {
		limit = {
			has_title_flag = tang_china
		}
		clr_global_flag = pretender_tang_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = jin_china
		}
		clr_global_flag = pretender_jin_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = wei_china
		}
		clr_global_flag = pretender_wei_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = qi_china
		}
		clr_global_flag = pretender_qi_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = zhou_china
		}
		clr_global_flag = pretender_zhou_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = han_china
		}
		clr_global_flag = pretender_han_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = qin_china
		}
		clr_global_flag = pretender_qin_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = yan_china
		}
		clr_global_flag = pretender_yan_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = zhao_china
		}
		clr_global_flag = pretender_zhao_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = liao_china
		}
		clr_global_flag = pretender_liao_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = yuan_china
		}
		clr_global_flag = pretender_yuan_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = xia_china
		}
		clr_global_flag = pretender_xia_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = qing_china
		}
		clr_global_flag = pretender_qing_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = dai_china
		}
		clr_global_flag = pretender_dai_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = cheng_china
		}
		clr_global_flag = pretender_cheng_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = liang_china
		}
		clr_global_flag = pretender_liang_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = song_china
		}
		clr_global_flag = pretender_song_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = ming_china
		}
		clr_global_flag = pretender_ming_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = shu_china_china
		}
		clr_global_flag = pretender_shu_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = wu_china
		}
		clr_global_flag = pretender_wu_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = chu_china
		}
		clr_global_flag = pretender_chu_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = yue_china
		}
		clr_global_flag = pretender_yue_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = yin_china
		}
		clr_global_flag = pretender_yin_china_exists
	}	
	else_if = {
		limit = {
			has_title_flag = shun_china
		}
		clr_global_flag = pretender_shun_china_exists
	}
}

rename_china_after_pretender_title_or_bloodline_effect = {
	# Priority is as follows:
	# 1. Real CI bloodline and matching pretender empire name
	# 2. Real CI bloodline NOT matching pretender empire name (if not in use)
	# 3. Pretender CI bloodline matching pretender empire name
	# 4. Pretender bloodline NOT matching pretender empire name (if not in use)
	# 5. Pretender empire name
	# It should be impossible for none of the above to be true, since the fifth option always is on the table
	if = {
		limit = {
			primary_title = {
				title_matches_my_real_chinese_bloodline_trigger = yes
			}
		}
		primary_title = {
			rename_china_after_this_title_effect = yes
		}
	}
	else_if = {
		limit = {
			any_bloodline = {
				has_flag = real_chinese_imperial_bloodline
				bloodline_could_name_china = yes
			}
		}
		random_owned_bloodline = {
			limit = {
				has_flag = real_chinese_imperial_bloodline
				bloodline_could_name_china = yes
			}
			rename_china_after_this_bloodline_effect = yes
		}
	}
	else_if = {
		limit = {
			primary_title = {
				title_matches_my_chinese_bloodline_trigger = yes
			}
		}
		primary_title = {
			rename_china_after_this_title_effect = yes
		}
	}
	else = {
		primary_title = {
			rename_china_after_this_title_effect = yes
		}
	}
}

rename_china_after_this_title_effect = {
	if = {
		limit = {
			has_title_flag = tang_china
		}
		e_china = {
			set_name = "Tang"
			adjective = "Tang"
			set_title_flag = tang_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = jin_china
		}
		e_china = {
			set_name = "Jin"
			adjective = "Jin"
			set_title_flag = jin_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = wei_china
		}
		e_china = {
			set_name = "Wei"
			adjective = "Wei"
			set_title_flag = wei_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = qi_china
		}
		e_china = {
			set_name = "Qi"
			adjective = "Qi"
			set_title_flag = qi_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = zhou_china
		}
		e_china = {
			set_name = "Zhou"
			adjective = "Zhou"
			set_title_flag = zhou_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = han_china
		}
		e_china = {
			set_name = "Han"
			adjective = "Han"
			set_title_flag = han_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = qin_china
		}
		e_china = {
			set_name = "Qin"
			adjective = "Qin"
			set_title_flag = qin_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = yan_china
		}
		e_china = {
			set_name = "Yan"
			adjective = "Yan"
			set_title_flag = yan_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = zhao_china
		}
		e_china = {
			set_name = "Zhao"
			adjective = "Zhao"
			set_title_flag = zhao_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = liao_china
		}
		e_china = {
			set_name = "Liao"
			adjective = "Liao"
			set_title_flag = liao_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = yuan_china
		}
		e_china = {
			set_name = "Yuan"
			adjective = "Yuan"
			set_title_flag = yuan_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = xia_china
		}
		e_china = {
			set_name = "Xia"
			adjective = "Xia"
			set_title_flag = xia_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = qing_china
		}
		e_china = {
			set_name = "Qing"
			adjective = "Qing"
			set_title_flag = qing_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = dai_china
		}
		e_china = {
			set_name = "Dai"
			adjective = "Dai"
			set_title_flag = dai_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = cheng_china
		}
		e_china = {
			set_name = "Cheng"
			adjective = "Cheng"
			set_title_flag = cheng_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = liang_china
		}
		e_china = {
			set_name = "Liang"
			adjective = "Liang"
			set_title_flag = liang_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = song_china
		}
		e_china = {
			set_name = "Song"
			adjective = "Song"
			set_title_flag = song_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = ming_china
		}
		e_china = {
			set_name = "Ming"
			adjective = "Ming"
			set_title_flag = ming
		}
	}	
	else_if = {
		limit = {
			has_title_flag = shu_china
		}
		e_china = {
			set_name = "Shu"
			adjective = "Shu"
			set_title_flag = shu_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = wu_china
		}
		e_china = {
			set_name = "Wu"
			adjective = "Wu"
			set_title_flag = wu_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = chu_china
		}
		e_china = {
			set_name = "Chu"
			adjective = "Chu"
			set_title_flag = chu_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = yue_china
		}
		e_china = {
			set_name = "Yue"
			adjective = "Yue"
			set_title_flag = yue_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = yin_china
		}
		e_china = {
			set_name = "Yin"
			adjective = "Yin"
			set_title_flag = yin_china
		}
	}	
	else_if = {
		limit = {
			has_title_flag = shun_china
		}
		e_china = {
			set_name = "Shun"
			adjective = "Shun"
			set_title_flag = shun_china
		}
	}
}

rename_china_after_this_bloodline_effect = {
	if = {
		limit = {
			has_flag = tang_china
		}
		e_china = {
			set_name = "Tang"
			adjective = "Tang"
			set_title_flag = tang_china
		}
	}	
	else_if = {
		limit = {
			has_flag = jin_china
		}
		e_china = {
			set_name = "Jin"
			adjective = "Jin"
			set_title_flag = jin_china
		}
	}	
	else_if = {
		limit = {
			has_flag = wei_china
		}
		e_china = {
			set_name = "Wei"
			adjective = "Wei"
			set_title_flag = wei_china
		}
	}	
	else_if = {
		limit = {
			has_flag = qi_china
		}
		e_china = {
			set_name = "Qi"
			adjective = "Qi"
			set_title_flag = qi_china
		}
	}	
	else_if = {
		limit = {
			has_flag = zhou_china
		}
		e_china = {
			set_name = "Zhou"
			adjective = "Zhou"
			set_title_flag = zhou_china
		}
	}	
	else_if = {
		limit = {
			has_flag = han_china
		}
		e_china = {
			set_name = "Han"
			adjective = "Han"
			set_title_flag = han_china
		}
	}	
	else_if = {
		limit = {
			has_flag = qin_china
		}
		e_china = {
			set_name = "Qin"
			adjective = "Qin"
			set_title_flag = qin_china
		}
	}	
	else_if = {
		limit = {
			has_flag = yan_china
		}
		e_china = {
			set_name = "Yan"
			adjective = "Yan"
			set_title_flag = yan_china
		}
	}	
	else_if = {
		limit = {
			has_flag = zhao_china
		}
		e_china = {
			set_name = "Zhao"
			adjective = "Zhao"
			set_title_flag = zhao_china
		}
	}	
	else_if = {
		limit = {
			has_flag = liao_china
		}
		e_china = {
			set_name = "Liao"
			adjective = "Liao"
			set_title_flag = liao_china
		}
	}	
	else_if = {
		limit = {
			has_flag = yuan_china
		}
		e_china = {
			set_name = "Yuan"
			adjective = "Yuan"
			set_title_flag = yuan_china
		}
	}	
	else_if = {
		limit = {
			has_flag = xia_china
		}
		e_china = {
			set_name = "Xia"
			adjective = "Xia"
			set_title_flag = xia_china
		}
	}	
	else_if = {
		limit = {
			has_flag = qing_china
		}
		e_china = {
			set_name = "Qing"
			adjective = "Qing"
			set_title_flag = qing_china
		}
	}	
	else_if = {
		limit = {
			has_flag = dai_china
		}
		e_china = {
			set_name = "Dai"
			adjective = "Dai"
			set_title_flag = dai_china
		}
	}	
	else_if = {
		limit = {
			has_flag = cheng_china
		}
		e_china = {
			set_name = "Cheng"
			adjective = "Cheng"
			set_title_flag = cheng_china
		}
	}	
	else_if = {
		limit = {
			has_flag = liang_china
		}
		e_china = {
			set_name = "Liang"
			adjective = "Liang"
			set_title_flag = liang_china
		}
	}	
	else_if = {
		limit = {
			has_flag = song_china
		}
		e_china = {
			set_name = "Song"
			adjective = "Song"
			set_title_flag = song_china
		}
	}	
	else_if = {
		limit = {
			has_flag = ming_china
		}
		e_china = {
			set_name = "Ming"
			adjective = "Ming"
			set_title_flag = ming
		}
	}	
	else_if = {
		limit = {
			has_flag = shu_china
		}
		e_china = {
			set_name = "Shu"
			adjective = "Shu"
			set_title_flag = shu_china
		}
	}	
	else_if = {
		limit = {
			has_flag = wu_china
		}
		e_china = {
			set_name = "Wu"
			adjective = "Wu"
			set_title_flag = wu_china
		}
	}	
	else_if = {
		limit = {
			has_flag = chu_china
		}
		e_china = {
			set_name = "Chu"
			adjective = "Chu"
			set_title_flag = chu_china
		}
	}	
	else_if = {
		limit = {
			has_flag = yue_china
		}
		e_china = {
			set_name = "Yue"
			adjective = "Yue"
			set_title_flag = yue_china
		}
	}	
	else_if = {
		limit = {
			has_flag = yin_china
		}
		e_china = {
			set_name = "Yin"
			adjective = "Yin"
			set_title_flag = yin_china
		}
	}	
	else_if = {
		limit = {
			has_flag = shun_china
		}
		e_china = {
			set_name = "Shun"
			adjective = "Shun"
			set_title_flag = shun_china
		}
	}
}