# Chuseok events
# By Silverswee(e)per
# Partially based on earlier work by Okawoa

namespace = chuseok

##### Preparation

# Preparations begin
character_event = {
	id = chuseok.1
	desc = EVTDESC_CHUSEOK_1
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		# Flag cleanup
		clr_character_flag = chuseok_enough_drinks
		clr_character_flag = chuseok_enough_hangwa
		clr_character_flag = chuseok_enough_songpyeon
		clr_character_flag = chuseok_extra_drinks
		clr_character_flag = chuseok_extra_hangwa
		clr_character_flag = chuseok_extra_songpyeon
		clr_character_flag = chuseok_no_drinks
		clr_character_flag = chuseok_no_hangwa
		clr_character_flag = chuseok_no_songpyeon
		clr_character_flag = chuseok_not_rigged_juldarigiri
		clr_character_flag = chuseok_rigged_juldarigiri
		clr_character_flag = chuseok_ssireum_deception
		clr_character_flag = chuseok_ssireum_endurance
		clr_character_flag = chuseok_ssireum_seduction
		clr_character_flag = chuseok_ssireum_strength
		clr_character_flag = coming_to_chuseok
		clr_character_flag = do_not_disturb
		clr_character_flag = guest_chuseok_started
		clr_character_flag = host_chuseok_started
		clr_character_flag = lavishly_food
		clr_character_flag = low_food
		clr_character_flag = medium_food
		clr_character_flag = recent_chuseok
		clr_character_flag = sent_invitations
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_1 # Let's get to it!
		
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = { id = chuseok.2 days = 2 } # Tend to tombs?
				}
				50 = {
					character_event = { id = chuseok.3 days = 2 } # Leave offerings to ancestors?
				}
			}
			character_event = { id = chuseok.4 days = 4 } # Prepare Songpyeon?
			random_list = {
				50 = {
					character_event = { id = chuseok.5 days = 6 } # Prepare Hangwa?
				}
				50 = {
					character_event = { id = chuseok.6 days = 6 } # Prepare drinks?
				}
			}
			character_event = { id = chuseok.7 days = 8 } # General food preparations
			character_event = { id = chuseok.8 days = 10 } # Invitations
		}
	}
}

# Help locals tend to tombs?
character_event = {
	id = chuseok.2
	desc = EVTDESC_CHUSEOK_2
	picture = GFX_evt_tribal_shrine
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_2 # I will make every effort to help!
		
		piety = 25
		if = {
			limit = {
				lifestyle_traits < 1
				is_adult = yes
			}
			random = {
				chance = 5
				add_trait = gardener
			}
		}
		if = {
			limit = {
				trait = slothful
			}
			remove_trait = slothful
		}
		else_if = {
			limit = {
				NOT = {
					trait = diligent
				}
			}
			random = {
				chance = 15
				add_trait = diligent
			}
		}
		if = {
			limit = {
				trait = cynical
			}
			remove_trait = cynical
		}
		else_if = {
			limit = {
				NOT = {
					trait = zealous
				}
			}
			random = {
				chance = 15
				add_trait = zealous
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
				NOR = {
					trait = diligent
					trait = gardener
				}
			}
			modifier = {
				factor = 0.1
				trait = cynical
				OR = {
					trait = diligent
					trait = gardener
				}
			}
			modifier = {
				factor = 0.1
				trait = slothful
				OR = {
					trait = zealous
					trait = gardener
				}
			}
			modifier = {
				factor = 0
				trait = slothful
				NOR = {
					trait = zealous
					trait = gardener
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_2 # I will do what's required...
		
		piety = 10
		
		if = {
			limit = {
				trait = slothful
			}
			remove_trait = slothful
		}
		else_if = {
			limit = {
				NOT = {
					trait = diligent
				}
			}
			random = {
				chance = 15
				add_trait = diligent
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
				NOR = {
					trait = diligent
					trait = gardener
				}
			}
			modifier = {
				factor = 0.1
				trait = cynical
				OR = {
					trait = diligent
					trait = gardener
				}
			}
			modifier = {
				factor = 0.1
				trait = slothful
				OR = {
					trait = zealous
					trait = gardener
				}
			}
			modifier = {
				factor = 0
				trait = slothful
				NOR = {
					trait = zealous
					trait = gardener
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_CHUSEOK_2 # I can send some servants...
		
		piety = -5
		wealth = -5
		
		if = {
			limit = {
				trait = diligent
			}
			remove_trait = diligent
		}
		else_if = {
			limit = {
				NOT = {
					trait = slothful
				}
			}
			random = {
				chance = 15
				add_trait = slothful
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
				NOT = {
					trait = slothful
				}
			}
			modifier = {
				factor = 0
				trait = diligent
				NOT = {
					trait = cynical
				}
			}
		}
	}
	
	option = {
		name = EVTOPTD_CHUSEOK_2 # Why bother?
		
		piety = -10
		
		if = {
			limit = {
				trait = zealous
			}
			remove_trait = zealous
		}
		else_if = {
			limit = {
				NOT = {
					trait = cynical
				}
			}
			random = {
				chance = 15
				add_trait = cynical
			}
		}
		if = {
			limit = {
				trait = diligent
			}
			remove_trait = diligent
		}
		else_if = {
			limit = {
				NOT = {
					trait = slothful
				}
			}
			random = {
				chance = 15
				add_trait = slothful
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
			}
			modifier = {
				factor = 0.1
				trait = diligent
				NOT = {
					trait = cynical
				}
			}
		}
	}
}

# Leave offerings to ancestors?
character_event = {
	id = chuseok.3
	desc = EVTDESC_CHUSEOK_3
	picture = GFX_evt_tribal_shrine
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_3 # Grand offerings shall be made!
		
		piety = 25
		wealth = -10
		
		if = {
			limit = {
				trait = greedy
			}
			remove_trait = greedy
		}
		else_if = {
			limit = {
				NOT = {
					trait = charitable
				}
			}
			random = {
				chance = 15
				add_trait = charitable
			}
		}
		if = {
			limit = {
				trait = cynical
			}
			remove_trait = cynical
		}
		else_if = {
			limit = {
				NOT = {
					trait = zealous
				}
			}
			random = {
				chance = 15
				add_trait = zealous
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
				NOT = {
					trait = charitable
				}
			}
			modifier = {
				factor = 0.1
				trait = cynical
				trait = charitable
			}
			modifier = {
				factor = 0.1
				trait = greedy
				trait = zealous
			}
			modifier = {
				factor = 0
				trait = greedy
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_3 # A small offering would be worthwhile...
		
		piety = 10
		wealth = -5
		
		if = {
			limit = {
				trait = greedy
			}
			remove_trait = greedy
		}
		else_if = {
			limit = {
				NOT = {
					trait = charitable
				}
			}
			random = {
				chance = 15
				add_trait = charitable
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
				NOT = {
					trait = charitable
				}
			}
			modifier = {
				factor = 0.1
				trait = cynical
				trait = charitable
			}
			modifier = {
				factor = 0.1
				trait = greedy
				trait = zealous
			}
			modifier = {
				factor = 0
				trait = greedy
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_CHUSEOK_3 # Why bother?
		
		piety = -10
		
		if = {
			limit = {
				trait = zealous
			}
			remove_trait = zealous
		}
		else_if = {
			limit = {
				NOT = {
					trait = cynical
				}
			}
			random = {
				chance = 15
				add_trait = cynical
			}
		}
		if = {
			limit = {
				trait = charitable
			}
			remove_trait = charitable
		}
		else_if = {
			limit = {
				NOT = {
					trait = greedy
				}
			}
			random = {
				chance = 15
				add_trait = greedy
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
			}
			modifier = {
				factor = 0.1
				trait = charitable
				NOT = {
					trait = cynical
				}
			}
		}
	}
}

# Prepare Songpyeon for everyone?
character_event = {
	id = chuseok.4
	desc = EVTDESC_CHUSEOK_4
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_4 # I will prepare quite a few extra!
		
		set_character_flag = chuseok_extra_songpyeon
		
		piety = 25
		wealth = -10
		
		if = {
			limit = {
				trait = temperate
			}
			remove_trait = temperate
		}
		else_if = {
			limit = {
				NOT = {
					trait = gluttonous
				}
			}
			random = {
				chance = 15
				add_trait = gluttonous
			}
		}
		if = {
			limit = {
				trait = cynical
			}
			remove_trait = cynical
		}
		else_if = {
			limit = {
				NOT = {
					trait = zealous
				}
			}
			random = {
				chance = 15
				add_trait = zealous
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
				NOT = {
					trait = gluttonous
				}
			}
			modifier = {
				factor = 0.1
				trait = cynical
				trait = gluttonous
			}
			modifier = {
				factor = 0.1
				trait = temperate
				trait = zealous
			}
			modifier = {
				factor = 0
				trait = temperate
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_4 # Prepare enough for everyone!
		
		set_character_flag = chuseok_enough_songpyeon
		
		piety = 10
		wealth = -5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
				NOT = {
					trait = gluttonous
				}
			}
			modifier = {
				factor = 0.1
				trait = gluttonous
				trait = zealous
			}
			modifier = {
				factor = 0.1
				trait = temperate
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_CHUSEOK_4 # Why bother?
		
		set_character_flag = chuseok_no_songpyeon
		
		piety = -10
		
		if = {
			limit = {
				trait = gluttonous
			}
			remove_trait = gluttonous
		}
		else_if = {
			limit = {
				NOT = {
					trait = temperate
				}
			}
			random = {
				chance = 15
				add_trait = temperate
			}
		}
		if = {
			limit = {
				trait = zealous
			}
			remove_trait = zealous
		}
		else_if = {
			limit = {
				NOT = {
					trait = cynical
				}
			}
			random = {
				chance = 15
				add_trait = cynical
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
			}
			modifier = {
				factor = 0.1
				trait = gluttonous
				NOT = {
					trait = cynical
				}
			}
		}
	}
}

# Prepare Hangwa for everyone?
character_event = {
	id = chuseok.5
	desc = EVTDESC_CHUSEOK_5
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_5 # I will prepare quite a few extra!
		
		set_character_flag = chuseok_extra_hangwa
		
		piety = 25
		wealth = -10
		
		if = {
			limit = {
				trait = temperate
			}
			remove_trait = temperate
		}
		else_if = {
			limit = {
				NOT = {
					trait = gluttonous
				}
			}
			random = {
				chance = 15
				add_trait = gluttonous
			}
		}
		if = {
			limit = {
				trait = cynical
			}
			remove_trait = cynical
		}
		else_if = {
			limit = {
				NOT = {
					trait = zealous
				}
			}
			random = {
				chance = 15
				add_trait = zealous
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
				NOT = {
					trait = gluttonous
				}
			}
			modifier = {
				factor = 0.1
				trait = cynical
				trait = gluttonous
			}
			modifier = {
				factor = 0.1
				trait = temperate
				trait = zealous
			}
			modifier = {
				factor = 0
				trait = temperate
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_5 # Prepare enough for everyone!
		
		set_character_flag = chuseok_enough_hangwa
		
		piety = 10
		wealth = -5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
				NOT = {
					trait = gluttonous
				}
			}
			modifier = {
				factor = 0.1
				trait = gluttonous
				trait = zealous
			}
			modifier = {
				factor = 0.1
				trait = temperate
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_CHUSEOK_5 # Why bother?
		
		set_character_flag = chuseok_no_hangwa
		
		piety = -10
		
		if = {
			limit = {
				trait = gluttonous
			}
			remove_trait = gluttonous
		}
		else_if = {
			limit = {
				NOT = {
					trait = temperate
				}
			}
			random = {
				chance = 15
				add_trait = temperate
			}
		}
		if = {
			limit = {
				trait = zealous
			}
			remove_trait = zealous
		}
		else_if = {
			limit = {
				NOT = {
					trait = cynical
				}
			}
			random = {
				chance = 15
				add_trait = cynical
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
			}
			modifier = {
				factor = 0.1
				trait = gluttonous
				NOT = {
					trait = cynical
				}
			}
		}
	}
}

# Prepare drinks for everyone?
character_event = {
	id = chuseok.6
	desc = EVTDESC_CHUSEOK_6
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_6 # I will prepare quite a few extra!
		
		set_character_flag = chuseok_extra_drinks
		
		piety = 25
		wealth = -10
		
		if = {
			limit = {
				trait = temperate
			}
			remove_trait = temperate
		}
		if = {
			limit = {
				trait = cynical
			}
			remove_trait = cynical
		}
		else_if = {
			limit = {
				NOT = {
					trait = zealous
				}
			}
			random = {
				chance = 15
				add_trait = zealous
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
				NOR = {
					trait = drunkard
					trait = hedonist
				}
			}
			modifier = {
				factor = 0.1
				trait = cynical
				OR = {
					trait = drunkard
					trait = hedonist
				}
			}
			modifier = {
				factor = 0.1
				trait = temperate
				trait = zealous
			}
			modifier = {
				factor = 0
				trait = temperate
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_6 # Prepare enough for everyone!
		
		set_character_flag = chuseok_enough_drinks
		
		piety = 10
		wealth = -5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
				NOR = {
					trait = drunkard
					trait = hedonist
				}
			}
			modifier = {
				factor = 0.1
				OR = {
					trait = drunkard
					trait = hedonist
				}
				trait = zealous
			}
			modifier = {
				factor = 0.1
				trait = temperate
				NOT = {
					trait = zealous
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_CHUSEOK_6 # Why bother?
		
		set_character_flag = chuseok_no_drinks
		
		piety = -10
		
		if = {
			limit = {
				NOT = {
					trait = temperate
				}
			}
			random = {
				chance = 15
				add_trait = temperate
			}
		}
		if = {
			limit = {
				trait = zealous
			}
			remove_trait = zealous
		}
		else_if = {
			limit = {
				NOT = {
					trait = cynical
				}
			}
			random = {
				chance = 15
				add_trait = cynical
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
			}
			modifier = {
				factor = 0.1
				OR = {
					trait = drunkard
					trait = hedonist
				}
				NOT = {
					trait = cynical
				}
			}
		}
	}
}

# Food preparations - copied from vanilla
character_event = {
	id = chuseok.7
	desc = EVTDESC_CHUSEOK_7
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy

	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	is_triggered_only = yes

	trigger = {
		has_character_modifier = chuseok_in_progress
		NOT = {
			has_character_flag = lavishly_food
		}
		NOT = {
			has_character_flag = medium_food
		}
		NOT = {
			has_character_flag = low_food
		}
	}

	option = {
		name = "EVTOPTA72003" #Spend lavishly on food
		gain_weight_small_effect = yes
		weight_trait_check_effect = yes
		trigger = { NOT = { trait = temperate } }
		ai_chance = {

			factor = 30

			modifier = {
				factor = 0.5
				trait = greedy
			}
			modifier = {
				factor = 3
				trait = gluttonous
			}
			modifier = {
				factor = 0.1
				trait = temperate
			}
			modifier = {
				factor = 2
				primary_title = { higher_tier_than = DUKE }
			}
		}
		set_character_flag = lavishly_food
		treasury = -20
		prestige = 10
	}
	option = {
		name = "EVTOPTB72003" #Spend medium on food
		ai_chance = {
			factor = 30

			modifier = {
				factor = 0.5
				NOT = { trait = greedy }
			}
			modifier = {
				factor = 2
				NOT = { trait = gluttonous }
			}
			modifier = {
				factor = 2
				primary_title = { tier = DUKE }
			}
		}
		set_character_flag = medium_food
		treasury = -10
	}
	option = {
		name = "EVTOPTC72003" #Spend low on food
		trigger = { NOT = { trait = gluttonous } }
		ai_chance = {
			factor = 30

			modifier = {
				factor = 2.5
				trait = greedy
			}
			modifier = {
				factor = 0.1
				trait = gluttonous
			}
			modifier = {
				factor = 2
				primary_title = { tier = COUNT }
			}
		}
		set_character_flag = low_food
		treasury = -5
		prestige = -5
	}
}

# Time to send out invitations
character_event = {
	id = chuseok.8
	desc = EVTDESC_CHUSEOK_8
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		has_character_modifier = chuseok_in_progress
		OR = {
			has_character_flag = lavishly_food
			has_character_flag = medium_food
			has_character_flag = low_food
		}
		NOT = {
			has_character_flag = sent_invitations
		}
	}
	
	option = {
		name = "EVTOPTA72010"
		set_character_flag = sent_invitations
		custom_tooltip = {
			text = EVTTOOLTIP1_RoI_1000
		}
		hidden_tooltip = {
			character_event = { id = chuseok.11 days = 10 } # Start of Chuseok
			any_vassal = {
				limit = {
					NOT = { is_inaccessible_trigger = yes }
					prisoner = no
					NOT = { has_character_flag = do_not_disturb }
					NOT = { trait = incapable }
					NOT = { has_character_modifier = chuseok_in_progress }
					war = no
					is_adult = yes
					NOT = {
						trait = treasure_fleet_preparation
					}
				}
				letter_event = {
					id = chuseok.9
					days = 2
					#tooltip = "EVTTOOLTIP72011"
				}
			}
		}
	}
}

# Vassal gets invitation
letter_event = {
	id = chuseok.9
	desc = EVTDESC_CHUSEOK_9

	is_triggered_only = yes

	trigger = { NOT = { is_inaccessible_trigger = yes } }

	option = {
		name = EVTOPTA_CHUSEOK_9 # Travel to the Chuseok
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				opinion = { who = from value = -40 }
			}
			modifier  = {
				factor = 2
				opinion = { who = from value = -20 }
			}
		}
		set_character_flag = coming_to_chuseok
		set_character_flag = do_not_disturb
	}
	option = {
		name = EVTOPTB_CHUSEOK_9 # Refuse
		ai_chance = {
			factor = 1
			modifier  = {
				factor = 2
				NOT = { opinion = { who = from value = -60 } }
			}
			modifier  = {
				factor = 2
				NOT = { opinion = { who = from value = -80 } }
			}
		}
		FROM = {
			letter_event = {
				id = chuseok.10
				days = 1
				random = 2
				tooltip = "EVTTOOLTIP72012"
			}
		}
	}
}

# Vassal refused invitation
letter_event = {
	id = chuseok.10
	desc = EVTDESC_CHUSEOK_10

	is_triggered_only = yes

	option = {
		name = "EVTOPTA72012"
		opinion = {
			modifier = opinion_dislike
			who = FROM
			years = 10
		}
	}
}

#### Start of Chuseok

# Start of Chuseok - host
character_event = {
	id = chuseok.11
	desc = EVTDESC_CHUSEOK_11
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_11 # Welcome!
		
		set_character_flag = host_chuseok_started
		
		hidden_tooltip = {
			# Welcome the guests
			any_vassal = {
				limit = {
					has_character_flag = coming_to_chuseok
				}
				set_character_flag = guest_chuseok_started
			}
			any_vassal = {
				limit = {
					ai = no # No need to spam the AI
					has_character_flag =  coming_to_chuseok
				}
				character_event = { id = chuseok.12 }
			}
			
			# Event selection
			character_event = { id = chuseok.13 days = 2 }
		}
	}
}

# Start of Chuseok - guests
character_event = {
	id = chuseok.12
	desc = EVTDESC_CHUSEOK_12
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_12 # This should be fun!
	}
}

##### Event selection + event groups 1

# Event selection 1
character_event = {
	id = chuseok.13
	hide_window = yes

	is_triggered_only = yes

	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	immediate = {
		# Food complaints - based on vanilla
		random_list = {
			10 = { #Lavish food (vassal)
				modifier = {
					factor = 0
					NOR = {
						has_character_flag = lavishly_food
						any_vassal = {
							has_character_flag = coming_to_chuseok
							war = no
						}
					}
				}
				any_vassal = {
					limit = { 
						has_character_flag = coming_to_chuseok
						war = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					character_event = { id = chuseok.14 days = 1 } # High food
				}
			}
			10 = { #Medium food (vassal)
				modifier = {
					factor = 0
					NOR = {
						has_character_flag = medium_food
						any_vassal = {
							has_character_flag = coming_to_chuseok
							war = no
						}
					}
				}
				any_vassal = {
					limit = { 
						has_character_flag = coming_to_chuseok
						war = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					character_event = { id = chuseok.15 days = 1 } # Medium food
				}
			}
			10 = { #Low food (vassal)
				modifier = {
					factor = 0
					NOR = {
						has_character_flag = low_food
						any_vassal = {
							has_character_flag = coming_to_chuseok
							war = no
						}
					}
				}
				any_vassal = {
					limit = { 
						has_character_flag = coming_to_chuseok
						war = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					character_event = { id = chuseok.16 days = 1 } # Low food
				}
			}
		}
		# Juldarigiri
		character_event = { id = chuseok.19 days = 2 random = 1 } # Host start
		
		# Random events
		random_list = {
			25 = {
				modifier = {
					factor = 0
					NOT = {
						any_vassal = {
							count = 2
							has_character_flag = coming_to_chuseok
							war = no
						}
					}
				}
				any_vassal = {
					limit = { 
						has_character_flag = coming_to_chuseok
						war = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_friend
					ROOT = {
						any_vassal = {
							limit = { 
								has_character_flag = coming_to_chuseok
								war = no
								NOR = {
									character = event_target:chuseok_friend
									any_friend = {
										character = event_target:chuseok_friend
									}
								}
							}
							score_value = { #Prioritizes selecting an interesting courtier...
								value = 10
								interesting_courtier_selection_score = yes
							}
							character_event = { id = chuseok.35 days = 10 random = 2 } # Possible friendship
						}
					}
				}
			}
			25 = {
				modifier = {
					factor = 0
					NOT = {
						any_vassal = {
							count = 2
							has_character_flag = coming_to_chuseok
							war = no
						}
					}
				}
				any_vassal = {
					limit = { 
						has_character_flag = coming_to_chuseok
						war = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_rival
					ROOT = {
						any_vassal = {
							limit = { 
								has_character_flag = coming_to_chuseok
								war = no
								NOR = {
									character = event_target:chuseok_rival
									any_rival = {
										character = event_target:chuseok_rival
									}
								}
							}
							score_value = { #Prioritizes selecting an interesting courtier...
								value = 10
								interesting_courtier_selection_score = yes
							}
							character_event = { id = chuseok.39 days = 10 random = 2 } # Possible rivalry
						}
					}
				}
			}
			25 = {
				random_list = {
					50 = {
						character_event = { id = chuseok.41 days = 10 random = 2 }
					}
					50 = {
						modifier = {
							factor = 0
							NOT = {
								any_vassal = {
									has_character_flag = coming_to_chuseok
									war = no
								}
							}
						}
						any_vassal = {
							limit = { 
								has_character_flag = coming_to_chuseok
								war = no
								is_adult = yes
							}
							random = {
								chance = 25
								character_event = { id = chuseok.41 days = 10 random = 2 } # Harvest discussion
							}
						}
					}
				}
			}
			25 = {
				random_list = {
					50 = {
						modifier = {
							factor = 0
							OR = {
								NOT = {
									culture_group = koreanic
								}
								religion = korean_pagan
								religion = korean_pagan_reformed
								trait = zealous
								can_have_chinese_imperial_trigger = no
								controls_religion = yes
							}
						}
						if = {
							limit = {
								has_global_flag = korean_reformation
							}
							character_event = { id = chuseok.49 days = 10 random = 2 } # Convert to reformed Muist?
						}
						else = {
							character_event = { id = chuseok.50 days = 10 random = 2 } # Convert to Muist?
						}
					}
					50 = {
						modifier = {
							factor = 0
							NOT = {
								any_vassal = {
									has_character_flag = coming_to_chuseok
									war = no
									culture_group = koreanic
									NOR = {
										religion = korean_pagan
										religion = korean_pagan_reformed
										trait = zealous
									}
									can_have_chinese_imperial_trigger = yes
									controls_religion = yes
								}
							}
						}
						any_vassal = {
							limit = { 
								has_character_flag = coming_to_chuseok
								war = no
								culture_group = koreanic
								NOR = {
									religion = korean_pagan
									religion = korean_pagan_reformed
									trait = zealous
								}
								can_have_chinese_imperial_trigger = yes
								controls_religion = yes
							}
							score_value = { #Prioritizes selecting an interesting courtier...
								value = 10
								interesting_courtier_selection_score = yes
							}
							if = {
								limit = {
									has_global_flag = korean_reformation
								}
								character_event = { id = chuseok.49 days = 10 random = 2 } # Convert to reformed Muist?
							}
							else = {
								character_event = { id = chuseok.50 days = 10 random = 2 } # Convert to Muist?
							}
						}
					}
				}
			}
			25 = {
				random_list = {
					50 = {
						modifier = {
							factor = 0
							OR = {
								NOR = {
									can_have_chinese_imperial_trigger = yes
									AND = {
										culture_group = japonic
										religion = shinto
										controls_religion = no # If relevant
									}
								}
								religion = buddhist
								trait = zealous
								controls_religion = yes
							}
						}
						character_event = { id = chuseok.51 days = 10 random = 2 } # Convert to Buddhist?
					}
					50 = {
						modifier = {
							factor = 0
							NOT = {
								any_vassal = {
									has_character_flag = coming_to_chuseok
									war = no
									OR = {
										can_have_chinese_imperial_trigger = yes
										AND = {
											culture_group = japonic
											religion = shinto
											controls_religion = no # If relevant
										}
									}
									NOR = {
										religion = buddhist
										trait = zealous
										controls_religion = yes
									}
								}
							}
						}
						any_vassal = {
							limit = { 
								has_character_flag = coming_to_chuseok
								war = no
								OR = {
									can_have_chinese_imperial_trigger = yes
									AND = {
										culture_group = japonic
										religion = shinto
										controls_religion = no # If relevant
									}
								}
								NOR = {
									religion = buddhist
									trait = zealous
									controls_religion = yes
								}
							}
							score_value = { #Prioritizes selecting an interesting courtier...
								value = 10
								interesting_courtier_selection_score = yes
							}
							character_event = { id = chuseok.51 days = 10 random = 2 } # Convert to Buddhist?
						}
					}
				}
			}
			1 = { # Rarer!
				random_list = {
					50 = {
						modifier = {
							factor = 0
							OR = {
								can_have_chinese_imperial_trigger = yes
								religion = taoist
								trait = zealous
								controls_religion = yes
							}
						}
						character_event = { id = chuseok.52 days = 10 random = 2 } # Convert to Taoist?
					}
					50 = {
						modifier = {
							factor = 0
							NOT = {
								any_vassal = {
									has_character_flag = coming_to_chuseok
									war = no
									can_have_chinese_imperial_trigger = yes
									NOR = {
										religion = taoist
										trait = zealous
										controls_religion = yes
									}
								}
							}
						}
						any_vassal = {
							limit = { 
								has_character_flag = coming_to_chuseok
								war = no
								can_have_chinese_imperial_trigger = yes
								NOR = {
									religion = taoist
									trait = zealous
									controls_religion = yes
								}
							}
							score_value = { #Prioritizes selecting an interesting courtier...
								value = 10
								interesting_courtier_selection_score = yes
							}
							character_event = { id = chuseok.52 days = 10 random = 2 } # Convert to Taoist?
						}
					}
				}
			}
			50 = {} # Nothing
		}
		
		# On to the next event group
		character_event = { id = chuseok.53 days = 15 }
	}
}

### Food complaints - based on vanilla

# Lavish Food
character_event = {
	id = chuseok.14
	desc = EVTDESC_CHUSEOK_14
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		FROM = {
			has_character_modifier = chuseok_in_progress
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_14 # Approve publicly
		trigger = {
			NOT = { trait = temperate }
		}
		gain_weight_small_effect = yes
		weight_trait_check_effect = yes
		ai_chance = {
			factor = 40

			modifier = {
				factor = 5
				trait = gluttonous
			}
		}
		FROM = {
			character_event = { id = chuseok.17 }
		}
	}
	option = {
		name = EVTOPTB_CHUSEOK_14 # Disapprove
		trigger = {
			NOT = { trait = gluttonous }
		}
		ai_chance = {
			factor = 20

			modifier = {
				factor = 5
				trait = temperate
			}
		}
		FROM = {
			character_event = { id = chuseok.18 }
		}
	}
	option = {
		name = EVTOPTC_CHUSEOK_14 # Say nothing
		prestige = -10
	}
}

# Medium Food
character_event = {
	id = chuseok.15
	desc = EVTDESC_CHUSEOK_15
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		FROM = {
			has_character_modifier = chuseok_in_progress
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_15 # Approve publicly
		FROM = {
			character_event = { id = chuseok.17 }
		}
	}
	option = {
		name = EVTOPTB_CHUSEOK_15 # Disapprove publicly
		FROM = {
			character_event = { id = chuseok.18 }
		}
	}
	option = {
		name = EVTOPTC_CHUSEOK_15 # Say nothing
		prestige = -10
	}
}

# Low Food
character_event = {
	id = chuseok.16
	desc = EVTDESC_CHUSEOK_16
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		FROM = {
			has_character_modifier = chuseok_in_progress
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_16 # Approve publicly
		trigger = {
			NOT = { trait = gluttonous }
		}
		ai_chance = {
			factor = 20

			modifier = {
				factor = 5
				trait = temperate
			}
		}
		FROM = {
			character_event = { id = chuseok.17 }
		}
	}
	option = {
		name = EVTOPTB_CHUSEOK_16 # Disapprove publicly
		trigger = {
			NOT = { trait = temperate }
		}
		ai_chance = {
			factor = 40

			modifier = {
				factor = 5
				trait = gluttonous
			}
		}
		FROM = {
			character_event = { id = chuseok.18 }
		}
	}
	option = {
		name = EVTOPTC_CHUSEOK_16 # Say nothing
		prestige = -10
	}
}

# Liege is glad you liked the food at the feast
character_event = {
	id = chuseok.17
	desc = EVTDESC_CHUSEOK_17
	picture = GFX_evt_feast

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_17 # Good!
		opinion = {
			modifier = opinion_happy
			who = FROM
			years = 10
		}
		reverse_opinion = {
			modifier = opinion_approves
			who = FROM
			years = 10
		}
	}
}

# Liege dislikes you complaining about the food at the feast
character_event = {
	id = chuseok.18
	desc = EVTDESC_CHUSEOK_18
	picture = GFX_evt_feast

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_18 # Shut up!
		opinion = {
			modifier = opinion_irritated
			who = FROM
			years = 10
		}
		reverse_opinion = {
			modifier = opinion_disapprove
			who = FROM
			years = 10
		}
	}
}

### Juldarigiri

# Rig the contest or not?
character_event = {
	id = chuseok.19
	desc = EVTDESC_CHUSEOK_19
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	immediate = {
		any_vassal = {
			limit = { 
				has_character_flag = coming_to_chuseok
				war = no
			}
			score_value = { #Prioritizes selecting an interesting courtier...
				value = 10
				interesting_courtier_selection_score = yes
			}
			character_event = { id = chuseok.20 days = 1 } # Juldarigiri complainer
		}
		any_vassal = {
			limit = { 
				has_character_flag = coming_to_chuseok
				war = no
				is_adult = yes
			}
			score_value = { #Prioritizes selecting an interesting courtier...
				value = 10
				interesting_courtier_selection_score = yes
			}
			character_event = { id = chuseok.22 days = 3 } # Juldarigiri innuendo
		}
		character_event = { id = chuseok.24 days = 5 } # Determine outcome
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_19 # Rigging the contest is normal!
		
		prestige = -10
		
		set_character_flag = chuseok_rigged_juldarigiri
		
		if = {
			limit = {
				trait = honest
			}
			random = {
				chance = 5
				remove_trait = honest
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = honest
			}
			modifier = {
				factor = 0.1
				trait = just
			}
			modifier = {
				factor = 0.1
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_19 # Rigging the contest is wrong!
		
		piety = 10
		
		set_character_flag = chuseok_not_rigged_juldarigiri
		
		if = {
			limit = {
				trait = deceitful
			}
			random = {
				chance = 5
				remove_trait = deceitful
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = deceitful
			}
			modifier = {
				factor = 0.1
				trait = arbitrary
			}
			modifier = {
				factor = 0.1
				trait = cynical
			}
		}
	}
}

# Complain about side?
character_event = {
	id = chuseok.20
	desc = EVTDESC_CHUSEOK_20
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_20 # This is fine!
		
		piety = 10
		
		if = {
			limit = {
				trait = proud
			}
			random = {
				chance = 5
				remove_trait = proud
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = stubborn
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_20 # I want to be on the other side!
		
		piety = -10
		
		FROM = {
			character_event = { id = chuseok.21 days = 1 } # Complaint registered
		}
		
		if = {
			limit = {
				trait = humble
			}
			random = {
				chance = 5
				remove_trait = humble
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = humble
			}
			modifier = {
				factor = 0.1
				trait = shy
			}
		}
	}
}

# Complaints
character_event = {
	id = chuseok.21
	desc = EVTDESC_CHUSEOK_21
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_21 # Oh shut up!
	}
}

# Innuendo
character_event = {
	id = chuseok.22
	desc = EVTDESC_CHUSEOK_22
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_22 # I won't sink that low!
		
		prestige = -10
		
		if = {
			limit = {
				trait = lustful
			}
			random = {
				chance = 5
				remove_trait = lustful
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = lustful
			}
			modifier = {
				factor = 0.1
				trait = seducer
			}
			modifier = {
				factor = 0.1
				trait = seductress
			}
			modifier = {
				factor = 0.1
				trait = hedonist
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_22 # I'll join in!
		
		prestige = 10
		
		if = {
			limit = {
				FROM = {
					any_vassal = { 
						has_character_flag = coming_to_chuseok
						war = no
						is_adult = yes
						NOT = {
							character = ROOT
						}
					}
				}
			}
			FROM = {
				any_vassal = {
					limit = { 
						has_character_flag = coming_to_chuseok
						war = no
						is_adult = yes
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					character_event = { id = chuseok.23 days = 1 } # React to innuendo
				}
			}
		}
		else_if = {
			limit = {
				FROM = {
					is_adult = yes
				}
			}
			FROM = {
				character_event = { id = chuseok.23 days = 1 } # React to innuendo
			}
		}
		
		if = {
			limit = {
				trait = chaste
			}
			random = {
				chance = 5
				remove_trait = chaste
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = chaste
			}
			modifier = {
				factor = 0.1
				trait = shy
			}
			modifier = {
				factor = 0
				trait = celibate
			}
		}
	}
}

# Reaction to innuendo
character_event = {
	id = chuseok.23
	desc = EVTDESC_CHUSEOK_23
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_23 # How crude!
		
		if = {
			limit = {
				trait = lustful
			}
			random = {
				chance = 5
				remove_trait = lustful
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = lustful
			}
			modifier = {
				factor = 0.1
				trait = seducer
			}
			modifier = {
				factor = 0.1
				trait = seductress
			}
			modifier = {
				factor = 0.1
				trait = hedonist
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_23 # I like the way [From.GetSheHe] thinks!
		
		if = {
			limit = {
				is_adult = yes
				is_inaccessible_or_incapable_trigger = no
				OR = {
					AND = {
						is_female = no
						NOT = {
							trait = homosexual
						}
						ROOT = {
							is_female = yes
							NOT = {
								trait = homosexual
							}
						}
					}
					AND = {
						is_female = yes
						NOT = {
							trait = homosexual
						}
						ROOT = {
							is_female = no
							NOT = {
								trait = homosexual
							}
						}
					}
					AND = {
						is_female = yes
						trait = homosexual
						ROOT = {
							is_female = yes
							trait = homosexual
						}
					}
					AND = {
						is_female = no
						trait = homosexual
						ROOT = {
							is_female = no
							trait = homosexual
						}
					}
				}
			}
			character_event = { id = chuseok.29 days = 2 } # Possible tumbling attempt
		}
		
		if = {
			limit = {
				trait = chaste
			}
			random = {
				chance = 5
				remove_trait = chaste
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = chaste
			}
			modifier = {
				factor = 0.1
				trait = shy
			}
			modifier = {
				factor = 0
				trait = celibate
			}
		}
	}
}

# Select outcome - hidden
character_event = {
	id = chuseok.24
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			50 = {
				modifier = {
					factor = 10
					has_character_flag = chuseok_rigged_juldarigiri
					has_game_rule = {
						name = supernatural_events
						value = off
					}
				}
				modifier = {
					factor = 2
					has_character_flag = chuseok_rigged_juldarigiri
					OR = {
						AND = {
							ai = yes
							has_game_rule = {
								name = supernatural_events
								value = unrestricted
							}
						}
						AND = {
							ai = no
							NOT = {
								has_game_rule = {
									name = supernatural_events
									value = off
								}
							}
						}
					}
				}
				character_event = { id = chuseok.25 } # Female win
			}
			50 = {
				modifier = {
					factor = 0.1
					has_character_flag = chuseok_not_rigged_juldarigiri
					OR = {
						AND = {
							ai = yes
							has_game_rule = {
								name = supernatural_events
								value = unrestricted
							}
						}
						AND = {
							ai = no
							NOT = {
								has_game_rule = {
									name = supernatural_events
									value = off
								}
							}
						}
					}
				}
				character_event = { id = chuseok.27 } # Male win
			}
		}
	}
}

# Female win - liege
character_event = {
	id = chuseok.25
	desc = EVTDESC_CHUSEOK_25
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_25 # Great!
		
		prestige = 25
		
		any_vassal = {
			limit = {
				ai = no
				has_character_flag = coming_to_chuseok
			}
			character_event = { id = chuseok.26 }
		}
		
		hidden_tooltip = {
			if = {
				limit = {
					OR = {
						AND = {
							ai = yes
							has_game_rule = {
								name = supernatural_events
								value = unrestricted
							}
						}
						AND = {
							ai = no
							NOT = {
								has_game_rule = {
									name = supernatural_events
									value = off
								}
							}
						}
					}
				}
				random = {
					chance = 25
					random_demesne_province = {
						change_variable = { which = prosperity_value value = 12 }
					}
				}
			}
		}
	}
}

# Female win - guest
character_event = {
	id = chuseok.26
	desc = EVTDESC_CHUSEOK_26
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_26 # Great!
	}
}

# Male win - liege
character_event = {
	id = chuseok.27
	desc = EVTDESC_CHUSEOK_27
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_27 # That's not good...
		
		prestige = -25
		
		any_vassal = {
			limit = {
				ai = no
				has_character_flag = coming_to_chuseok
			}
			character_event = { id = chuseok.28 }
		}
		
		hidden_tooltip = {
			if = {
				limit = {
					OR = {
						AND = {
							ai = yes
							has_game_rule = {
								name = supernatural_events
								value = unrestricted
							}
						}
						AND = {
							ai = no
							NOT = {
								has_game_rule = {
									name = supernatural_events
									value = off
								}
							}
						}
					}
				}
				random = {
					chance = 25
					random_demesne_province = {
						change_variable = { which = prosperity_value value = -12 }
					}
				}
			}
		}
	}
}

# Male win - guest
character_event = {
	id = chuseok.28
	desc = EVTDESC_CHUSEOK_28
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_28 # That's not good...
	}
}

# Innuendo follow-up - approach them?
character_event = {
	id = chuseok.29
	desc = EVTDESC_CHUSEOK_29
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_29 # Yes!
		
		FROMFROM = {
			character_event = { id = chuseok.30 days = 1 } # Other party approached
		}
		
		piety = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROMFROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROMFROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_29 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Target approached
character_event = {
	id = chuseok.30
	desc = EVTDESC_CHUSEOK_30
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_30 # Yes!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		FROM = {
			character_event = { id = chuseok.32 } # FROM informed
		}
		unprotected_sex_effect = yes
		
		piety = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_30 # I don't think so!
		
		FROM = {
			character_event = { id = chuseok.31 } # FROM informed
		}
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Seduction failed
character_event = {
	id = chuseok.31
	desc = EVTDESC_CHUSEOK_31
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_31 # I see...
		
		prestige = -25
	}
}

# Seduction succeeded - lovers?
character_event = {
	id = chuseok.32
	desc = EVTDESC_CHUSEOK_32
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_32 # We should do this again!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		add_lover = FROM
		
		FROM = {
			character_event = { id = chuseok.33 days = 1 } # Inform FROM
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_32 # This shouldn't become a long-term thing...
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		FROM = {
			character_event = { id = chuseok.34 days = 1 } # Inform FROM
		}
	}
}

# Lovers
character_event = {
	id = chuseok.33
	desc = EVTDESC_CHUSEOK_33
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_33 # That's great!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = chuseok.34
	desc = EVTDESC_CHUSEOK_34
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_34 # Perhaps that's for the best...
	}
}

### Friendship

# Possible friendship
character_event = {
	id = chuseok.35
	desc = EVTDESC_CHUSEOK_35
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_35 # Let's be friends!
		
		event_target:chuseok_friend = {
			character_event = { id = chuseok.36 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					opinion = {
						who = event_target:chuseok_friend
						value = 0
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_35 # I don't need another friend!
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				opinion = {
					who = event_target:chuseok_friend
					value = 0
				}
			}
		}
	}
}

# Possible friend gets to respond
character_event = {
	id = chuseok.36
	desc = EVTDESC_CHUSEOK_36
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_36 # Let's be friends!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = chuseok.37 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					opinion = {
						who = FROM
						value = 0
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_36 # I don't need another friend!
		
		prestige = -10
		
		FROM = {
			character_event = { id = chuseok.38 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				opinion = {
					who = FROM
					value = 0
				}
			}
		}
	}
}

# Friends
character_event = {
	id = chuseok.37
	desc = EVTDESC_CHUSEOK_37
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_37 # Great!
		
		add_friend = FROM
	}
}

# Not friends
character_event = {
	id = chuseok.38
	desc = EVTDESC_CHUSEOK_38
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_38 # I see...
		
		prestige = -10
	}
}

### Rivalry

# Possible rivalry
character_event = {
	id = chuseok.39
	desc = EVTDESC_CHUSEOK_39
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_39 # I hate them!
		
		event_target:chuseok_rival = {
			add_rival = ROOT
			character_event = { id = chuseok.40 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				opinion = {
					who = event_target:chuseok_rival
					value = 0
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_39 # I don't need another rival!
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					opinion = {
						who = event_target:chuseok_rival
						value = 0
					}
				}
			}
		}
	}
}

# Rivalry declared
character_event = {
	id = chuseok.40
	desc = EVTDESC_CHUSEOK_40
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_40 # I hate you too!
		
		add_rival = FROM
	}
}

### Harvest discussion

# Take part in a discussion about the harvest?
character_event = {
	id = chuseok.41
	desc = EVTDESC_CHUSEOK_41
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_41 # Sure!
		
		random_list = {
			10 = {
				modifier = {
					factor = 2
					stewardship = 10
				}
				modifier = {
					factor = 2
					stewardship = 15
				}
				modifier = {
					factor = 2
					stewardship = 20
				}
				character_event = { id = chuseok.42 days = 2 } # Discussion goes well - gain prestige
			}
			10 = {
				modifier = {
					factor = 0
					has_education_stewardship_trigger = yes
					NOT = {
						trait = midas_touched
					}
				}
				character_event = { id = chuseok.43 days = 2 } # Discussion goes well - upgrade education
			}
			10 = {
				character_event = { id = chuseok.44 days = 2 } # Discussion goes well - become more Diligent
			}
			100 = {
				character_event = { id = chuseok.45 days = 2 } # Discussion goes okay
			}
			10 = {
				modifier = {
					factor = 0.5
					stewardship = 10
				}
				modifier = {
					factor = 0.5
					stewardship = 15
				}
				modifier = {
					factor = 0
					stewardship = 20
				}
				character_event = { id = chuseok.46 days = 2 } # Discussion goes poorly - lose prestige
			}
			10 = {
				character_event = { id = chuseok.47 days = 2 } # Discussion goes poorly - become more Wroth
			}
			10 = {
				character_event = { id = chuseok.48 days = 2 } # Discussion goes poorly - become less Gregarious
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = slothful
			}
			modifier = {
				factor = 0.1
				trait = content
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_41 # This is not a time for work!
		
		prestige = -10
		
		if = {
			limit = {
				trait = stressed
			}
			remove_trait = stressed
		}
		if = {
			limit = {
				trait = diligent
			}
			random = {
				chance = 15
				remove_trait = diligent
			}
		}
		else = {
			random = {
				chance = 15
				add_trait = slothful
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
			modifier = {
				factor = 0.1
				trait = ambitious
			}
		}
	}
}

# Discussion goes well - gain prestige
character_event = {
	id = chuseok.42
	desc = EVTDESC_CHUSEOK_42
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_42 # Great!
		
		prestige = 50
	}
}

# Discussion goes well - upgrade Stewardship education
character_event = {
	id = chuseok.43
	desc = EVTDESC_CHUSEOK_43
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_43 # Great!
		
		if = {
			limit = {
				trait = fortune_builder
			}
			remove_trait = fortune_builder
			add_trait = midas_touched
		}
		else_if = {
			limit = {
				trait = thrifty_clerk
			}
			remove_trait = thrifty_clerk
			add_trait = fortune_builder
		}
		else = {
			remove_trait = indulgent_wastrel
			add_trait = thrifty_clerk
		}
	}
}

# Discussion goes well - become more Diligent
character_event = {
	id = chuseok.44
	desc = EVTDESC_CHUSEOK_44
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_44 # Great!
		
		if = {
			limit = {
				trait = slothful
			}
			remove_trait = slothful
		}
		else = {
			add_trait = diligent
		}
	}
}

# Discussion goes okay
character_event = {
	id = chuseok.45
	desc = EVTDESC_CHUSEOK_45
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_45 # Could be worse...
	}
}

# Discussion goes poorly - lose prestige
character_event = {
	id = chuseok.46
	desc = EVTDESC_CHUSEOK_46
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_46 # Curses!
		
		prestige = -50
	}
}

# Discussion goes poorly - become more Wroth
character_event = {
	id = chuseok.47
	desc = EVTDESC_CHUSEOK_47
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_47 # Curses!
		
		if = {
			limit = {
				trait = patient
			}
			remove_trait = patient
		}
		else = {
			add_trait = wroth
		}
		if = {
			limit = {
				NOT = {
					trait = stubborn
				}
			}
			random = {
				chance = 5
				add_trait = stubborn
			}
		}
	}
}

# Discussion goes poorly - become less Gregarious
character_event = {
	id = chuseok.48
	desc = EVTDESC_CHUSEOK_48
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_48 # Curses!
		
		if = {
			limit = {
				trait = gregarious
			}
			remove_trait = gregarious
		}
		else = {
			add_trait = shy
		}
	}
}

### Religion conversion

# Muist
character_event = {
	id = chuseok.49
	desc = EVTDESC_CHUSEOK_49
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_49 # I'll become Muist!
		
		religion = korean_pagan
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = {
					culture_group = koreanic
				}
			}
			modifier = {
				factor = 0.1
				NOR = {
					religion = buddhist
					secret_religion = korean_pagan
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				liege = {
					religion = korean_pagan
				}
			}
		}
		name = EVTOPTB_CHUSEOK_49 # I'll become a secret Muist!
		
		set_secret_religion = korean_pagan
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = {
					culture_group = koreanic
				}
			}
			modifier = {
				factor = 0.1
				NOT = {
					religion = buddhist
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_CHUSEOK_49 # I think not!
		
		if = {
			limit = {
				trait = cynical
			}
			remove_trait = cynical
		}
		else = {
			random = {
				chance = 25
				add_trait = zealous
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = cynical
			}
		}
	}
}

# Reformed Muist
character_event = {
	id = chuseok.50
	desc = EVTDESC_CHUSEOK_50
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_50 # I'll become Muist!
		
		religion = korean_pagan_reformed
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = {
					culture_group = koreanic
				}
			}
			modifier = {
				factor = 0.1
				NOR = {
					religion = buddhist
					secret_religion = korean_pagan_reformed
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				liege = {
					religion = korean_pagan_reformed
				}
			}
		}
		name = EVTOPTB_CHUSEOK_50 # I'll become a secret Muist!
		
		set_secret_religion = korean_pagan_reformed
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = {
					culture_group = koreanic
				}
			}
			modifier = {
				factor = 0.1
				NOT = {
					religion = buddhist
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_CHUSEOK_50 # I think not!
		
		if = {
			limit = {
				trait = cynical
			}
			remove_trait = cynical
		}
		else = {
			random = {
				chance = 25
				add_trait = zealous
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = cynical
			}
		}
	}
}

# Buddhist
character_event = {
	id = chuseok.51
	desc = EVTDESC_CHUSEOK_51
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_51 # I'll become Buddhist!
		
		religion = buddhist
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = {
					secret_religion = buddhist
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				liege = {
					religion = buddhist
				}
			}
		}
		name = EVTOPTB_CHUSEOK_51 # I'll become a secret Buddhist!
		
		set_secret_religion = buddhist
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTC_CHUSEOK_51 # I think not!
		
		if = {
			limit = {
				trait = cynical
			}
			remove_trait = cynical
		}
		else = {
			random = {
				chance = 25
				add_trait = zealous
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = cynical
			}
		}
	}
}

# Taoist
character_event = {
	id = chuseok.52
	desc = EVTDESC_CHUSEOK_52
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_52 # I'll become Taoist!
		
		religion = taoist
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.1
				NOT = {
					secret_religion = taoist
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				liege = {
					religion = taoist
				}
			}
		}
		name = EVTOPTB_CHUSEOK_52 # I'll become a secret Taoist!
		
		set_secret_religion = taoist
		
		ai_chance = {
			factor = 10
		}
	}
	
	option = {
		name = EVTOPTC_CHUSEOK_52 # I think not!
		
		if = {
			limit = {
				trait = cynical
			}
			remove_trait = cynical
		}
		else = {
			random = {
				chance = 10 # Intentionally lower
				add_trait = zealous
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = cynical
			}
		}
	}
}

##### Event selection + event groups 2

# Event selection 2
character_event = {
	id = chuseok.53
	hide_window = yes
	
	is_triggered_only = yes

	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	immediate = {
		# Songpyeon
		if = {
			limit = {
				has_character_flag = chuseok_extra_songpyeon
			}
			character_event = { id = chuseok.54 days = 1 } # Extra Songpyeon
		}
		else_if = {
			limit = {
				has_character_flag = chuseok_enough_songpyeon
			}
			character_event = { id = chuseok.56 days = 1 } # Enough Songpyeon
		}
		else_if = {
			limit = {
				has_character_flag = chuseok_no_songpyeon
			}
			character_event = { id = chuseok.57 days = 1 } # No Songpyeon
		}
		
		# Possible romance
		random_list = {
			25 = {
				modifier = {
					factor = 0
					NOT = {
						any_child = {
							age = 11
							NOT = {
								age = 16
							}
							host = {
								character = ROOT
							}
							is_inaccessible_or_incapable_trigger = no
							is_ascetic_trigger = no
						}
					}
				}
				modifier = {
					factor = 0.1
					NOT = {
						any_child = {
							age = 11
							NOT = {
								age = 16
							}
							host = {
								character = ROOT
							}
							is_inaccessible_or_incapable_trigger = no
							is_ascetic_trigger = no
							NOT = {
								has_character_flag = chuseok_child_romance
							}
						}
					}
				}
				random_child = {
					limit = {
						age = 11
						NOT = {
							age = 16
						}
						host = {
							character = ROOT
						}
						is_inaccessible_or_incapable_trigger = no
						is_ascetic_trigger = no
					}
					preferred_limit = {
						NOT = {
							has_character_flag = chuseok_child_romance
						}
					}
					set_character_flag = chuseok_child_romance # Do not clear this!
					character_event = { id = chuseok.59 days = 2 random = 1 } # Child kissing commoner
				}
			}
			50 = {
				random_list = {
					50 = {
						modifier = {
							factor = 0
							NOT = {
								any_vassal = {
									is_adult = yes
									has_character_flag = coming_to_chuseok
									war = no
								}
							}
						}
						any_vassal = {
							limit = {
								is_adult = yes
								has_character_flag = coming_to_chuseok
								war = no
							}
							score_value = { #Prioritizes selecting an interesting courtier...
								value = 10
								interesting_courtier_selection_score = yes
							}
							character_event = { id = chuseok.71 days = 2 random = 2 } # Vassal kisses commoner
						}
					}
				}
				random_list = {
					50 = {
						modifier = {
							factor = 0
							NOT = {
								any_courtier = {
									is_adult = yes
									is_inaccessible_or_incapable_trigger = no
								}
							}
						}
						any_courtier = {
							limit = {
								is_adult = yes
								is_inaccessible_or_incapable_trigger = no
							}
							score_value = { #Prioritizes selecting an interesting courtier...
								value = 10
								interesting_courtier_selection_score = yes
							}
							character_event = { id = chuseok.71 days = 2 random = 1 } # Courtier kisses commoner
						}
					}
				}
			}
			25 = {
				any_courtier_or_vassal = {
					limit = {
						is_adult = yes
						has_character_flag = coming_to_chuseok
						is_inaccessible_or_incapable_trigger = no
						OR = {
							is_landed = no
							AND = {
								has_character_flag = coming_to_chuseok
								war = no
							}
						}
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_tumble_1
					ROOT = {
						any_courtier_or_vassal = {
							limit = {
								is_adult = yes
								is_inaccessible_or_incapable_trigger = no
								OR = {
									is_landed = no
									AND = {
										has_character_flag = coming_to_chuseok
										war = no
									}
								}
								OR = {
									AND = {
										is_female = no
										NOT = {
											trait = homosexual
										}
										event_target:chuseok_tumble_1 = {
											is_female = yes
											NOT = {
												trait = homosexual
											}
										}
									}
									AND = {
										is_female = yes
										NOT = {
											trait = homosexual
										}
										event_target:chuseok_tumble_1 = {
											is_female = no
											NOT = {
												trait = homosexual
											}
										}
									}
									AND = {
										is_female = yes
										trait = homosexual
										event_target:chuseok_tumble_1 = {
											is_female = yes
											trait = homosexual
										}
									}
									AND = {
										is_female = no
										trait = homosexual
										event_target:chuseok_tumble_1 = {
											is_female = no
											trait = homosexual
										}
									}
								}
								NOR = {
									any_friend = {
										character = event_target:chuseok_tumble_1
									}
									any_lover = {
										character = event_target:chuseok_tumble_1
									}
									any_rival = {
										character = event_target:chuseok_tumble_1
									}
									any_spouse = {
										character = event_target:chuseok_tumble_1
									}
									any_consort = {
										character = event_target:chuseok_tumble_1
									}
									any_close_relative = {
										character = event_target:chuseok_tumble_1
									}
								}
							}
							score_value = { #Prioritizes selecting an interesting courtier...
								value = 10
								interesting_courtier_selection_score = yes
							}
							save_event_target_as = chuseok_tumble_2
						}
					}
				}
				event_target:chuseok_tumble_1 = {
					character_event = { id = chuseok.75 days = 2 random = 1 } # Possible tumbling between courtiers/vassals
				}
			}
			50 = {
				# Nothing
			}
		}
		
		# Ssireum 80
		random_list = {
			25 = {
				modifier = {
					factor = 0
					NOT = {
						any_vassal = {
							war = no
							has_character_flag = coming_to_chuseok
							is_adult = yes
						}
					}
				}
				any_vassal = {
					limit = {
						war = no
						has_character_flag = coming_to_chuseok
						is_adult = yes
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_challenger
					character_event = { id = chuseok.81 days = 4 random = 1 } # Vassal might issue a ssireum challenge
				}
			}
			70 = {
				character_event = { id = chuseok.112 days = 6 random = 6 } # Regular ssireum
			}
			5 = {
				character_event = { id = chuseok.114 days = 6 random = 6 } # Commoner distinguishes himself in ssireum - recruit?
			}
		}
		
		# On to the next event group
		character_event = { id = chuseok.115 days = 15 }
	}
}

### Songpyeon

# Extra Songpyeon - liege
character_event = {
	id = chuseok.54
	desc = EVTDESC_CHUSEOK_54
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_54 # That's good!
		
		prestige = 10
		
		gain_weight_small_effect = yes
		
		if = {
			limit = {
				trait = temperate
			}
			random = {
				chance = 5
				remove_trait = temperate
			}
		}
		else_if = {
			limit = {
				NOT = {
					trait = gluttonous
				}
			}
			random = {
				chance = 5
				add_trait = gluttonous
			}
		}
		
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
			}
			opinion = {
				who = ROOT
				modifier = opinion_good_chuseok
			}
			character_event = { id = chuseok.55 } # Inform vassals
		}
	}
}

# Extra Songpyeon - vassals
character_event = {
	id = chuseok.55
	desc = EVTDESC_CHUSEOK_55
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_55 # That's good!
		
		gain_weight_small_effect = yes
		
		if = {
			limit = {
				trait = temperate
			}
			random = {
				chance = 5
				remove_trait = temperate
			}
		}
		else_if = {
			limit = {
				NOT = {
					trait = gluttonous
				}
			}
			random = {
				chance = 5
				add_trait = gluttonous
			}
		}
	}
}

# Enough Songpyeon
character_event = {
	id = chuseok.56
	desc = EVTDESC_CHUSEOK_56
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_56 # Nobody has complained, at least...
	}
}

# No Songpyeon - liege
character_event = {
	id = chuseok.57
	desc = EVTDESC_CHUSEOK_57
	picture = GFX_evt_scandal

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_57 # That's bad...
		
		prestige = -25
		
		lose_weight_small_effect = yes
		
		if = {
			limit = {
				trait = gluttonous
			}
			random = {
				chance = 5
				remove_trait = gluttonous
			}
		}
		else_if = {
			limit = {
				NOT = {
					trait = temperate
				}
			}
			random = {
				chance = 5
				add_trait = temperate
			}
		}
		
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
			}
			opinion = {
				who = ROOT
				modifier = opinion_bad_chuseok
			}
			character_event = { id = chuseok.58 } # Inform vassals
		}
	}
}

# No Songpyeon - vassals
character_event = {
	id = chuseok.58
	desc = EVTDESC_CHUSEOK_58
	picture = GFX_evt_scandal

	only_rulers = yes
	capable_only = yes
	prisoner = no

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_58 # That's bad!
		
		lose_weight_small_effect = yes
		
		if = {
			limit = {
				trait = gluttonous
			}
			random = {
				chance = 5
				remove_trait = gluttonous
			}
		}
		else_if = {
			limit = {
				NOT = {
					trait = temperate
				}
			}
			random = {
				chance = 5
				add_trait = temperate
			}
		}
	}
}

### Child kissing commoner

# Child spots interesting commoner
character_event = {
	id = chuseok.59
	desc = EVTDESC_CHUSEOK_59
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_59 # Give them a kiss!
		
		character_event = { id = chuseok.60 days = 1 } # Follow-up
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.01
				trait = chaste
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_59 # Do nothing!
		
		character_event = { id = chuseok.70 days = 1 } # Follow-up
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = lustful
			}
		}
	}
}

# Child kissed commoner - possibly more Lustful and possibly follow-up
character_event = {
	id = chuseok.60
	desc = EVTDESC_CHUSEOK_60
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_60 # That was nice!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		else = {
			random = {
				chance = 25
				add_trait = lustful
			}
		}
		
		random = {
			chance = 50
			FROMFROM = {
				character_event = { id = chuseok.61 days = 1 } # Liege informed
			}
		}
	}
}

# Your child kissed a commoner - what do?
character_event = {
	id = chuseok.61
	desc = EVTDESC_CHUSEOK_61
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_61 # Make sure it can't happen again!
		
		wealth = -5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = humble
			}
			modifier = {
				factor = 0.1
				trait = lustful
				FROM = {
					is_female = yes
				}
				NOR = {
					has_religion_feature = religion_matriarchal
					has_religion_feature = religion_equal
				}
			}
			modifier = {
				factor = 0.01
				trait = lustful
				FROM = {
					OR = {
						is_female = no
						trait = homosexual
					}
				}
			}
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		trigger = {
			trait = cruel
		}
		name = EVTOPTB_CHUSEOK_61 # Make sure it can't happen again!
		
		piety = -25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = humble
			}
			modifier = {
				factor = 0.1
				trait = lustful
				FROM = {
					is_female = yes
				}
				NOR = {
					has_religion_feature = religion_matriarchal
					has_religion_feature = religion_equal
				}
			}
			modifier = {
				factor = 0.01
				trait = lustful
				FROM = {
					OR = {
						is_female = no
						trait = homosexual
					}
				}
			}
			modifier = {
				factor = 0.01
				NOR = {
					trait = wroth
					trait = arbitrary
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_CHUSEOK_61 # It was probably harmless, and they could use a friend...
		
		prestige = -10
		
		FROM = {
			character_event = { id = chuseok.62 } # Inform child the commoner now lives at court
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.01
				trait = chaste
			}
		}
	}
}

# Your parent allowed the commoner to stay at court - you are now friends (and might become more)
character_event = {
	id = chuseok.62
	desc = EVTDESC_CHUSEOK_62
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_female = no
				NOT = {
					trait = homosexual
				}
			}
			create_character = {
				age = 13
				female = yes
				dynasty = none
				culture = ROOT
				religion = ROOT
				random_traits = no
				trait = fair
				trait = lustful
			}
			new_character = {
				save_event_target_as = chuseok_kisser
			}
		}
		else_if = {
			limit = {
				is_female = yes
				NOT = {
					trait = homosexual
				}
			}
			create_character = {
				age = 13
				female = no
				dynasty = none
				culture = ROOT
				religion = ROOT
				random_traits = no
				trait = fair
				trait = lustful
			}
			new_character = {
				save_event_target_as = chuseok_kisser
			}
		}
		else_if = {
			limit = {
				is_female = yes
				trait = homosexual
			}
			create_character = {
				age = 13
				female = yes
				dynasty = none
				culture = ROOT
				religion = ROOT
				random_traits = no
				trait = fair
				trait = lustful
				trait = homosexual
			}
			new_character = {
				save_event_target_as = chuseok_kisser
			}
		}
		else_if = {
			limit = {
				is_female = no
				trait = homosexual
			}
			create_character = {
				age = 13
				female = no
				dynasty = none
				culture = ROOT
				religion = ROOT
				random_traits = no
				trait = fair
				trait = lustful
				trait = homosexual
			}
			new_character = {
				save_event_target_as = chuseok_kisser
			}
		}
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_62 # That's nice!
		
		add_friend = event_target:chuseok_kisser
		
		character_event = { id = chuseok.63 days = 1095 } # Follow-up
	}
}

# Check to see if both children have become adults (and still are compatible), loop if not
character_event = {
	id = chuseok.63
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				event_target:chuseok_kisser = {
					is_alive = yes
					OR = { # Still compatible
						AND = {
							is_female = no
							NOT = {
								trait = homosexual
							}
							ROOT = {
								is_female = yes
								NOT = {
									trait = homosexual
								}
							}
						}
						AND = {
							is_female = yes
							NOT = {
								trait = homosexual
							}
							ROOT = {
								is_female = no
								NOT = {
									trait = homosexual
								}
							}
						}
						AND = {
							is_female = yes
							trait = homosexual
							ROOT = {
								is_female = yes
								trait = homosexual
							}
						}
						AND = {
							is_female = no
							trait = homosexual
							ROOT = {
								is_female = no
								trait = homosexual
							}
						}
					}
				}
			}
			if = {
				limit = {
					is_adult = yes
					is_inaccessible_or_incapable_trigger = no
					event_target:chuseok_kisser = {
						is_inaccessible_or_incapable_trigger = no
					}
				}
				character_event = { id = chuseok.64 } # Try to become lovers?
			}
			else = {
				repeat_event = { id = chuseok.63 days = 365 } # Try again
			}
		}
	}
}

# You're both adults now and they're still attractive - see if you can become more?
character_event = {
	id = chuseok.64
	desc = EVTDESC_CHUSEOK_64
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_64 # Yes!
		
		FROMFROM = {
			character_event = { id = chuseok.65 days = 1 } # Other party approached
		}
		
		piety = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROMFROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROMFROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_64 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Approached - tumble?
character_event = {
	id = chuseok.65
	desc = EVTDESC_CHUSEOK_65
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_65 # Yes!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		FROM = {
			character_event = { id = chuseok.66 } # FROM informed
		}
		unprotected_sex_effect = yes
		
		piety = -10
		
		add_lover = FROM
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_65 # I don't think so!
		
		FROM = {
			character_event = { id = chuseok.67 } # FROM informed
		}
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Tumbling happened, and you're now lovers
character_event = {
	id = chuseok.66
	desc = EVTDESC_CHUSEOK_66
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_66 # That's great!
		
		add_lover = FROM
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
	}
}

# No tumbling - still friends?
character_event = {
	id = chuseok.67
	desc = EVTDESC_CHUSEOK_67
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_67 # Yes!
		
		FROM = {
			character_event = { id = chuseok.68 days = 1 } # Inform FROM
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_67 # No!
		
		remove_friend = FROM
		
		FROM = {
			leave_court_effect = yes
			character_event = { id = chuseok.69 days = 1 } # Inform FROM
		}
	}
}

# Still friends
character_event = {
	id = chuseok.68
	desc = EVTDESC_CHUSEOK_68
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_68 # That's great!
	}
}

# No longer friends
character_event = {
	id = chuseok.69
	desc = EVTDESC_CHUSEOK_69
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_69 # Perhaps that's for the best...
		
		remove_friend = FROM
	}
}

# No kissing - possibly more Chaste
character_event = {
	id = chuseok.70
	desc = EVTDESC_CHUSEOK_70
	picture = GFX_evt_feast

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_70 # I can wait until marriage!
		
		if = {
			limit = {
				trait = lustful
			}
			remove_trait = lustful
		}
		else = {
			random = {
				chance = 25
				add_trait = chaste
			}
		}
	}
}

### Vassal or courtier kissing commoner

# Vassal/courtier spots interesting commoner
character_event = {
	id = chuseok.71
	desc = EVTDESC_CHUSEOK_71
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_71 # Give them a kiss!
		
		if = {
			limit = {
				NOT = {
					trait = lustful
				}
			}
			character_event = { id = chuseok.72 days = 1 } # Follow-up
		}
		else = {
			character_event = { id = chuseok.73 days = 1 } # Follow-up
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.01
				trait = chaste
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_71 # Do nothing!
		
		character_event = { id = chuseok.74 days = 1 } # Follow-up
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = lustful
			}
		}
	}
}

# Vassal/courtier kissed commoner - possibly more Lustful
character_event = {
	id = chuseok.72
	desc = EVTDESC_CHUSEOK_72
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_72 # That was nice!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		else = {
			random = {
				chance = 25
				add_trait = lustful
			}
		}
	}
}

# Already Lustful - tumble?
character_event = {
	id = chuseok.73
	desc = EVTDESC_CHUSEOK_73
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_female = no
				NOT = {
					trait = homosexual
				}
			}
			create_character = {
				age = 16
				female = yes
				dynasty = none
				culture = ROOT
				religion = ROOT
				random_traits = yes
				trait = fair
				trait = lustful
			}
			new_character = {
				save_event_target_as = chuseok_kisser
			}
		}
		else_if = {
			limit = {
				is_female = yes
				NOT = {
					trait = homosexual
				}
			}
			create_character = {
				age = 16
				female = no
				dynasty = none
				culture = ROOT
				religion = ROOT
				random_traits = yes
				trait = fair
				trait = lustful
			}
			new_character = {
				save_event_target_as = chuseok_kisser
			}
		}
		else_if = {
			limit = {
				is_female = yes
				trait = homosexual
			}
			create_character = {
				age = 16
				female = yes
				dynasty = none
				culture = ROOT
				religion = ROOT
				random_traits = yes
				trait = fair
				trait = lustful
				trait = homosexual
			}
			new_character = {
				save_event_target_as = chuseok_kisser
			}
		}
		else_if = {
			limit = {
				is_female = no
				trait = homosexual
			}
			create_character = {
				age = 16
				female = no
				dynasty = none
				culture = ROOT
				religion = ROOT
				random_traits = yes
				trait = fair
				trait = lustful
				trait = homosexual
			}
			new_character = {
				save_event_target_as = chuseok_kisser
			}
		}
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_73 # Yes, and become lovers!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		event_target:chuseok_kisser = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		unprotected_sex_effect_event_target = yes
		
		ai_chance = {
			factor = 100
			# Riskier for women
			modifier = {
				factor = 0.1
				is_female = yes
				NOT = {
					trait = homosexual
				}
				NOT = {
					age = 45
				}
			}
			modifier = {
				factor = 0.1
				is_female = yes
				NOT = {
					trait = homosexual
				}
				NOT = {
					age = 45
				}
				OR = {
					is_married = yes
					is_consort = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_73 # Yes, but only this once!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		event_target:chuseok_kisser = {
			save_event_target_as = sex_partner
			leave_court_effect = yes
		}
		unprotected_sex_effect_event_target = yes
		
		ai_chance = {
			factor = 100
			# Riskier for women
			modifier = {
				factor = 0.1
				is_female = yes
				NOT = {
					trait = homosexual
				}
				NOT = {
					age = 45
				}
			}
			modifier = {
				factor = 0.1
				is_female = yes
				NOT = {
					trait = homosexual
				}
				NOT = {
					age = 45
				}
				OR = {
					is_married = yes
					is_consort = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_CHUSEOK_73 # No!
		
		event_target:chuseok_kisser = {
			leave_court_and_die_effect = yes
		}
	}
}

# No kissing - possibly more Chaste
character_event = {
	id = chuseok.74
	desc = EVTDESC_CHUSEOK_74
	picture = GFX_evt_feast

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_74 # It would have been foolish!
		
		if = {
			limit = {
				trait = lustful
			}
			remove_trait = lustful
		}
		else = {
			random = {
				chance = 25
				add_trait = chaste
			}
		}
	}
}

### Vassal-vassal/vassal-courtier/courtier-courtier romance opportunity

# Someone is interesting - attempt to tumble?
character_event = {
	id = chuseok.75
	desc = EVTDESC_CHUSEOK_75
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_75 # Yes!
		
		event_target:chuseok_tumble_2 = {
			character_event = { id = chuseok.76 days = 1 } # Other party approached
		}
		
		piety = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				event_target:chuseok_tumble_2 = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				event_target:chuseok_tumble_2 = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_75 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Target approached
character_event = {
	id = chuseok.76
	desc = EVTDESC_CHUSEOK_76
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_76 # Yes!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		FROM = {
			character_event = { id = chuseok.78 } # FROM informed
		}
		unprotected_sex_effect = yes
		
		piety = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_76 # I don't think so!
		
		FROM = {
			character_event = { id = chuseok.77 } # FROM informed
		}
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Seduction failed
character_event = {
	id = chuseok.77
	desc = EVTDESC_CHUSEOK_77
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_77 # I see...
		
		prestige = -25
	}
}

# Seduction succeeded - lovers?
character_event = {
	id = chuseok.78
	desc = EVTDESC_CHUSEOK_78
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_78 # We should do this again!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		add_lover = FROM
		
		FROM = {
			character_event = { id = chuseok.79 days = 1 } # Inform FROM
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_78 # This shouldn't become a long-term thing...
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		FROM = {
			character_event = { id = chuseok.80 days = 1 } # Inform FROM
		}
	}
}

# Lovers
character_event = {
	id = chuseok.79
	desc = EVTDESC_CHUSEOK_79
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_79 # That's great!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = chuseok.80
	desc = EVTDESC_CHUSEOK_80
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_80 # Perhaps that's for the best...
	}
}

### Ssireum - vassal

# Challenger - pick a challengee or abstain
character_event = {
	id = chuseok.81
	desc = EVTDESC_CHUSEOK_81
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		# Select possible opponents
		
		# Opponent 1: Preferably strong and not maimed
		FROM = {
			if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_strong_trigger = yes
						is_maimed_trigger = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_strong_trigger = yes
						is_maimed_trigger = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_1
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_maimed_trigger = no
						is_weak_trigger = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_maimed_trigger = no
						is_weak_trigger = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_1
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_maimed_trigger = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_maimed_trigger = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_1
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_strong_trigger = yes
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_strong_trigger = yes
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_1
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_weak_trigger = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_weak_trigger = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_1
				}
			}
			else = {
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_1
				}
			}
		}
		
		# Opponent 2: Preferably neither thin nor fat
		FROM = {
			if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						NOR = {
							trait = is_fat
							trait = is_malnourished
						}
						is_maimed_trigger = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						NOR = {
							trait = is_fat
							trait = is_malnourished
						}
						is_maimed_trigger = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_2
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_weak_trigger = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_weak_trigger = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_2
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						NOR = {
							trait = is_fat
							trait = is_malnourished
						}
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						is_strong_trigger = yes
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_2
				}
			}
			else = {
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_2
				}
			}
		}
		
		# Opponent 3: Someone you're attracted to, preferably also with compatible orientation, preferably attractive, preferably not married/etc.
		FROM = {
			if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
								trait = homosexual
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
								trait = homosexual
							}
						}
						is_attractive_trigger = yes
						is_unattractive_trigger = no
						is_ascetic_trigger = no
						is_married = no
						is_consort = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
								trait = homosexual
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
								trait = homosexual
							}
						}
						is_attractive_trigger = yes
						is_unattractive_trigger = no
						is_ascetic_trigger = no
						is_married = no
						is_consort = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_3
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
							}
						}
						is_attractive_trigger = yes
						is_unattractive_trigger = no
						is_ascetic_trigger = no
						is_married = no
						is_consort = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
							}
						}
						is_attractive_trigger = yes
						is_unattractive_trigger = no
						is_ascetic_trigger = no
						is_married = no
						is_consort = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_3
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
								trait = homosexual
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
								trait = homosexual
							}
						}
						is_ascetic_trigger = no
						is_married = no
						is_consort = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
								trait = homosexual
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
								trait = homosexual
							}
						}
						is_ascetic_trigger = no
						is_married = no
						is_consort = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_3
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
							}
						}
						is_ascetic_trigger = no
						is_married = no
						is_consort = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
							}
						}
						is_ascetic_trigger = no
						is_married = no
						is_consort = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_3
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
								trait = homosexual
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
								trait = homosexual
							}
						}
						is_attractive_trigger = yes
						is_unattractive_trigger = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
								trait = homosexual
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
								trait = homosexual
							}
						}
						is_attractive_trigger = yes
						is_unattractive_trigger = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_3
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
							}
						}
						is_attractive_trigger = yes
						is_unattractive_trigger = no
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
							}
						}
						is_attractive_trigger = yes
						is_unattractive_trigger = no
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_3
				}
			}
			else_if = {
				limit = {
					any_courtier = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
								trait = homosexual
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
								trait = homosexual
							}
						}
					}
				}
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
								NOT = {
									trait = homosexual
								}
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
								trait = homosexual
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
								trait = homosexual
							}
						}
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_3
				}
			}
			else = {
				any_courtier = {
					limit = {
						is_adult = yes
						is_inaccessible_or_incapable_trigger = no
						OR = {
							AND = {
								ROOT = {
									is_female = no
									NOT = {
										trait = homosexual
									}
								}
								is_female = yes
							}
							AND = {
								ROOT = {
									is_female = yes
									NOT = {
										trait = homosexual
									}
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = no
									trait = homosexual
								}
								is_female = no
							}
							AND = {
								ROOT = {
									is_female = yes
									trait = homosexual
								}
								is_female = yes
							}
						}
					}
					score_value = { #Prioritizes selecting an interesting courtier...
						value = 10
						interesting_courtier_selection_score = yes
					}
					save_event_target_as = chuseok_ssireum_opponent_3
				}
			}
		}
	}
	
	option = {
		trigger = {
			event_target:chuseok_ssireum_opponent_1 = {
				always = yes
			}
		}
		name = EVTOPTA_CHUSEOK_81 # I will pick the first opponent!
		
		event_target:chuseok_ssireum_opponent_1 = {
			character_event = { id = chuseok.82 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				event_target:chuseok_ssireum_opponent_1 = {
					is_strong_trigger = yes
					ROOT = {
						is_weak_trigger = yes
						is_smart_trigger = yes
					}
				}
			}
			modifier = {
				factor = 0.1
				event_target:chuseok_ssireum_opponent_1 = {
					is_strong_trigger = yes
					ROOT = {
						is_weak_trigger = yes
						is_dumb_trigger = no
					}
				}
			}
			modifier = {
				factor = 0.1
				trait = lustful
				event_target:chuseok_ssireum_opponent_3 = {
					always = yes
				}
			}
		}
	}
	
	option = {
		trigger = {
			event_target:chuseok_ssireum_opponent_2 = {
				always = yes
			}
		}
		name = EVTOPTB_CHUSEOK_81 # I will pick the second opponent!
		
		event_target:chuseok_ssireum_opponent_2 = {
			character_event = { id = chuseok.82 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				event_target:chuseok_ssireum_opponent_2 = {
					is_strong_trigger = yes
					ROOT = {
						is_weak_trigger = yes
						is_smart_trigger = yes
					}
				}
			}
			modifier = {
				factor = 0.1
				event_target:chuseok_ssireum_opponent_2 = {
					is_strong_trigger = yes
					ROOT = {
						is_weak_trigger = yes
						is_dumb_trigger = no
					}
				}
			}
			modifier = {
				factor = 0.1
				trait = lustful
				event_target:chuseok_ssireum_opponent_3 = {
					always = yes
				}
			}
		}
	}
	
	option = {
		trigger = {
			event_target:chuseok_ssireum_opponent_3 = {
				always = yes
			}
		}
		name = EVTOPTC_CHUSEOK_81 # I will pick the third opponent!
		
		event_target:chuseok_ssireum_opponent_3 = {
			character_event = { id = chuseok.82 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				event_target:chuseok_ssireum_opponent_3 = {
					is_strong_trigger = yes
					ROOT = {
						is_weak_trigger = yes
						is_smart_trigger = yes
					}
				}
			}
			modifier = {
				factor = 0.1
				event_target:chuseok_ssireum_opponent_3 = {
					is_strong_trigger = yes
					ROOT = {
						is_weak_trigger = yes
						is_dumb_trigger = no
					}
				}
			}
			modifier = {
				factor = 0.1
				trait = chaste
			}
		}
	}
	
	option = {
		name = EVTOPTD_CHUSEOK_81 # Let's not challenge anyone...
		
		prestige = -10
	}
}

# Challengee gets challenge
character_event = {
	id = chuseok.82
	desc = EVTDESC_CHUSEOK_82
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_82 # I accept!
		
		save_event_target_as = chuseok_ssireum_opponent
		FROM = {
			character_event = { id = chuseok.84 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_82 # I refuse!
		
		prestige = -10
		FROM = {
			character_event = { id = chuseok.83 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = brave
			}
		}
	}
}

# Challenge refused
character_event = {
	id = chuseok.83
	desc = EVTDESC_CHUSEOK_83
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_83 # How cowardly...
	}
}

# Challenge accepted
character_event = {
	id = chuseok.84
	desc = EVTDESC_CHUSEOK_84
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_84 # Time to begin, then!
		
		FROMFROMFROM = {
			character_event = { id = chuseok.85 days = 1 } # Inform liege
		}
	}
}

# Liege informed
character_event = {
	id = chuseok.85
	desc = EVTDESC_CHUSEOK_85
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_85 # I'm sure it'll be fun!
		
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
				ai = no
				NOR = {
					character = event_target:chuseok_ssireum_challenger
					character = event_target:chuseok_ssireum_opponent
				}
			}
			character_event = { id = chuseok.86 } # Inform vassals
		}
		
		event_target:chuseok_ssireum_challenger = {
			character_event = { id = chuseok.87 days = 1 } # Time to begin
		}
	}
}

# Vassals informed
character_event = {
	id = chuseok.86
	desc = EVTDESC_CHUSEOK_86
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_86 # I'm sure it'll be fun!
	}
}

# Challenger - how do you plan to fight?
character_event = {
	id = chuseok.87
	desc = EVTDESC_CHUSEOK_87
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		event_target:chuseok_ssireum_opponent = {
			character_event = { id = chuseok.88 } # Opponent also picks
		}
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_87 # I trust my stength!
		
		set_character_flag = chuseok_ssireum_strength
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				is_strong_trigger = yes
			}
			modifier = {
				factor = 0.1
				is_weak_trigger = yes
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_87 # I trust my endurance!
		
		set_character_flag = chuseok_ssireum_endurance
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = is_fat
			}
			modifier = {
				factor = 0.1
				trait = is_malnourished
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				trait = deceitful
				trait = arbitrary
				AND = {
					intrigue = 15
					NOT = {
						trait = honest
					}
				}
			}
			intrigue = 8
		}
		name = EVTOPTC_CHUSEOK_87 # I will trick my opponent!
		
		set_character_flag = chuseok_ssireum_deception
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = deceitful
			}
			modifier = {
				factor = 10
				trait = arbitrary
			}
			modifier = {
				factor = 0.1
				trait = honest
			}
			modifier = {
				factor = 0.1
				trait = just
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = celibate
			}
			OR = {
				AND = {
					prefers_men_trigger = yes
					event_target:chuseok_ssireum_opponent = {
						is_female = no
					}
				}
				AND = {
					prefers_men_trigger = no
					event_target:chuseok_ssireum_opponent = {
						is_female = yes
					}
				}
			}
			OR = {
				NOT = {
					trait = chaste
				}
				trait = seducer
				trait = seductress
			}
		}
		name = EVTOPTD_CHUSEOK_87 # I will seduce my opponent!
		
		set_character_flag = chuseok_ssireum_seduction
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = deceitful
			}
			modifier = {
				factor = 10
				trait = arbitrary
			}
			modifier = {
				factor = 0.1
				trait = honest
			}
			modifier = {
				factor = 0.1
				trait = just
			}
		}
	}
}

# Challengee - how do you plan to fight?
character_event = {
	id = chuseok.88
	desc = EVTDESC_CHUSEOK_88
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		FROMFROM = {
			character_event = { id = chuseok.89 days = 1 } # Ping liege and determine outcome
		}
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_88 # I trust my stength!
		
		set_character_flag = chuseok_ssireum_strength
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				is_strong_trigger = yes
			}
			modifier = {
				factor = 0.1
				is_weak_trigger = yes
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_88 # I trust my endurance!
		
		set_character_flag = chuseok_ssireum_endurance
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = is_fat
			}
			modifier = {
				factor = 0.1
				trait = is_malnourished
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				trait = deceitful
				trait = arbitrary
				AND = {
					intrigue = 15
					NOT = {
						trait = honest
					}
				}
			}
			intrigue = 8
		}
		name = EVTOPTC_CHUSEOK_88 # I will trick my opponent!
		
		set_character_flag = chuseok_ssireum_deception
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = deceitful
			}
			modifier = {
				factor = 10
				trait = arbitrary
			}
			modifier = {
				factor = 0.1
				trait = honest
			}
			modifier = {
				factor = 0.1
				trait = just
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = celibate
			}
			OR = {
				AND = {
					prefers_men_trigger = yes
					event_target:chuseok_ssireum_challenger = {
						is_female = no
					}
				}
				AND = {
					prefers_men_trigger = no
					event_target:chuseok_ssireum_challenger = {
						is_female = yes
					}
				}
			}
			OR = {
				NOT = {
					trait = chaste
				}
				trait = seducer
				trait = seductress
			}
		}
		name = EVTOPTD_CHUSEOK_88 # I will seduce my opponent!
		
		set_character_flag = chuseok_ssireum_seduction
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = deceitful
			}
			modifier = {
				factor = 10
				trait = arbitrary
			}
			modifier = {
				factor = 0.1
				trait = honest
			}
			modifier = {
				factor = 0.1
				trait = just
			}
		}
	}
}

# Ping liege and determine outcome
character_event = {
	id = chuseok.89
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	immediate = {
		# Determine winner
		# Strength > endurance
		# Endurance > deception
		# Deception > strength
		# Seduction > everything if compatible and not Celibate/Chaste and not ugly, < everything otherwise
		# Tiebreakers for strength: Strength, fat/malnourished, PCS
		# Tiebreakers for endurance: Strength, fat/malnourished, PCS
		# Tiebreakers for deception: Intrigue, intelligence, PCS
		# Tiebreakers for seduction: Seducer/Seductress, Attractiveness or lack thereof, Diplomacy, NOT Lustful
		if = {
			limit = {
				event_target:chuseok_ssireum_challenger = {
					has_character_flag = chuseok_ssireum_strength
				}
			}
			if = {
				limit = {
					event_target:chuseok_ssireum_opponent = {
						has_character_flag = chuseok_ssireum_strength
					}
				}
				# Tiebreaker 1: Strength
				if = {
					limit = {
						event_target:chuseok_ssireum_challenger = {
							is_strong_trigger = yes
						}
						event_target:chuseok_ssireum_opponent = {
							is_strong_trigger = no
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_winner
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_loser
					}
				}
				else_if = {
					limit = {
						event_target:chuseok_ssireum_challenger = {
							is_strong_trigger = no
						}
						event_target:chuseok_ssireum_opponent = {
							is_strong_trigger = yes
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_loser
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_winner
					}
				}
				else_if = {
					limit = {
						event_target:chuseok_ssireum_challenger = {
							is_weak_trigger = no
						}
						event_target:chuseok_ssireum_opponent = {
							is_weak_trigger = yes
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_winner
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_loser
					}
				}
				else_if = {
					limit = {
						event_target:chuseok_ssireum_challenger = {
							is_weak_trigger = yes
						}
						event_target:chuseok_ssireum_opponent = {
							is_weak_trigger = no
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_loser
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_winner
					}
				}
				else = {
					# Both are strong, both are weak, or both are neither
					# Tiebreaker 2: Fat/malnourished
					if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								trait = is_fat
							}
							event_target:chuseok_ssireum_opponent = {
								NOT = {
									trait = is_fat
								}
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_winner
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_loser
						}
					}
					else_if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								NOT = {
									trait = is_fat
								}
							}
							event_target:chuseok_ssireum_opponent = {
								trait = is_fat
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_loser
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_winner
						}
					}
					else_if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								NOT = {
									trait = is_malnourished
								}
							}
							event_target:chuseok_ssireum_opponent = {
								trait = is_malnourished
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_winner
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_loser
						}
					}
					else_if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								trait = is_malnourished
							}
							event_target:chuseok_ssireum_opponent = {
								NOT = {
									trait = is_malnourished
								}
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_loser
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_winner
						}
					}
					else = {
						# Tiebreaker 3: PCS
						if = {
							limit = {
								event_target:chuseok_ssireum_challenger = {
									combat_rating_diff = {
										character = event_target:chuseok_ssireum_opponent
										value >= 1
									}
								}
							}
							event_target:chuseok_ssireum_challenger = {
								save_event_target_as = chuseok_ssireum_winner
							}
							event_target:chuseok_ssireum_opponent = {
								save_event_target_as = chuseok_ssireum_loser
							}
						}
						else_if = {
							limit = {
								event_target:chuseok_ssireum_challenger = {
									combat_rating_diff = {
										character = event_target:chuseok_ssireum_opponent
										value <= -1
									}
								}
							}
							event_target:chuseok_ssireum_challenger = {
								save_event_target_as = chuseok_ssireum_loser
							}
							event_target:chuseok_ssireum_opponent = {
								save_event_target_as = chuseok_ssireum_winner
							}
						}
						else = {
							# Just randomize it
							random_list = {
								50 = {
									event_target:chuseok_ssireum_challenger = {
										save_event_target_as = chuseok_ssireum_winner
									}
									event_target:chuseok_ssireum_opponent = {
										save_event_target_as = chuseok_ssireum_loser
									}
								}
								50 = {
									event_target:chuseok_ssireum_challenger = {
										save_event_target_as = chuseok_ssireum_loser
									}
									event_target:chuseok_ssireum_opponent = {
										save_event_target_as = chuseok_ssireum_winner
									}
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					event_target:chuseok_ssireum_opponent = {
						has_character_flag = chuseok_ssireum_endurance
					}
				}
				event_target:chuseok_ssireum_challenger = {
					save_event_target_as = chuseok_ssireum_winner
				}
				event_target:chuseok_ssireum_opponent = {
					save_event_target_as = chuseok_ssireum_loser
				}
			}
			else_if = {
				limit = {
					event_target:chuseok_ssireum_opponent = {
						has_character_flag = chuseok_ssireum_deception
					}
				}
				event_target:chuseok_ssireum_challenger = {
					save_event_target_as = chuseok_ssireum_loser
				}
				event_target:chuseok_ssireum_opponent = {
					save_event_target_as = chuseok_ssireum_winner
				}
			}
			else = {
				if = {
					limit = {
						NOR = {
							trait = celibate
							trait = chaste
							event_target:chuseok_ssireum_opponent = {
								is_unattractive_trigger = yes
							}
						}
						OR = {
							AND = {
								prefers_men_trigger = yes
								event_target:chuseok_ssireum_opponent = {
									is_female = no
								}
							}
							AND = {
								prefers_men_trigger = no
								event_target:chuseok_ssireum_opponent = {
									is_female = yes
								}
							}
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_loser
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_winner
					}
				}
				else = {
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_winner
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_loser
					}
				}
			}
		}
		else_if = {
			limit = {
				event_target:chuseok_ssireum_challenger = {
					has_character_flag = chuseok_ssireum_endurance
				}
			}
			if = {
				limit = {
					event_target:chuseok_ssireum_opponent = {
						has_character_flag = chuseok_ssireum_strength
					}
				}
				event_target:chuseok_ssireum_challenger = {
					save_event_target_as = chuseok_ssireum_loser
				}
				event_target:chuseok_ssireum_opponent = {
					save_event_target_as = chuseok_ssireum_winner
				}
			}
			else_if = {
				limit = {
					event_target:chuseok_ssireum_opponent = {
						has_character_flag = chuseok_ssireum_endurance
					}
				}
				# Tiebreaker 1: Strength
				if = {
					limit = {
						event_target:chuseok_ssireum_challenger = {
							is_strong_trigger = yes
						}
						event_target:chuseok_ssireum_opponent = {
							is_strong_trigger = no
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_winner
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_loser
					}
				}
				else_if = {
					limit = {
						event_target:chuseok_ssireum_challenger = {
							is_strong_trigger = no
						}
						event_target:chuseok_ssireum_opponent = {
							is_strong_trigger = yes
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_loser
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_winner
					}
				}
				else_if = {
					limit = {
						event_target:chuseok_ssireum_challenger = {
							is_weak_trigger = no
						}
						event_target:chuseok_ssireum_opponent = {
							is_weak_trigger = yes
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_winner
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_loser
					}
				}
				else_if = {
					limit = {
						event_target:chuseok_ssireum_challenger = {
							is_weak_trigger = yes
						}
						event_target:chuseok_ssireum_opponent = {
							is_weak_trigger = no
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_loser
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_winner
					}
				}
				else = {
					# Both are strong, both are weak, or both are neither
					# Tiebreaker 2: Fat/malnourished
					if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								trait = is_fat
							}
							event_target:chuseok_ssireum_opponent = {
								NOT = {
									trait = is_fat
								}
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_winner
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_loser
						}
					}
					else_if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								NOT = {
									trait = is_fat
								}
							}
							event_target:chuseok_ssireum_opponent = {
								trait = is_fat
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_loser
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_winner
						}
					}
					else_if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								NOT = {
									trait = is_malnourished
								}
							}
							event_target:chuseok_ssireum_opponent = {
								trait = is_malnourished
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_winner
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_loser
						}
					}
					else_if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								trait = is_malnourished
							}
							event_target:chuseok_ssireum_opponent = {
								NOT = {
									trait = is_malnourished
								}
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_loser
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_winner
						}
					}
					else = {
						# Tiebreaker 3: PCS
						if = {
							limit = {
								event_target:chuseok_ssireum_challenger = {
									combat_rating_diff = {
										character = event_target:chuseok_ssireum_opponent
										value >= 1
									}
								}
							}
							event_target:chuseok_ssireum_challenger = {
								save_event_target_as = chuseok_ssireum_winner
							}
							event_target:chuseok_ssireum_opponent = {
								save_event_target_as = chuseok_ssireum_loser
							}
						}
						else_if = {
							limit = {
								event_target:chuseok_ssireum_challenger = {
									combat_rating_diff = {
										character = event_target:chuseok_ssireum_opponent
										value <= -1
									}
								}
							}
							event_target:chuseok_ssireum_challenger = {
								save_event_target_as = chuseok_ssireum_loser
							}
							event_target:chuseok_ssireum_opponent = {
								save_event_target_as = chuseok_ssireum_winner
							}
						}
						else = {
							# Just randomize it
							random_list = {
								50 = {
									event_target:chuseok_ssireum_challenger = {
										save_event_target_as = chuseok_ssireum_winner
									}
									event_target:chuseok_ssireum_opponent = {
										save_event_target_as = chuseok_ssireum_loser
									}
								}
								50 = {
									event_target:chuseok_ssireum_challenger = {
										save_event_target_as = chuseok_ssireum_loser
									}
									event_target:chuseok_ssireum_opponent = {
										save_event_target_as = chuseok_ssireum_winner
									}
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					event_target:chuseok_ssireum_opponent = {
						has_character_flag = chuseok_ssireum_deception
					}
				}
				event_target:chuseok_ssireum_challenger = {
					save_event_target_as = chuseok_ssireum_winner
				}
				event_target:chuseok_ssireum_opponent = {
					save_event_target_as = chuseok_ssireum_loser
				}
			}
			else = {
				if = {
					limit = {
						NOR = {
							trait = celibate
							trait = chaste
							event_target:chuseok_ssireum_opponent = {
								is_unattractive_trigger = yes
							}
						}
						OR = {
							AND = {
								prefers_men_trigger = yes
								event_target:chuseok_ssireum_opponent = {
									is_female = no
								}
							}
							AND = {
								prefers_men_trigger = no
								event_target:chuseok_ssireum_opponent = {
									is_female = yes
								}
							}
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_loser
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_winner
					}
				}
				else = {
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_winner
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_loser
					}
				}
			}
		}
		else_if = {
			limit = {
				event_target:chuseok_ssireum_challenger = {
					has_character_flag = chuseok_ssireum_deception
				}
			}
			if = {
				limit = {
					event_target:chuseok_ssireum_opponent = {
						has_character_flag = chuseok_ssireum_strength
					}
				}
				event_target:chuseok_ssireum_challenger = {
					save_event_target_as = chuseok_ssireum_winner
				}
				event_target:chuseok_ssireum_opponent = {
					save_event_target_as = chuseok_ssireum_loser
				}
			}
			else_if = {
				limit = {
					event_target:chuseok_ssireum_opponent = {
						has_character_flag = chuseok_ssireum_endurance
					}
				}
				event_target:chuseok_ssireum_challenger = {
					save_event_target_as = chuseok_ssireum_loser
				}
				event_target:chuseok_ssireum_opponent = {
					save_event_target_as = chuseok_ssireum_winner
				}
			}
			else_if = {
				limit = {
					event_target:chuseok_ssireum_opponent = {
						has_character_flag = chuseok_ssireum_deception
					}
				}
				# Tiebreaker 1: Intrigue
				if = {
					limit = {
						event_target:chuseok_ssireum_challenger = {
							attribute_diff = {
								character = event_target:chuseok_ssireum_opponent
								attribute = intrigue
								value >= 1
							}
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_winner
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_loser
					}
				}
				else_if = {
					limit = {
						event_target:chuseok_ssireum_challenger = {
							attribute_diff = {
								character = event_target:chuseok_ssireum_opponent
								attribute = intrigue
								value <= -1
							}
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_loser
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_winner
					}
				}
				else = {
					# Tiebreaker 2: Intelligence
					if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								is_smart_trigger = yes
							}
							event_target:chuseok_ssireum_opponent = {
								is_smart_trigger = no
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_winner
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_loser
						}
					}
					else_if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								is_smart_trigger = no
							}
							event_target:chuseok_ssireum_opponent = {
								is_smart_trigger = yes
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_loser
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_winner
						}
					}
					else_if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								is_dumb_trigger = no
							}
							event_target:chuseok_ssireum_opponent = {
								is_dumb_trigger = yes
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_winner
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_loser
						}
					}
					else_if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								is_dumb_trigger = yes
							}
							event_target:chuseok_ssireum_opponent = {
								is_dumb_trigger = no
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_loser
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_winner
						}
					}
					else = {
						# Tiebreaker 3: PCS
						if = {
							limit = {
								event_target:chuseok_ssireum_challenger = {
									combat_rating_diff = {
										character = event_target:chuseok_ssireum_opponent
										value >= 1
									}
								}
							}
							event_target:chuseok_ssireum_challenger = {
								save_event_target_as = chuseok_ssireum_winner
							}
							event_target:chuseok_ssireum_opponent = {
								save_event_target_as = chuseok_ssireum_loser
							}
						}
						else_if = {
							limit = {
								event_target:chuseok_ssireum_challenger = {
									combat_rating_diff = {
										character = event_target:chuseok_ssireum_opponent
										value <= -1
									}
								}
							}
							event_target:chuseok_ssireum_challenger = {
								save_event_target_as = chuseok_ssireum_loser
							}
							event_target:chuseok_ssireum_opponent = {
								save_event_target_as = chuseok_ssireum_winner
							}
						}
						else = {
							# Just randomize it
							random_list = {
								50 = {
									event_target:chuseok_ssireum_challenger = {
										save_event_target_as = chuseok_ssireum_winner
									}
									event_target:chuseok_ssireum_opponent = {
										save_event_target_as = chuseok_ssireum_loser
									}
								}
								50 = {
									event_target:chuseok_ssireum_challenger = {
										save_event_target_as = chuseok_ssireum_loser
									}
									event_target:chuseok_ssireum_opponent = {
										save_event_target_as = chuseok_ssireum_winner
									}
								}
							}
						}
					}
				}
			}
			else = {
				if = {
					limit = {
						NOR = {
							trait = celibate
							trait = chaste
							event_target:chuseok_ssireum_opponent = {
								is_unattractive_trigger = yes
							}
						}
						OR = {
							AND = {
								prefers_men_trigger = yes
								event_target:chuseok_ssireum_opponent = {
									is_female = no
								}
							}
							AND = {
								prefers_men_trigger = no
								event_target:chuseok_ssireum_opponent = {
									is_female = yes
								}
							}
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_loser
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_winner
					}
				}
				else = {
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_winner
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_loser
					}
				}
			}
		}
		else_if = {
			limit = {
				event_target:chuseok_ssireum_challenger = {
					has_character_flag = chuseok_ssireum_seduction
				}
			}
			if = {
				limit = {
					event_target:chuseok_ssireum_opponent = {
						NOR = {
							trait = celibate
							trait = chaste
							event_target:chuseok_ssireum_challenger = {
								is_unattractive_trigger = yes
							}
						}
						OR = {
							AND = {
								prefers_men_trigger = yes
								event_target:chuseok_ssireum_challenger = {
									is_female = no
								}
							}
							AND = {
								prefers_men_trigger = no
								event_target:chuseok_ssireum_challenger = {
									is_female = yes
								}
							}
						}
					}
				}
				if = {
					limit = {
						event_target:chuseok_ssireum_opponent = {
							OR = {
								has_character_flag = chuseok_ssireum_strength
								has_character_flag = chuseok_ssireum_endurance
								has_character_flag = chuseok_ssireum_deception
							}
						}
					}
					event_target:chuseok_ssireum_challenger = {
						save_event_target_as = chuseok_ssireum_winner
					}
					event_target:chuseok_ssireum_opponent = {
						save_event_target_as = chuseok_ssireum_loser
					}
				}
				else = {
					# Tiebreaker 1: Seducer/Seductress
					if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								OR = {
									trait = seducer
									trait = seductress
								}
							}
							event_target:chuseok_ssireum_opponent = {
								NOR = {
									trait = seducer
									trait = seductress
								}
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_winner
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_loser
						}
					}
					else_if = {
						limit = {
							event_target:chuseok_ssireum_challenger = {
								NOR = {
									trait = seducer
									trait = seductress
								}
							}
							event_target:chuseok_ssireum_opponent = {
								OR = {
									trait = seducer
									trait = seductress
								}
							}
						}
						event_target:chuseok_ssireum_challenger = {
							save_event_target_as = chuseok_ssireum_loser
						}
						event_target:chuseok_ssireum_opponent = {
							save_event_target_as = chuseok_ssireum_winner
						}
					}
					else = {
						# Tiebreaker 2: Attractiveness
						if = {
							limit = {
								event_target:chuseok_ssireum_challenger = {
									is_attractive_trigger = yes
									is_unattractive_trigger = no
								}
								event_target:chuseok_ssireum_opponent = {
									is_attractive_trigger = no
								}
							}
							event_target:chuseok_ssireum_challenger = {
								save_event_target_as = chuseok_ssireum_winner
							}
							event_target:chuseok_ssireum_opponent = {
								save_event_target_as = chuseok_ssireum_loser
							}
						}
						else_if = {
							limit = {
								event_target:chuseok_ssireum_challenger = {
									is_attractive_trigger = no
								}
								event_target:chuseok_ssireum_opponent = {
									is_attractive_trigger = yes
									is_unattractive_trigger = no
								}
							}
							event_target:chuseok_ssireum_challenger = {
								save_event_target_as = chuseok_ssireum_loser
							}
							event_target:chuseok_ssireum_opponent = {
								save_event_target_as = chuseok_ssireum_winner
							}
						}
						else_if = {
							limit = {
								event_target:chuseok_ssireum_challenger = {
									is_unattractive_trigger = no
								}
								event_target:chuseok_ssireum_opponent = {
									is_unattractive_trigger = yes
								}
							}
							event_target:chuseok_ssireum_challenger = {
								save_event_target_as = chuseok_ssireum_winner
							}
							event_target:chuseok_ssireum_opponent = {
								save_event_target_as = chuseok_ssireum_loser
							}
						}
						else_if = {
							limit = {
								event_target:chuseok_ssireum_challenger = {
									is_unattractive_trigger = yes
								}
								event_target:chuseok_ssireum_opponent = {
									is_unattractive_trigger = no
								}
							}
							event_target:chuseok_ssireum_challenger = {
								save_event_target_as = chuseok_ssireum_loser
							}
							event_target:chuseok_ssireum_opponent = {
								save_event_target_as = chuseok_ssireum_winner
							}
						}
						else = {
							# Tiebreaker 3: Diplomacy
							if = {
								limit = {
									event_target:chuseok_ssireum_challenger = {
										attribute_diff = {
											character = event_target:chuseok_ssireum_opponent
											attribute = diplomacy
											value >= 1
										}
									}
								}
								event_target:chuseok_ssireum_challenger = {
									save_event_target_as = chuseok_ssireum_winner
								}
								event_target:chuseok_ssireum_opponent = {
									save_event_target_as = chuseok_ssireum_loser
								}
							}
							else_if = {
								limit = {
									event_target:chuseok_ssireum_challenger = {
										attribute_diff = {
											character = event_target:chuseok_ssireum_opponent
											attribute = diplomacy
											value <= -1
										}
									}
								}
								event_target:chuseok_ssireum_challenger = {
									save_event_target_as = chuseok_ssireum_loser
								}
								event_target:chuseok_ssireum_opponent = {
									save_event_target_as = chuseok_ssireum_winner
								}
							}
							else = {
								# Tiebreaker 4: NOT Lustful
								if = {
									limit = {
										event_target:chuseok_ssireum_challenger = {
											NOT = {
												trait = lustful
											}
										}
										event_target:chuseok_ssireum_opponent = {
											trait = lustful
										}
									}
									event_target:chuseok_ssireum_challenger = {
										save_event_target_as = chuseok_ssireum_winner
									}
									event_target:chuseok_ssireum_opponent = {
										save_event_target_as = chuseok_ssireum_loser
									}
								}
								else_if = {
									limit = {
										event_target:chuseok_ssireum_challenger = {
											trait = lustful
										}
										event_target:chuseok_ssireum_opponent = {
											NOT = {
												trait = lustful
											}
										}
									}
									event_target:chuseok_ssireum_challenger = {
										save_event_target_as = chuseok_ssireum_winner
									}
									event_target:chuseok_ssireum_opponent = {
										save_event_target_as = chuseok_ssireum_loser
									}
								}
								else = {
									# Just randomize it
									random_list = {
										50 = {
											event_target:chuseok_ssireum_challenger = {
												save_event_target_as = chuseok_ssireum_winner
											}
											event_target:chuseok_ssireum_opponent = {
												save_event_target_as = chuseok_ssireum_loser
											}
										}
										50 = {
											event_target:chuseok_ssireum_challenger = {
												save_event_target_as = chuseok_ssireum_loser
											}
											event_target:chuseok_ssireum_opponent = {
												save_event_target_as = chuseok_ssireum_winner
											}
										}
									}
								}
							}
						}
					}
				}
			}
			else = {
				event_target:chuseok_ssireum_challenger = {
					save_event_target_as = chuseok_ssireum_loser
				}
				event_target:chuseok_ssireum_opponent = {
					save_event_target_as = chuseok_ssireum_winner
				}
			}
		}
		
		# Then fire the appropriate event for the winner
		event_target:chuseok_ssireum_winner = {
			if = {
				limit = {
					has_character_flag = chuseok_ssireum_strength
				}
				character_event = { id = chuseok.90 }
			}
			else_if = {
				limit = {
					has_character_flag = chuseok_ssireum_endurance
				}
				character_event = { id = chuseok.94 }
			}
			else_if = {
				limit = {
					has_character_flag = chuseok_ssireum_deception
				}
				character_event = { id = chuseok.98 }
			}
			else_if = {
				limit = {
					has_character_flag = chuseok_ssireum_seduction
				}
				character_event = { id = chuseok.103 }
			}
		}
	}
}

# Victory through strength - winner
character_event = {
	id = chuseok.90
	desc = EVTDESC_CHUSEOK_90
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_90 # Good game!
		
		prestige = 50
		
		event_target:chuseok_ssireum_loser = {
			character_event = { id = chuseok.91 } # Inform the loser
		}
		FROM = {
			character_event = { id = chuseok.92 } # Inform the liege
		}
	}
}

# Victory through strength - loser
character_event = {
	id = chuseok.91
	desc = EVTDESC_CHUSEOK_91
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_91 # Good game!
		
		prestige = -25
	}
}

# Liege gets notified of winner
character_event = {
	id = chuseok.92
	desc = EVTDESC_CHUSEOK_92
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_92 # That's that...
		
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
				ai = no
				NOR = {
					character = event_target:chuseok_ssireum_challenger
					character = event_target:chuseok_ssireum_opponent
				}
			}
			character_event = { id = chuseok.93 } # Inform vassals
		}
	}
}

# Vassals get notified of winner
character_event = {
	id = chuseok.93
	desc = EVTDESC_CHUSEOK_93
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_93 # That's that...
	}
}

# Victory through endurance - winner
character_event = {
	id = chuseok.94
	desc = EVTDESC_CHUSEOK_94
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_94 # Good game!
		
		prestige = 50
		
		event_target:chuseok_ssireum_loser = {
			character_event = { id = chuseok.95 } # Inform the loser
		}
		FROM = {
			character_event = { id = chuseok.96 } # Inform the liege
		}
	}
}

# Victory through endurance - loser
character_event = {
	id = chuseok.95
	desc = EVTDESC_CHUSEOK_95
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_95 # Good game!
		
		prestige = -25
	}
}

# Liege gets notified of winner
character_event = {
	id = chuseok.96
	desc = EVTDESC_CHUSEOK_96
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_96 # That's that...
		
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
				ai = no
				NOR = {
					character = event_target:chuseok_ssireum_challenger
					character = event_target:chuseok_ssireum_opponent
				}
			}
			character_event = { id = chuseok.97 } # Inform vassals
		}
	}
}

# Vassals get notified of winner
character_event = {
	id = chuseok.97
	desc = EVTDESC_CHUSEOK_97
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_97 # That's that...
	}
}

# Victory through dirty trick - winner
character_event = {
	id = chuseok.98
	desc = EVTDESC_CHUSEOK_98
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_98 # That was easy!
		
		prestige = 25
		
		event_target:chuseok_ssireum_loser = {
			character_event = { id = chuseok.99 } # Inform the loser
		}
		FROM = {
			character_event = { id = chuseok.101 } # Inform the liege
		}
	}
}

# Victory through dirty trick - loser might rival
character_event = {
	id = chuseok.99
	desc = EVTDESC_CHUSEOK_99
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_99 # That was some trick...
		
		prestige = -50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0
				trait = wroth
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_99 # I hate dirty cheaters like you!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = chuseok.100 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = humble
			}
			modifier = {
				factor = 0
				trait = patient
			}
		}
	}
}

# Winner informed of rivalry
character_event = {
	id = chuseok.100
	desc = EVTDESC_CHUSEOK_100
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_100 # I see...
		
		add_rival = FROM
	}
}

# Liege gets notified of winner
character_event = {
	id = chuseok.101
	desc = EVTDESC_CHUSEOK_101
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_101 # That's that...
		
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
				ai = no
				NOR = {
					character = event_target:chuseok_ssireum_challenger
					character = event_target:chuseok_ssireum_opponent
				}
			}
			character_event = { id = chuseok.102 } # Inform vassals
		}
	}
}

# Vassals get notified of winner
character_event = {
	id = chuseok.102
	desc = EVTDESC_CHUSEOK_102
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_102 # That's that...
	}
}

# Victory through seduction - winner
character_event = {
	id = chuseok.103
	desc = EVTDESC_CHUSEOK_103
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_103 # Well, that worked...
		
		prestige = 25
		
		event_target:chuseok_ssireum_loser = {
			character_event = { id = chuseok.104 } # Inform the loser
		}
		FROM = {
			character_event = { id = chuseok.110 } # Inform the liege
		}
	}
}

# Victory through seduction - loser might try to tumble
character_event = {
	id = chuseok.104
	desc = EVTDESC_CHUSEOK_104
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_104 # Yes!
		
		FROMFROM = {
			character_event = { id = chuseok.105 days = 1 } # Other party approached
		}
		
		piety = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROMFROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROMFROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_104 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Target approached
character_event = {
	id = chuseok.105
	desc = EVTDESC_CHUSEOK_105
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_105 # Yes!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		FROM = {
			character_event = { id = chuseok.107 } # FROM informed
		}
		unprotected_sex_effect = yes
		
		piety = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_105 # I don't think so!
		
		FROM = {
			character_event = { id = chuseok.106 } # FROM informed
		}
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# No tumbling
character_event = {
	id = chuseok.106
	desc = EVTDESC_CHUSEOK_106
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_106 # I see...
		
		prestige = -25
	}
}

# Tumbling - become lovers?
character_event = {
	id = chuseok.107
	desc = EVTDESC_CHUSEOK_107
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_107 # We should do this again!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		add_lover = FROM
		
		FROM = {
			character_event = { id = chuseok.108 days = 1 } # Inform FROM
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_107 # This shouldn't become a long-term thing...
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		FROM = {
			character_event = { id = chuseok.109 days = 1 } # Inform FROM
		}
	}
}

# Lovers
character_event = {
	id = chuseok.108
	desc = EVTDESC_CHUSEOK_108
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_108 # That's great!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = chuseok.109
	desc = EVTDESC_CHUSEOK_109
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_109 # Perhaps that's for the best...
	}
}

# Liege gets notified of winner
character_event = {
	id = chuseok.110
	desc = EVTDESC_CHUSEOK_110
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_110 # That's that...
		
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
				ai = no
				NOR = {
					character = event_target:chuseok_ssireum_challenger
					character = event_target:chuseok_ssireum_opponent
				}
			}
			character_event = { id = chuseok.111 } # Inform vassals
		}
	}
}

# Vassals get notified of winner
character_event = {
	id = chuseok.111
	desc = EVTDESC_CHUSEOK_111
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_111 # That's that...
	}
}

### Ssireum - others

# Normal Ssireum - liege
character_event = {
	id = chuseok.112
	desc = EVTDESC_CHUSEOK_112
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_112 # That's that...
		
		prestige = 10
		
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
				ai = no
			}
			character_event = { id = chuseok.113 } # Inform vassals
		}
	}
}

# Normal Ssireum - vassals
character_event = {
	id = chuseok.113
	desc = EVTDESC_CHUSEOK_113
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_113 # That's that...
	}
}

# Commoner distinguishes themselves - recruit them?
character_event = {
	id = chuseok.114
	desc = EVTDESC_CHUSEOK_114
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	immediate = {
		if = {
			limit = {
				has_religion_feature = religion_matriarchal
			}
			create_random_soldier = {
				age = 25
				female = yes
				trait = strong
				dynasty = none
				religion = ROOT
				culture = ROOT
				random_traits = yes
			}
			new_character = {
				save_event_target_as = ssireum_champion
			}
		}
		else = {
			create_random_soldier = {
				age = 25
				female = no
				trait = strong
				dynasty = none
				religion = ROOT
				culture = ROOT
				random_traits = yes
			}
			new_character = {
				save_event_target_as = ssireum_champion
			}
		}
		
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
				ai = no
			}
			character_event = { id = chuseok.113 } # Inform vassals
		}
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_114 # You should join my court!
		
		prestige = -25
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_114 # I don't need them!
		
		event_target:ssireum_champion = {
			leave_court_and_die_effect = yes
		}
	}
}

##### Event selection + event groups 3

# Event selection 3
character_event = {
	id = chuseok.115
	hide_window = yes
	
	is_triggered_only = yes

	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	immediate = {
		# Ganggangsullae
		character_event = { id = chuseok.116 days = 1 random = 1 }
		
		# Hangwa - based on vanilla
		if = {
			limit = {
				OR = {
					has_character_flag = chuseok_extra_hangwa
					has_character_flag = chuseok_enough_hangwa
					has_character_flag = chuseok_no_hangwa
				}
			}
			random_list = {
				10 = {
					modifier = {
						factor = 0
						NOR = {
							has_character_flag = chuseok_extra_hangwa
							any_vassal = {
								has_character_flag = coming_to_chuseok
								war = no
							}
						}
					}
					any_vassal = {
						limit = { 
							has_character_flag = coming_to_chuseok
							war = no
						}
						score_value = { #Prioritizes selecting an interesting courtier...
							value = 10
							interesting_courtier_selection_score = yes
						}
						character_event = { id = chuseok.124 days = 5 random = 2 } # Extra Hangwa
					}
				}
				10 = {
					modifier = {
						factor = 0
						NOR = {
							has_character_flag = chuseok_enough_hangwa
							any_vassal = {
								has_character_flag = coming_to_chuseok
								war = no
							}
						}
					}
					any_vassal = {
						limit = { 
							has_character_flag = coming_to_chuseok
							war = no
						}
						score_value = { #Prioritizes selecting an interesting courtier...
							value = 10
							interesting_courtier_selection_score = yes
						}
						character_event = { id = chuseok.125 days = 5 random = 2 } # Normal Hangwa
					}
				}
				10 = {
					modifier = {
						factor = 0
						NOR = {
							has_character_flag = chuseok_no_hangwa
							any_vassal = {
								has_character_flag = coming_to_chuseok
								war = no
							}
						}
					}
					any_vassal = {
						limit = { 
							has_character_flag = coming_to_chuseok
							war = no
						}
						score_value = { #Prioritizes selecting an interesting courtier...
							value = 10
							interesting_courtier_selection_score = yes
						}
						character_event = { id = chuseok.126 days = 5 random = 2 } # No Hangwa
					}
				}
			}
		}
		
		# Drinks
		if = {
			limit = {
				has_character_flag = chuseok_extra_drinks
			}
			character_event = { id = chuseok.129 days = 5 random = 2 } # Extra drinks - might lose Temperate/become a Drunkard
		}
		else_if = {
			limit = {
				has_character_flag = chuseok_enough_drinks
			}
			character_event = { id = chuseok.133 days = 5 random = 2 } # Enough drinks - nothing of note
		}
		else_if = {
			limit = {
				has_character_flag = chuseok_no_drinks
			}
			character_event = { id = chuseok.134 days = 5 random = 2 } # No drinks - complaints
		}
		
		# End of Chuseok
		character_event = { id = chuseok.136 days = 10 } # End of Chuseok - liege
	}
}

### Ganggangsullae

# Ganggangsullae - liege
character_event = {
	id = chuseok.116
	desc = EVTDESC_CHUSEOK_116
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}
	
	immediate = {
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
				war = no
			}
			character_event = { id = chuseok.119 } # Vassals get their event
		}
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_116 # That's nice...
		
		if = {
			limit = {
				is_adult = yes
				prefers_men_trigger = no
			}
			random = {
				chance = 5
				character_event = { id = chuseok.122 days = 2 random = 1 } # Possible tumbling
			}
		}
	}
	
	option = {
		trigger = {
			is_female = yes
		}
		name = EVTOPTB_CHUSEOK_116 # I think I'll join...
		
		random_list = {
			10 = {
				character_event = { id = chuseok.117 days = 1 } # It goes very well
				if = {
					limit = {
						is_adult = yes
						prefers_men_trigger = no
					}
					random = {
						chance = 10
						character_event = { id = chuseok.122 days = 2 random = 1 } # Possible tumbling
					}
				}
			}
			80 = {
				# It goes okay
				if = {
					limit = {
						is_adult = yes
						prefers_men_trigger = no
					}
					random = {
						chance = 5
						character_event = { id = chuseok.122 days = 2 random = 1 } # Possible tumbling
					}
				}
			}
			10 = {
				character_event = { id = chuseok.118 days = 1 } # It goes very poorly
			}
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = shy
			}
			modifier = {
				factor = 0
				trait = proud
			}
		}
	}
}

# You joined in - it went well
character_event = {
	id = chuseok.117
	desc = EVTDESC_CHUSEOK_117
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_117 # Yay!
		
		prestige = 25
	}
}

# You joined in - it went poorly
character_event = {
	id = chuseok.118
	desc = EVTDESC_CHUSEOK_118
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_118 # Ow!
		
		prestige = -10
		
		random = {
			chance = 5
			add_trait = wounded
		}
	}
}

# Ganggangsullae - vassal
character_event = {
	id = chuseok.119
	desc = EVTDESC_CHUSEOK_119
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_119 # That's nice...
		
		if = {
			limit = {
				is_adult = yes
				prefers_men_trigger = no
			}
			random = {
				chance = 5
				character_event = { id = chuseok.122 days = 2 random = 1 } # Possible tumbling
			}
		}
	}
	
	option = {
		trigger = {
			is_female = yes
		}
		name = EVTOPTB_CHUSEOK_119 # I think I'll join...
		
		random_list = {
			10 = {
				character_event = { id = chuseok.120 days = 1 } # It goes very well
				if = {
					limit = {
						is_adult = yes
						prefers_men_trigger = no
					}
					random = {
						chance = 10
						character_event = { id = chuseok.122 days = 2 random = 1 } # Possible tumbling
					}
				}
			}
			80 = {
				# It goes okay
				if = {
					limit = {
						is_adult = yes
						prefers_men_trigger = no
					}
					random = {
						chance = 5
						character_event = { id = chuseok.122 days = 2 random = 1 } # Possible tumbling
					}
				}
			}
			10 = {
				character_event = { id = chuseok.121 days = 1 } # It goes very poorly
			}
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = shy
			}
			modifier = {
				factor = 0
				trait = proud
			}
		}
	}
}

# You joined in - it went well
character_event = {
	id = chuseok.120
	desc = EVTDESC_CHUSEOK_120
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_120 # Yay!
		
		prestige = 25
	}
}

# You joined in - it went poorly
character_event = {
	id = chuseok.121
	desc = EVTDESC_CHUSEOK_121
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_121 # Ow!
		
		prestige = -10
		
		random = {
			chance = 5
			add_trait = wounded
		}
	}
}

# Pretty Ganggangsullae dancer - tumble?
character_event = {
	id = chuseok.122
	desc = EVTDESC_CHUSEOK_122
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		create_character = {
			age = 17
			dynasty = none
			culture = FROMFROM
			religion = FROMFROM
			female = yes
			trait = fair
			trait = lustful
			random_traits = yes
		}
		new_character = {
			if = {
				limit = {
					ROOT = {
						is_female = yes
						trait = homosexual
					}
				}
				add_trait = homosexual
			}
			save_event_target_as = chuseok_pretty_dancer
		}
	}
	
	option = {
		name = EVTOPTA_CHUSEOK_122 # Yes!
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		
		event_target:chuseok_pretty_dancer = {
			save_event_target_as = sex_partner
		}
		unprotected_sex_effect_event_target = yes
		
		character_event = { id = chuseok.123 days = 1 } # Become lovers?
		
		piety = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				event_target:chuseok_pretty_dancer = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				event_target:chuseok_pretty_dancer = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_122 # I don't think so!
		
		piety = 10
		
		event_target:chuseok_pretty_dancer = {
			leave_court_and_die_effect = yes
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Tumbling happened - become lovers?
character_event = {
	id = chuseok.123
	desc = EVTDESC_CHUSEOK_123
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_123 # This must be love!
		
		add_lover = event_target:chuseok_pretty_dancer
	}
	
	option = {
		name = EVTOPTB_CHUSEOK_123 # Goodbye!
		
		event_target:chuseok_pretty_dancer = {
			leave_court_effect = yes
			random = {
				chance = 25
				add_rival = ROOT
			}
		}
	}
}

### Hangwa - copied from vanilla food

# Extra Hangwa
character_event = {
	id = chuseok.124
	desc = EVTDESC_CHUSEOK_124
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		FROM = {
			has_character_modifier = chuseok_in_progress
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_124 # Approve publicly
		trigger = {
			NOT = { trait = temperate }
		}
		gain_weight_small_effect = yes
		weight_trait_check_effect = yes
		ai_chance = {
			factor = 40

			modifier = {
				factor = 5
				trait = gluttonous
			}
		}
		FROM = {
			character_event = { id = chuseok.127 }
		}
	}
	option = {
		name = EVTOPTB_CHUSEOK_124 # Disapprove
		trigger = {
			NOT = { trait = gluttonous }
		}
		ai_chance = {
			factor = 20

			modifier = {
				factor = 5
				trait = temperate
			}
		}
		FROM = {
			character_event = { id = chuseok.128 }
		}
	}
	option = {
		name = EVTOPTC_CHUSEOK_124 # Say nothing
		prestige = -10
	}
}

# Enough Hangwa
character_event = {
	id = chuseok.125
	desc = EVTDESC_CHUSEOK_125
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		FROM = {
			has_character_modifier = chuseok_in_progress
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_125 # Approve publicly
		FROM = {
			character_event = { id = chuseok.127 }
		}
	}
	option = {
		name = EVTOPTB_CHUSEOK_125 # Disapprove publicly
		FROM = {
			character_event = { id = chuseok.128 }
		}
	}
	option = {
		name = EVTOPTC_CHUSEOK_125 # Say nothing
		prestige = -10
	}
}

# No Hangwa
character_event = {
	id = chuseok.126
	desc = EVTDESC_CHUSEOK_126
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		FROM = {
			has_character_modifier = chuseok_in_progress
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_126 # Approve publicly
		trigger = {
			NOT = { trait = gluttonous }
		}
		ai_chance = {
			factor = 20

			modifier = {
				factor = 5
				trait = temperate
			}
		}
		FROM = {
			character_event = { id = chuseok.127 }
		}
	}
	option = {
		name = EVTOPTB_CHUSEOK_126 # Disapprove publicly
		trigger = {
			NOT = { trait = temperate }
		}
		ai_chance = {
			factor = 40

			modifier = {
				factor = 5
				trait = gluttonous
			}
		}
		FROM = {
			character_event = { id = chuseok.128 }
		}
	}
	option = {
		name = EVTOPTC_CHUSEOK_126 # Say nothing
		prestige = -10
	}
}

# Liege is glad you liked the food at the feast
character_event = {
	id = chuseok.127
	desc = EVTDESC_CHUSEOK_127
	picture = GFX_evt_feast

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_127 # Good!
		opinion = {
			modifier = opinion_happy
			who = FROM
			years = 10
		}
		reverse_opinion = {
			modifier = opinion_approves
			who = FROM
			years = 10
		}
	}
}

# Liege dislikes you complaining about the food at the feast
character_event = {
	id = chuseok.128
	desc = EVTDESC_CHUSEOK_128
	picture = GFX_evt_feast

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_128 # Shut up!
		opinion = {
			modifier = opinion_irritated
			who = FROM
			years = 10
		}
		reverse_opinion = {
			modifier = opinion_disapprove
			who = FROM
			years = 10
		}
	}
}

### Drinks

# Extra drinks - liege
character_event = {
	id = chuseok.129
	desc = EVTDESC_CHUSEOK_129
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_129 # That's good!
		
		prestige = 10
		
		if = {
			limit = {
				trait = temperate
			}
			random = {
				chance = 5
				remove_trait = temperate
			}
		}
		else_if = {
			limit = {
				NOT = {
					trait = drunkard
				}
			}
			random = {
				chance = 5
				add_trait = drunkard
			}
		}
		if = {
			limit = {
				trait = drunkard
			}
			random = {
				chance = 25
				character_event = { id = chuseok.130 days = 1 random = 1 } # You had way too much to drink
			}
		}
		
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
			}
			opinion = {
				who = ROOT
				modifier = opinion_good_chuseok
			}
			character_event = { id = chuseok.131 } # Inform vassals
		}
	}
}

# You drank far too much
character_event = {
	id = chuseok.130
	desc = EVTDESC_CHUSEOK_130
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_130 # That went poorly...
		
		prestige = -25
	}
}

# Extra drinks - vassals
character_event = {
	id = chuseok.131
	desc = EVTDESC_CHUSEOK_131
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_131 # That's good!
		
		if = {
			limit = {
				trait = temperate
			}
			random = {
				chance = 5
				remove_trait = temperate
			}
		}
		else_if = {
			limit = {
				NOT = {
					trait = drunkard
				}
			}
			random = {
				chance = 5
				add_trait = drunkard
			}
		}
		if = {
			limit = {
				trait = drunkard
			}
			random = {
				chance = 25
				character_event = { id = chuseok.132 days = 1 random = 1 } # You had way too much to drink
			}
		}
	}
}

# You drank far too much
character_event = {
	id = chuseok.132
	desc = EVTDESC_CHUSEOK_132
	picture = GFX_evt_drunk

	only_rulers = yes
	capable_only = yes
	prisoner = no

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_132 # That went poorly...
		
		prestige = -25
	}
}

# Enough drinks
character_event = {
	id = chuseok.133
	desc = EVTDESC_CHUSEOK_133
	picture = GFX_evt_feast

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_133 # Nobody has complained, at least...
	}
}

# No drinks - liege
character_event = {
	id = chuseok.134
	desc = EVTDESC_CHUSEOK_134
	picture = GFX_evt_scandal

	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		has_character_modifier = chuseok_in_progress
	}

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_134 # That's bad...
		
		prestige = -25
		
		if = {
			limit = {
				NOT = {
					trait = temperate
				}
			}
			random = {
				chance = 5
				remove_trait = temperate
			}
		}
		
		any_vassal = {
			limit = {
				has_character_flag = coming_to_chuseok
			}
			opinion = {
				who = ROOT
				modifier = opinion_bad_chuseok
			}
			character_event = { id = chuseok.135 } # Inform vassals
		}
	}
}

# No drinks - vassals
character_event = {
	id = chuseok.135
	desc = EVTDESC_CHUSEOK_135
	picture = GFX_evt_scandal

	only_rulers = yes
	capable_only = yes
	prisoner = no

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_CHUSEOK_135 # That's bad!
		
		if = {
			limit = {
				NOT = {
					trait = temperate
				}
			}
			random = {
				chance = 5
				remove_trait = temperate
			}
		}
	}
}

##### End of Chuseok + cleanup events

# Normal end
character_event = {
	id = chuseok.136
	desc = EVTDESC_CHUSEOK_136
	picture = GFX_evt_feast

	capable_only = yes
	prisoner = no

	is_triggered_only = yes

	trigger = {
		has_character_modifier = lny_in_progress
	}

	option = {
		name = EVTOPTA_CHUSEOK_136 # Time to get back to work...
		prestige = 10
		piety = 10
		set_character_flag = recent_chuseok
		
		hidden_tooltip = {
			remove_character_modifier = chuseok_in_progress
			# Flag cleanup
			clr_character_flag = chuseok_enough_drinks
			clr_character_flag = chuseok_enough_hangwa
			clr_character_flag = chuseok_enough_songpyeon
			clr_character_flag = chuseok_extra_drinks
			clr_character_flag = chuseok_extra_hangwa
			clr_character_flag = chuseok_extra_songpyeon
			clr_character_flag = chuseok_no_drinks
			clr_character_flag = chuseok_no_hangwa
			clr_character_flag = chuseok_no_songpyeon
			clr_character_flag = chuseok_not_rigged_juldarigiri
			clr_character_flag = chuseok_rigged_juldarigiri
			clr_character_flag = chuseok_ssireum_deception
			clr_character_flag = chuseok_ssireum_endurance
			clr_character_flag = chuseok_ssireum_seduction
			clr_character_flag = chuseok_ssireum_strength
			clr_character_flag = coming_to_chuseok
			clr_character_flag = do_not_disturb
			clr_character_flag = guest_chuseok_started
			clr_character_flag = host_chuseok_started
			clr_character_flag = lavishly_food
			clr_character_flag = low_food
			clr_character_flag = medium_food
			clr_character_flag = sent_invitations
			any_vassal = {
				limit = {
					has_character_flag = guest_chuseok_started
				}
				character_event = { id = chuseok.137 }
				remove_opinion = {
					modifier = opinion_enjoyed_chuseok
					who = ROOT
				}
				opinion = {
					modifier = opinion_enjoyed_chuseok
					who = ROOT
					years = 2
				}
				# Flag cleanup
				clr_character_flag = chuseok_enough_drinks
				clr_character_flag = chuseok_enough_hangwa
				clr_character_flag = chuseok_enough_songpyeon
				clr_character_flag = chuseok_extra_drinks
				clr_character_flag = chuseok_extra_hangwa
				clr_character_flag = chuseok_extra_songpyeon
				clr_character_flag = chuseok_no_drinks
				clr_character_flag = chuseok_no_hangwa
				clr_character_flag = chuseok_no_songpyeon
				clr_character_flag = chuseok_not_rigged_juldarigiri
				clr_character_flag = chuseok_rigged_juldarigiri
				clr_character_flag = chuseok_ssireum_deception
				clr_character_flag = chuseok_ssireum_endurance
				clr_character_flag = chuseok_ssireum_seduction
				clr_character_flag = chuseok_ssireum_strength
				clr_character_flag = coming_to_chuseok
				clr_character_flag = do_not_disturb
				clr_character_flag = guest_chuseok_started
				clr_character_flag = host_chuseok_started
				clr_character_flag = lavishly_food
				clr_character_flag = low_food
				clr_character_flag = medium_food
				clr_character_flag = sent_invitations
			}
			any_courtier = {
				# Flag cleanup
				clr_character_flag = chuseok_enough_drinks
				clr_character_flag = chuseok_enough_hangwa
				clr_character_flag = chuseok_enough_songpyeon
				clr_character_flag = chuseok_extra_drinks
				clr_character_flag = chuseok_extra_hangwa
				clr_character_flag = chuseok_extra_songpyeon
				clr_character_flag = chuseok_no_drinks
				clr_character_flag = chuseok_no_hangwa
				clr_character_flag = chuseok_no_songpyeon
				clr_character_flag = chuseok_not_rigged_juldarigiri
				clr_character_flag = chuseok_rigged_juldarigiri
				clr_character_flag = chuseok_ssireum_deception
				clr_character_flag = chuseok_ssireum_endurance
				clr_character_flag = chuseok_ssireum_seduction
				clr_character_flag = chuseok_ssireum_strength
				clr_character_flag = coming_to_chuseok
				clr_character_flag = do_not_disturb
				clr_character_flag = guest_chuseok_started
				clr_character_flag = host_chuseok_started
				clr_character_flag = lavishly_food
				clr_character_flag = low_food
				clr_character_flag = medium_food
				clr_character_flag = sent_invitations
			}
		}
	}
}

# Normal end - vassals
character_event = {
	id = chuseok.137
	desc = EVTDESC_CHUSEOK_137
	picture = GFX_evt_feast

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_137 # Time to get back to work...
		prestige = 5
		piety = 5
	}
}

# Chuseok cancelled
character_event = {
	id = chuseok.138
	desc = EVTDESC_CHUSEOK_138
	picture = GFX_evt_china_isolationist

	only_rulers = yes
	war = yes

	mean_time_to_happen = {
		days = 1
	}

	trigger = {
		has_character_modifier = chuseok_in_progress
	}

	option = {
		name = EVTOPTA_CHUSEOK_138 # I see...
		hidden_tooltip = {
			remove_character_modifier = chuseok_in_progress
			# Flag cleanup
			clr_character_flag = chuseok_enough_drinks
			clr_character_flag = chuseok_enough_hangwa
			clr_character_flag = chuseok_enough_songpyeon
			clr_character_flag = chuseok_extra_drinks
			clr_character_flag = chuseok_extra_hangwa
			clr_character_flag = chuseok_extra_songpyeon
			clr_character_flag = chuseok_no_drinks
			clr_character_flag = chuseok_no_hangwa
			clr_character_flag = chuseok_no_songpyeon
			clr_character_flag = chuseok_not_rigged_juldarigiri
			clr_character_flag = chuseok_rigged_juldarigiri
			clr_character_flag = chuseok_ssireum_deception
			clr_character_flag = chuseok_ssireum_endurance
			clr_character_flag = chuseok_ssireum_seduction
			clr_character_flag = chuseok_ssireum_strength
			clr_character_flag = coming_to_chuseok
			clr_character_flag = do_not_disturb
			clr_character_flag = guest_chuseok_started
			clr_character_flag = host_chuseok_started
			clr_character_flag = lavishly_food
			clr_character_flag = low_food
			clr_character_flag = medium_food
			clr_character_flag = sent_invitations
			any_vassal = {
				limit = {
					has_character_flag = guest_chuseok_started
				}
				letter_event = { id = chuseok.139 }
				# Flag cleanup
				clr_character_flag = chuseok_enough_drinks
				clr_character_flag = chuseok_enough_hangwa
				clr_character_flag = chuseok_enough_songpyeon
				clr_character_flag = chuseok_extra_drinks
				clr_character_flag = chuseok_extra_hangwa
				clr_character_flag = chuseok_extra_songpyeon
				clr_character_flag = chuseok_no_drinks
				clr_character_flag = chuseok_no_hangwa
				clr_character_flag = chuseok_no_songpyeon
				clr_character_flag = chuseok_not_rigged_juldarigiri
				clr_character_flag = chuseok_rigged_juldarigiri
				clr_character_flag = chuseok_ssireum_deception
				clr_character_flag = chuseok_ssireum_endurance
				clr_character_flag = chuseok_ssireum_seduction
				clr_character_flag = chuseok_ssireum_strength
				clr_character_flag = coming_to_chuseok
				clr_character_flag = do_not_disturb
				clr_character_flag = guest_chuseok_started
				clr_character_flag = host_chuseok_started
				clr_character_flag = lavishly_food
				clr_character_flag = low_food
				clr_character_flag = medium_food
				clr_character_flag = sent_invitations
			}
			any_courtier = {
				# Flag cleanup
				clr_character_flag = chuseok_enough_drinks
				clr_character_flag = chuseok_enough_hangwa
				clr_character_flag = chuseok_enough_songpyeon
				clr_character_flag = chuseok_extra_drinks
				clr_character_flag = chuseok_extra_hangwa
				clr_character_flag = chuseok_extra_songpyeon
				clr_character_flag = chuseok_no_drinks
				clr_character_flag = chuseok_no_hangwa
				clr_character_flag = chuseok_no_songpyeon
				clr_character_flag = chuseok_not_rigged_juldarigiri
				clr_character_flag = chuseok_rigged_juldarigiri
				clr_character_flag = chuseok_ssireum_deception
				clr_character_flag = chuseok_ssireum_endurance
				clr_character_flag = chuseok_ssireum_seduction
				clr_character_flag = chuseok_ssireum_strength
				clr_character_flag = coming_to_chuseok
				clr_character_flag = do_not_disturb
				clr_character_flag = guest_chuseok_started
				clr_character_flag = host_chuseok_started
				clr_character_flag = lavishly_food
				clr_character_flag = low_food
				clr_character_flag = medium_food
				clr_character_flag = sent_invitations
			}
		}
	}
}

# Chuseok cancelled - vassals
letter_event = {
	id = chuseok.139
	desc = EVTDESC_CHUSEOK_139

	is_triggered_only = yes

	option = {
		name = EVTOPTA_CHUSEOK_139 # I see...
	}
}

# Flag cleanup
character_event = {
	id = chuseok.140
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		# Flag cleanup
		clr_character_flag = chuseok_enough_drinks
		clr_character_flag = chuseok_enough_hangwa
		clr_character_flag = chuseok_enough_songpyeon
		clr_character_flag = chuseok_extra_drinks
		clr_character_flag = chuseok_extra_hangwa
		clr_character_flag = chuseok_extra_songpyeon
		clr_character_flag = chuseok_no_drinks
		clr_character_flag = chuseok_no_hangwa
		clr_character_flag = chuseok_no_songpyeon
		clr_character_flag = chuseok_not_rigged_juldarigiri
		clr_character_flag = chuseok_rigged_juldarigiri
		clr_character_flag = chuseok_ssireum_deception
		clr_character_flag = chuseok_ssireum_endurance
		clr_character_flag = chuseok_ssireum_seduction
		clr_character_flag = chuseok_ssireum_strength
		clr_character_flag = coming_to_chuseok
		clr_character_flag = do_not_disturb
		clr_character_flag = guest_chuseok_started
		clr_character_flag = host_chuseok_started
		clr_character_flag = lavishly_food
		clr_character_flag = low_food
		clr_character_flag = medium_food
		clr_character_flag = sent_invitations
		any_courtier = {
			limit = {
				has_character_flag = guest_chuseok_started
			}
			# Flag cleanup
			clr_character_flag = chuseok_enough_drinks
			clr_character_flag = chuseok_enough_hangwa
			clr_character_flag = chuseok_enough_songpyeon
			clr_character_flag = chuseok_extra_drinks
			clr_character_flag = chuseok_extra_hangwa
			clr_character_flag = chuseok_extra_songpyeon
			clr_character_flag = chuseok_no_drinks
			clr_character_flag = chuseok_no_hangwa
			clr_character_flag = chuseok_no_songpyeon
			clr_character_flag = chuseok_not_rigged_juldarigiri
			clr_character_flag = chuseok_rigged_juldarigiri
			clr_character_flag = chuseok_ssireum_deception
			clr_character_flag = chuseok_ssireum_endurance
			clr_character_flag = chuseok_ssireum_seduction
			clr_character_flag = chuseok_ssireum_strength
			clr_character_flag = coming_to_chuseok
			clr_character_flag = do_not_disturb
			clr_character_flag = guest_chuseok_started
			clr_character_flag = host_chuseok_started
			clr_character_flag = lavishly_food
			clr_character_flag = low_food
			clr_character_flag = medium_food
			clr_character_flag = sent_invitations
		}
		any_vassal = {
			limit = {
				has_character_flag = guest_chuseok_started
			}
			# Flag cleanup
			clr_character_flag = chuseok_enough_drinks
			clr_character_flag = chuseok_enough_hangwa
			clr_character_flag = chuseok_enough_songpyeon
			clr_character_flag = chuseok_extra_drinks
			clr_character_flag = chuseok_extra_hangwa
			clr_character_flag = chuseok_extra_songpyeon
			clr_character_flag = chuseok_no_drinks
			clr_character_flag = chuseok_no_hangwa
			clr_character_flag = chuseok_no_songpyeon
			clr_character_flag = chuseok_not_rigged_juldarigiri
			clr_character_flag = chuseok_rigged_juldarigiri
			clr_character_flag = chuseok_ssireum_deception
			clr_character_flag = chuseok_ssireum_endurance
			clr_character_flag = chuseok_ssireum_seduction
			clr_character_flag = chuseok_ssireum_strength
			clr_character_flag = coming_to_chuseok
			clr_character_flag = do_not_disturb
			clr_character_flag = guest_chuseok_started
			clr_character_flag = host_chuseok_started
			clr_character_flag = lavishly_food
			clr_character_flag = low_food
			clr_character_flag = medium_food
			clr_character_flag = sent_invitations
		}
	}
}