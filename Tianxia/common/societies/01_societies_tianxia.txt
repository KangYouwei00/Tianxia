###DEVIL WORSHIPERS###


the_ghost_gatherers = {
	primary_attribute = intrigue
	is_secret = yes
	criminal = yes
	devil_worshipper = yes
	opinion_to_other_members = +5
	opinion_to_pretenders = -40			#Pretenders is the opinion you have of people perceived/discovered to be in your society.
	opinion_to_perceived_members = -40	#Perceived is the opinion you have of people perceived/discovered to be of a society you're not part of
	opinion_per_rank_above = +10
	sound = devil_worshippers_interface
	society_ranks_gfx = devil_ranks
	society_influence = no
	
	active = {
		has_dlc = "Mystics"
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
	}
	indestructible = yes
	
	can_join_society = {
		hidden_trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = the_ghost_gatherers
					rank = 1
				}
			}
		}
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
	}
	
	show_society = {
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
		age = 16
		OR = {
			religion = shinto
			religion = ryukyuan_pagan
			religion = ryukyuan_pagan_reformed
			religion = ainu_pagan
			religion = ainu_pagan_reformed
			AND = {
				culture_group = japonic
				religion = buddhist
			}
		}
	}
	
	potential = { 		
		OR = {
			religion = shinto
			religion = ryukyuan_pagan
			religion = ryukyuan_pagan_reformed
			religion = ainu_pagan
			religion = ainu_pagan_reformed
			AND = {
				culture_group = japonic
				religion = buddhist
			}
		}
	}
	
	society_rank = {
		level = 1
		limit = 100 
		startup_limit = 10
		decisions = {
			decision_abduct
			prisoner_dark_sacrifice #Available Decision: Sacrifice Prisoner
			#Over time, lose virtues, gain vices. A Soul Corruption-effect is on a yearly pulse (with a chance to do nothing)
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_2;
	}
	
	society_rank = { 
		level = 2
		limit = 50
		startup_limit = 6
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_ghost_gatherers
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 1
		}
		decisions = {
			devil_worshipers_summon_familiar #Available Power: Summon Familiar
			the_devil_worshipers_tainted_touch #Available Power: Curse people with disease
			devil_worshipers_demonic_possession #Available Power: Possess someone to make fanatically loyal
			#Available Power: Abduction plot
			#unlock new options in Seduction and Spy On?
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_3;
	}
	
	society_rank = {
		level = 3
		limit = 25 
		startup_limit = 3
		modifier = {
			is_visible = {
				OR = {
					society_member_of = the_ghost_gatherers
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 2
		}
		decisions = {
			devil_worshipers_dark_divorce #Available Power: Dark Divorce
			devil_worshipers_dark_healing #Available Power: Demonic Healing. Sacrifice a prisoner to heal a random illness or maiming.
			devil_worshipers_invite_disciple_of_devil #Available Decision: Invite a witch to court
			#Available Power: Love Potion
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_4;
	}

	society_rank = {
		level = 4
		limit = 1 
		startup_limit = 1
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_ghost_gatherers
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 3
		}
		decisions = {
			DW_prolong_life #Available Power: Prolong Life
			DW_demonic_impregnation #Available power: Unholy Impregnation
		}
		obedience_tooltip = obedience_tooltip #this can be unique per rank/society 
		obedient = {
			ROOT = {
				always = yes
			}
		}		
	}

	plots = {
		plot1_tag
		plot2_tag
	}
    
	ambitions = {
		ambition1_tag
		ambition2_tag
	}

	monthly_currency_gain = {
		name = currency_name_the_ghost_gatherers
    
		per_attribute = {
			name = intrigue
			value = 0.5
		}
		has_trait = {
			trait = ambitious
			value = 5
		}
		has_trait = {
			trait = genius
			value = 4
		}
		has_trait = {
			trait = quick
			value = 3
		}
		has_trait = {
			trait = shrewd
			value = 3
		}
		has_trait = {
			trait = hedonist
			value = 3
		}
		has_trait = {
			trait = mystic
			value = 3
		}
		has_trait = {
			trait = seducer
			value = 3
		}
		has_trait = {
			trait = seductress
			value = 3
		}
		has_trait = {
			trait = schemer
			value = 3
		}
		has_trait = {
			trait = impaler
			value = 3
		}
		has_trait = {
			trait = one_eyed
			value = 3
		}
		has_trait = {
			trait = lustful
			value = 1
		}
		has_trait = {
			trait = proud
			value = 1
		}
		has_trait = {
			trait = greedy
			value = 1
		}
		has_trait = {
			trait = deceitful
			value = 1
		}
		has_trait = {
			trait = arbitrary
			value = 1
		}
		society_rank = {
			rank = 4
			value = 10
		}
	}

	member_score_per_attribute = 3
	member_score_per_rank = 100

	member_score = {
		value = 10

		modifier = {
			trait = ambitious
			factor = 1.5
		}
		modifier = {
			trait = genius
			factor = 1.3
		}
		modifier = {
			trait = quick
			factor = 1.3
		}
		modifier = {
			trait = shrewd
			factor = 1.3
		}
		modifier = {
			trait = hedonist
			factor = 1.3
		}
		modifier = {
			trait = mystic
			factor = 1.3
		}
		modifier = {
			trait = seducer
			factor = 1.3
		}
		modifier = {
			trait = seductress
			factor = 1.3
		}
		modifier = {
			trait = schemer
			factor = 1.3
		}
		modifier = {
			trait = impaler
			factor = 1.3
		}
		modifier = {
			trait = one_eyed
			factor = 1.3
		}
		modifier = {
			trait = lustful
			factor = 1.1
		}
		modifier = {
			trait = proud
			factor = 1.1
		}
		modifier = {
			trait = greedy
			factor = 1.1
		}
		modifier = {
			trait = deceitful
			factor = 1.1
		}
		modifier = {
			trait = arbitrary
			factor = 1.1
		}
	}
	
	startup_populate = {
	    trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			ai = yes
	    	controls_religion = no 
		    OR = {
				religion = shinto
				religion = ryukyuan_pagan
				religion = ryukyuan_pagan_reformed
				religion = ainu_pagan
				religion = ainu_pagan_reformed
			}
			OR = {
				has_impious_trait_trigger = yes
				has_vice_trigger = yes
				trait = drunkard
				trait = possessed
				trait = lunatic
			}
			age = 16
			is_in_society = no
			NOT = { higher_tier_than = DUKE }
			NOR = {
				mercenary = yes
				holy_order = yes
			}
		}
	}
}


the_underworld_triad = {
	primary_attribute = intrigue
	is_secret = yes
	criminal = yes
	devil_worshipper = yes
	opinion_to_other_members = +5
	opinion_to_pretenders = -40			#Pretenders is the opinion you have of people perceived/discovered to be in your society.
	opinion_to_perceived_members = -40	#Perceived is the opinion you have of people perceived/discovered to be of a society you're not part of
	opinion_per_rank_above = +10
	sound = devil_worshippers_interface
	society_ranks_gfx = devil_ranks
	society_influence = no
	
	active = {
		has_dlc = "Mystics"
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
	}
	indestructible = yes

	can_join_society = {
		hidden_trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = the_underworld_triad
					rank = 1
				}
			}
		}
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
	}
	
	show_society = {
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
		age = 16
		OR = {
			religion = taoist
			religion = chinese_pagan
			religion = chinese_pagan_reformed
			religion = viet_pagan
			religion = viet_pagan_reformed
			AND = {
				OR = {
					culture_group = chinese_group
					culture = viet
					culture = tangut
					culture = kaifeng
					culture = khitan
					culture = mongol
				}
				religion = buddhist
			}
		}
	}

	society_rank = {
		level = 1
		limit = 100 
		startup_limit = 10
		decisions = {
			decision_abduct
			prisoner_dark_sacrifice #Available Decision: Sacrifice Prisoner
			#Over time, lose virtues, gain vices. A Soul Corruption-effect is on a yearly pulse (with a chance to do nothing)
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_2;
	}

	potential = { 
		OR = {
			religion = taoist
			religion = chinese_pagan
			religion = chinese_pagan_reformed
			religion = viet_pagan
			religion = viet_pagan_reformed
			AND = {
				OR = {
					culture_group = chinese_group
					culture = viet
					culture = tangut
					culture = kaifeng
					culture = khitan
					culture = mongol
				}
				religion = buddhist
			}
		}
	} #no rules
	
	society_rank = { 
		level = 2
		limit = 50
		startup_limit = 6
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_underworld_triad
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 1
		}
		decisions = {
			devil_worshipers_summon_familiar #Available Power: Summon Familiar
			the_devil_worshipers_tainted_touch #Available Power: Curse people with disease
			devil_worshipers_demonic_possession #Available Power: Possess someone to make fanatically loyal
			#Available Power: Abduction plot
			#unlock new options in Seduction and Spy On?
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_3;
	}
	
	society_rank = {
		level = 3
		limit = 25 
		startup_limit = 3
		modifier = {
			is_visible = {
				OR = {
					society_member_of = the_underworld_triad
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 2
		}
		decisions = {
			devil_worshipers_dark_divorce #Available Power: Dark Divorce
			devil_worshipers_dark_healing #Available Power: Demonic Healing. Sacrifice a prisoner to heal a random illness or maiming.
			devil_worshipers_invite_disciple_of_devil #Available Decision: Invite a witch to court
			#Available Power: Love Potion
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_4;
	}

	society_rank = {
		level = 4
		limit = 1 
		startup_limit = 1
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_underworld_triad
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 3
		}
		decisions = {
			DW_prolong_life #Available Power: Prolong Life
			DW_demonic_impregnation #Available power: Unholy Impregnation
		}
		obedience_tooltip = obedience_tooltip #this can be unique per rank/society 
		obedient = {
			ROOT = {
				always = yes
			}
		}
	}

	plots = {
		plot1_tag
		plot2_tag
	}
    
	ambitions = {
		ambition1_tag
		ambition2_tag
	}

	monthly_currency_gain = {
		name = currency_name_the_underworld_triad
    
		per_attribute = {
			name = intrigue
			value = 0.5
		}
		has_trait = {
			trait = ambitious
			value = 5
		}
		has_trait = {
			trait = genius
			value = 4
		}
		has_trait = {
			trait = quick
			value = 3
		}
		has_trait = {
			trait = shrewd
			value = 3
		}
		has_trait = {
			trait = hedonist
			value = 3
		}
		has_trait = {
			trait = mystic
			value = 3
		}
		has_trait = {
			trait = seducer
			value = 3
		}
		has_trait = {
			trait = seductress
			value = 3
		}
		has_trait = {
			trait = schemer
			value = 3
		}
		has_trait = {
			trait = impaler
			value = 3
		}
		has_trait = {
			trait = lustful
			value = 1
		}
		has_trait = {
			trait = proud
			value = 1
		}
		has_trait = {
			trait = greedy
			value = 1
		}
		has_trait = {
			trait = deceitful
			value = 1
		}
		has_trait = {
			trait = arbitrary
			value = 1
		}
		society_rank = {
			rank = 4
			value = 10
		}
	}

	member_score_per_attribute = 3
	member_score_per_rank = 100

	member_score = {
		value = 10

		modifier = {
			trait = ambitious
			factor = 1.5
		}
		modifier = {
			trait = genius
			factor = 1.3
		}
		modifier = {
			trait = quick
			factor = 1.3
		}
		modifier = {
			trait = shrewd
			factor = 1.3
		}
		modifier = {
			trait = hedonist
			factor = 1.3
		}
		modifier = {
			trait = mystic
			factor = 1.3
		}
		modifier = {
			trait = seducer
			factor = 1.3
		}
		modifier = {
			trait = seductress
			factor = 1.3
		}
		modifier = {
			trait = schemer
			factor = 1.3
		}
		modifier = {
			trait = impaler
			factor = 1.3
		}
		modifier = {
			trait = lustful
			factor = 1.1
		}
		modifier = {
			trait = proud
			factor = 1.1
		}
		modifier = {
			trait = greedy
			factor = 1.1
		}
		modifier = {
			trait = deceitful
			factor = 1.1
		}
		modifier = {
			trait = arbitrary
			factor = 1.1
		}
	}
	
	startup_populate = {
	    trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			ai = yes
	    	controls_religion = no
    		OR = {
			religion = taoist
			religion = chinese_pagan
			religion = chinese_pagan_reformed
			religion = viet_pagan
			religion = viet_pagan_reformed			
			}			
			OR = {
				has_impious_trait_trigger = yes
				has_vice_trigger = yes
				trait = drunkard
				trait = possessed
				trait = lunatic
			}
			age = 16
			is_in_society = no
			NOT = { higher_tier_than = DUKE }
			NOR = {
				mercenary = yes
				holy_order = yes
			}
		}
	}
}

the_sacrificers = {
	primary_attribute = intrigue
	is_secret = yes
	criminal = yes
	devil_worshipper = yes
	opinion_to_other_members = +5
	opinion_to_pretenders = -40			#Pretenders is the opinion you have of people perceived/discovered to be in your society.
	opinion_to_perceived_members = -40	#Perceived is the opinion you have of people perceived/discovered to be of a society you're not part of
	opinion_per_rank_above = +10
	sound = devil_worshippers_interface
	society_ranks_gfx = devil_ranks
	society_influence = no
	
	active = {
		has_dlc = "Mystics"
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
	}
	indestructible = yes
		
	can_join_society = {
		hidden_trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = the_sacrificers
					rank = 1
				}
			}
		}
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
	}

	show_society = {
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
		age = 16
		OR = {
			religion = dayak_pagan_reformed
			religion = dayak_pagan
			religion = melanesian_pagan_reformed
			religion = melanesian_pagan	

			society_member_of = the_sacrificers		
		}
	}
	
	potential = {
		OR = {
			religion = dayak_pagan_reformed
			religion = dayak_pagan
			religion = melanesian_pagan_reformed
			religion = melanesian_pagan	
		}
	} #indonesian religions
	
	
	society_rank = {
		level = 1
		limit = 100 
		startup_limit = 10
		decisions = {
			decision_abduct
			prisoner_dark_sacrifice #Available Decision: Sacrifice Prisoner
			#Over time, lose virtues, gain vices. A Soul Corruption-effect is on a yearly pulse (with a chance to do nothing)
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_2;
	}
	
	society_rank = { 
		level = 2
		limit = 50
		startup_limit = 6
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_sacrificers
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 1
		}
		decisions = {
			devil_worshipers_summon_familiar #Available Power: Summon Familiar
			the_devil_worshipers_tainted_touch #Available Power: Curse people with disease
			devil_worshipers_demonic_possession #Available Power: Possess someone to make fanatically loyal
			#Available Power: Abduction plot
			#unlock new options in Seduction and Spy On?
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_3;
	}
	
	society_rank = {
		level = 3
		limit = 25 
		startup_limit = 3
		modifier = {
			is_visible = {
				OR = {
					society_member_of = the_sacrificers
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 2
		}
		decisions = {
			devil_worshipers_dark_divorce #Available Power: Dark Divorce
			devil_worshipers_dark_healing #Available Power: Demonic Healing. Sacrifice a prisoner to heal a random illness or maiming.
			devil_worshipers_invite_disciple_of_devil #Available Decision: Invite a witch to court
			#Available Power: Love Potion
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_4;
	}

	society_rank = {
		level = 4
		limit = 1 
		startup_limit = 1
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_sacrificers
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 3
		}
		decisions = {
			DW_prolong_life #Available Power: Prolong Life
			DW_demonic_impregnation #Available power: Unholy Impregnation
		}
		obedience_tooltip = obedience_tooltip #this can be unique per rank/society 
		obedient = {
			ROOT = {
				always = yes
			}
		}
	}
	
	monthly_currency_gain = {
		name = currency_name_the_sacrificers
    
		per_attribute = {
			name = intrigue
			value = 0.5
		}
		has_trait = {
			trait = ambitious
			value = 5
		}
		has_trait = {
			trait = genius
			value = 4
		}
		has_trait = {
			trait = quick
			value = 3
		}
		has_trait = {
			trait = shrewd
			value = 3
		}
		has_trait = {
			trait = hedonist
			value = 3
		}
		has_trait = {
			trait = mystic
			value = 3
		}
		has_trait = {
			trait = seducer
			value = 3
		}
		has_trait = {
			trait = seductress
			value = 3
		}
		has_trait = {
			trait = schemer
			value = 3
		}
		has_trait = {
			trait = impaler
			value = 3
		}
		has_trait = {
			trait = lustful
			value = 1
		}
		has_trait = {
			trait = proud
			value = 1
		}
		has_trait = {
			trait = greedy
			value = 1
		}
		has_trait = {
			trait = deceitful
			value = 1
		}
		has_trait = {
			trait = arbitrary
			value = 1
		}
		society_rank = {
			rank = 4
			value = 10
		}
	}

	member_score_per_attribute = 3
	member_score_per_rank = 100

	member_score = {
		value = 10

		modifier = {
			trait = ambitious
			factor = 1.5
		}
		modifier = {
			trait = genius
			factor = 1.3
		}
		modifier = {
			trait = quick
			factor = 1.3
		}
		modifier = {
			trait = shrewd
			factor = 1.3
		}
		modifier = {
			trait = hedonist
			factor = 1.3
		}
		modifier = {
			trait = mystic
			factor = 1.3
		}
		modifier = {
			trait = seducer
			factor = 1.3
		}
		modifier = {
			trait = seductress
			factor = 1.3
		}
		modifier = {
			trait = schemer
			factor = 1.3
		}
		modifier = {
			trait = impaler
			factor = 1.3
		}
		modifier = {
			trait = lustful
			factor = 1.1
		}
		modifier = {
			trait = proud
			factor = 1.1
		}
		modifier = {
			trait = greedy
			factor = 1.1
		}
		modifier = {
			trait = deceitful
			factor = 1.1
		}
		modifier = {
			trait = arbitrary
			factor = 1.1
		}
	}

	startup_populate = {
	    trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			ai = yes
	    	controls_religion = no
    		OR = {
				religion = dayak_pagan	
				religion = dayak_pagan_reformed
				religion = melanesian_pagan
				religion = melanesian_pagan_reformed				
			}
			OR = {
				has_impious_trait_trigger = yes
				has_vice_trigger = yes
				trait = drunkard
				trait = possessed
				trait = lunatic
			}
			age = 16
			is_in_society = no
			NOT = { higher_tier_than = DUKE }
			NOR = {
				mercenary = yes
				holy_order = yes
			}
		}
	}
}

the_procession_of_pox = {
	primary_attribute = intrigue
	is_secret = yes
	criminal = yes
	devil_worshipper = yes
	opinion_to_other_members = +5
	opinion_to_pretenders = -40			#Pretenders is the opinion you have of people perceived/discovered to be in your society.
	opinion_to_perceived_members = -40	#Perceived is the opinion you have of people perceived/discovered to be of a society you're not part of
	opinion_per_rank_above = +10
	sound = devil_worshippers_interface
	society_ranks_gfx = devil_ranks
	society_influence = no
	
	active = {
		has_dlc = "Mystics"
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
	}
	indestructible = yes
		
	can_join_society = {
		hidden_trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = the_procession_of_pox
					rank = 1
				}
			}
		}
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
	}

	show_society = {
		NOT = {
			has_game_rule = {
				name = devil_worshipers
				value = none
			}
		}
		age = 16
		OR = {
			religion = korean_pagan_reformed
			religion = korean_pagan
			AND = {
				culture_group = koreanic
				religion = buddhist
			}
			society_member_of = the_procession_of_pox		
		}
	}
	
	potential = {
		OR = {
			religion = korean_pagan_reformed
			religion = korean_pagan
			AND = {
				culture_group = koreanic
				religion = buddhist
			}
		}
	} #indonesian religions
	
	
	society_rank = {
		level = 1
		limit = 100 
		startup_limit = 10
		decisions = {
			decision_abduct
			prisoner_dark_sacrifice #Available Decision: Sacrifice Prisoner
			#Over time, lose virtues, gain vices. A Soul Corruption-effect is on a yearly pulse (with a chance to do nothing)
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_2;
	}
	
	society_rank = { 
		level = 2
		limit = 50
		startup_limit = 6
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_procession_of_pox
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 1
		}
		decisions = {
			devil_worshipers_summon_familiar #Available Power: Summon Familiar
			the_devil_worshipers_tainted_touch #Available Power: Curse people with disease
			devil_worshipers_demonic_possession #Available Power: Possess someone to make fanatically loyal
			#Available Power: Abduction plot
			#unlock new options in Seduction and Spy On?
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_3;
	}
	
	society_rank = {
		level = 3
		limit = 25 
		startup_limit = 3
		modifier = {
			is_visible = {
				OR = {
					society_member_of = the_procession_of_pox
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 2
		}
		decisions = {
			devil_worshipers_dark_divorce #Available Power: Dark Divorce
			devil_worshipers_dark_healing #Available Power: Demonic Healing. Sacrifice a prisoner to heal a random illness or maiming.
			devil_worshipers_invite_disciple_of_devil #Available Decision: Invite a witch to court
			#Available Power: Love Potion
		}
		
		#custom_tooltip = unlockable_DW_powers_at_rank_4;
	}

	society_rank = {
		level = 4
		limit = 1 
		startup_limit = 1
		modifier = { 
			is_visible = {
				OR = {
					society_member_of = the_procession_of_pox
					FROM = { is_society_discovered = yes }
				}
			}
			intrigue = 3
		}
		decisions = {
			DW_prolong_life #Available Power: Prolong Life
			DW_demonic_impregnation #Available power: Unholy Impregnation
		}
		obedience_tooltip = obedience_tooltip #this can be unique per rank/society 
		obedient = {
			ROOT = {
				always = yes
			}
		}
	}
	
	monthly_currency_gain = {
		name = currency_name_the_procession_of_pox
    
		per_attribute = {
			name = intrigue
			value = 0.5
		}
		has_trait = {
			trait = ambitious
			value = 5
		}
		has_trait = {
			trait = genius
			value = 4
		}
		has_trait = {
			trait = quick
			value = 3
		}
		has_trait = {
			trait = shrewd
			value = 3
		}
		has_trait = {
			trait = hedonist
			value = 3
		}
		has_trait = {
			trait = mystic
			value = 3
		}
		has_trait = {
			trait = seducer
			value = 3
		}
		has_trait = {
			trait = seductress
			value = 3
		}
		has_trait = {
			trait = schemer
			value = 3
		}
		has_trait = {
			trait = impaler
			value = 3
		}
		has_trait = {
			trait = lustful
			value = 1
		}
		has_trait = {
			trait = proud
			value = 1
		}
		has_trait = {
			trait = greedy
			value = 1
		}
		has_trait = {
			trait = deceitful
			value = 1
		}
		has_trait = {
			trait = arbitrary
			value = 1
		}
		society_rank = {
			rank = 4
			value = 10
		}
	}

	member_score_per_attribute = 3
	member_score_per_rank = 100

	member_score = {
		value = 10

		modifier = {
			trait = ambitious
			factor = 1.5
		}
		modifier = {
			trait = genius
			factor = 1.3
		}
		modifier = {
			trait = quick
			factor = 1.3
		}
		modifier = {
			trait = shrewd
			factor = 1.3
		}
		modifier = {
			trait = hedonist
			factor = 1.3
		}
		modifier = {
			trait = mystic
			factor = 1.3
		}
		modifier = {
			trait = seducer
			factor = 1.3
		}
		modifier = {
			trait = seductress
			factor = 1.3
		}
		modifier = {
			trait = schemer
			factor = 1.3
		}
		modifier = {
			trait = impaler
			factor = 1.3
		}
		modifier = {
			trait = lustful
			factor = 1.1
		}
		modifier = {
			trait = proud
			factor = 1.1
		}
		modifier = {
			trait = greedy
			factor = 1.1
		}
		modifier = {
			trait = deceitful
			factor = 1.1
		}
		modifier = {
			trait = arbitrary
			factor = 1.1
		}
	}

	startup_populate = {
	    trigger = {
			NOT = {
				has_game_rule = {
					name = devil_worshipers
					value = none
				}
			}
			ai = yes
	    	controls_religion = no
    		OR = {
				religion = korean_pagan	
				religion = korean_pagan_reformed			
			}
			OR = {
				has_impious_trait_trigger = yes
				has_vice_trigger = yes
				trait = drunkard
				trait = possessed
				trait = lunatic
			}
			age = 16
			is_in_society = no
			NOT = { higher_tier_than = DUKE }
			NOR = {
				mercenary = yes
				holy_order = yes
			}
		}
	}
}

### Japanese non-DW societies

warriors_of_the_rising_sun = { # Warrior lodge-adjacent; similar enough to lock to HF, but not a full copy since a bunch of warrior lodge stuff isn't very Japanese
	primary_attribute = martial
	opinion_to_other_members = +10
	opinion_per_rank_above = +5
	sound = warrior_lodge_ambient_01
	society_ranks_gfx = warriors_ranks
	society_rank_up_decision = request_to_rank_up_rising_sun
	society_influence = yes # Intentionally different
	
	# Intentionally does not have non-interference
	
	active = {
		has_dlc = "Holy Fury"
	}
	indestructible = yes
	
	can_join_society = {
		hidden_trigger = {
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = warrior_lodge_norse
					rank = 1
				}
			}
		}
		is_adult = yes
		# There's no initiation duel, so no need to check for that
		custom_tooltip = {
			text = did_not_betray_society
			NOT = { has_character_flag = betrayed_warriors_of_the_rising_sun } # No leaving and re-joining!
		}
		hidden_trigger = {
			NOT = { has_character_flag = society_join_block }
		}
		trigger_if = {
			limit = { prisoner = yes }
			prisoner = no
		}
		OR = {
			religion = shinto
			AND = {
				culture_group = japonic
				religion = buddhist
			}
			AND = {
				ai = no # Or maybe the AI should also be allowed in?
				OR = {
					religion = ryukyuan_pagan
					religion = ryukyuan_pagan_reformed
				}
			}
			custom_tooltip = {
				text = was_deemed_worthy
				has_character_flag = special_rising_sun_character
			}
		}
	}

	show_society = {
		OR = {
			religion = shinto
			AND = {
				culture_group = japonic
				religion = buddhist
			}
			OR = {
				religion = ryukyuan_pagan
				religion = ryukyuan_pagan_reformed
			}
			custom_tooltip = {
				text = was_deemed_worthy
				has_character_flag = special_rising_sun_character
			}
			society_member_of = warriors_of_the_rising_sun
		}
	}

	potential = {
		OR = {
			religion = shinto
			AND = {
				culture_group = japonic
				# More generous, since some people might begrudgingly be permitted to remain
				OR = {
					religion = buddhist
					religion = taoist # They're nearby, and a bit weird, but not *that* weird
					religion = hindu # They're a bit weird, but know how to fight...
					AND = {
						religion = christian # Well, there were a few historical daimyos...
						controls_religion = no # ... but let's not allow the Pope in...
						holy_order = no # ... or the Templars/etc.
					}
				}
			}
			religion = ryukyuan_pagan
			religion = ryukyuan_pagan_reformed
			# Should maybe also be opened up to Ryukyuans, though a weird reformation would make that weird
			custom_tooltip = {
				text = was_deemed_worthy
				has_character_flag = special_rising_sun_character
			}
		}
	}

	society_rank = { # Initiate
		level = 1
		limit = 100 
		startup_limit = 50
		modifier = {
			monthly_character_prestige = 0.25
		}
		powers = {
			warrior_lodge_duel #Passive Power: Unlocks Duel
			warrior_lodge_survivor #Passive Power: Survivor
			warrior_lodge_lifetime_of_war #Passive Power: A Lifetime of War			
			rising_sun_war_of_honor # Can wage war vs. rivals, powerful rulers, and low-Honor members (with a higher threshold for higher tier targets) for Honor
			rising_sun_brothers_in_arms # Can call other society members of the same rank or lower to arms for Honor, unless already allied, having an NAP with the target, or having a truce with the target
		}
	}
	
	society_rank = { # Samurai/Onna-bugeisha
		level = 2
		limit = 50
		startup_limit = 15
		modifier = {
			monthly_character_prestige = 0.5
			combat_rating = 5
			martial = 1
		}		
		powers = {
			rising_sun_equality # Allows your liege to appoint you as a commander; intentionally higher tier than for WLs
			warrior_lodge_warrior_training #Power: Warrior Training
			warrior_lodge_summon_commander #Power: Summon Commander
			rising_sun_enlist_ronin # Summon event troops; might end up going poorly, or not
		}
	}
	
	society_rank = { # Hatamoto
		level = 3
		limit = 7 # Seven samurai
		startup_limit = 7
		modifier = {
			monthly_character_prestige = 0.75
			combat_rating = 10
			martial = 2
		}
		powers = {
			warrior_lodge_inspire_warriors #Power: Inspire Warriors
			warrior_lodge_call_to_glory #Power: Call to Glory; intentionally lower tier
			warrior_lodge_indomitable #Passive Power: Indomitable; intentionally lower tier
			warrior_lodge_choose_military_aspect #Power: Choose Military Aspect; intentionally lower tier
			rising_sun_become_japanese_feudal # Can become Japanese Feudal for Honor
		}
	}

	society_rank = { # Master/Mistress
		level = 4
		limit = 1
		startup_limit = 1
		modifier = { 
			monthly_character_prestige = 1
			combat_rating = 15
			martial = 3
		}
		powers = {
			rising_sun_subjugation_cb # Subjugation CB where the most contributing member gets the reward (similar to a crusade)
			rising_sun_mark_of_dishonor # Can make society members targets for Wars of Honor
		}
		obedience_tooltip = obedience_tooltip #this can be unique per rank/society 
		obedient = {
			FROM = {
				NOR = {
					is_liege_or_above = ROOT # Obey your superiors!
					controls_religion = yes # The Tenno is not obedient
					trait = japanese_regent # The Regent is not obedient
					trait = japanese_regent2 # The Regent is not obedient
				}
			}
		}
	}

	monthly_currency_gain = {
		name = currency_name_warriors_of_the_rising_sun # Honor
    	
		per_attribute = {
    		name = martial
    		value = 0.25
    	}
    	has_trait = {
			trait = hunter
			value = 1
		}
		has_trait = {
			trait = strategist
			value = 1
		}
		has_trait = {
			trait = duelist
			value = 1
		}
		has_trait = {
			trait = scarred
			value = 1
		}
		has_trait = {
			trait = scarred_mid
			value = 2
		}
		has_trait = {
			trait = scarred_high
			value = 3
		}
		has_trait = {
			trait = genius
			value = 1
		}
		has_trait = {
			trait = quick
			value = 1
		}
		has_trait = {
			trait = shrewd
			value = 1
		}
		has_trait = {
			trait = strong
			value = 3
		}
		has_trait = {
			trait = robust
			value = 2
		}
		has_trait = {
			trait = giant
			value = 2
		}
		has_trait = {
			trait = falconer
			value = 1
		}
		has_trait = {
			trait = proud
			value = 1
		}
		has_trait = {
			trait = patient
			value = 1
		}
		has_trait = {
			trait = diligent
			value = 1
		}
		has_trait = {
			trait = humble
			value = 1
		}
		has_trait = {
			trait = brave
			value = 2
		}
		has_trait = {
			trait = ambitious
			value = 1
		}
		has_trait = {
			trait = stubborn
			value = 1
		}
		has_trait = {
			trait = poet
			value = 1
		}
		has_trait = {
			trait = varangian
			value = 1 # Fair; you've experience guarding someone with honor
		}
		triggered_gain = {
			desc = is_a_duke
			trigger = {
				tier = duke
			}
			value = 0.5
		}
		triggered_gain = {
			desc = is_a_king
			trigger = {
				tier = king
				NOT = {
					has_landed_title = k_chrysanthemum_throne
				}
			}
			value = 1
		}
		triggered_gain = {
			desc = is_an_emperor
			trigger = {
				OR = {
					tier = emperor
					has_landed_title = k_chrysanthemum_throne # Maintain the fiction that they're not a figurehead!
				}
			}
			value = 2
		}
		#NEGATIVE modifiers
		has_trait = {
			trait = impaler
			value = -2 # Dishonorable
		}
		has_trait = {
			trait = wroth
			value = -1 # Dishonorable
		}
		has_trait = {
			trait = cruel
			value = -2 # Dishonorable
		}
		has_trait = {
			trait = viking
			value = -1 # Dishonorable
		}
		has_trait = {
			trait = pirate
			value = -1 # Dishonorable
		}
		has_trait = {
			trait = ravager
			value = -2 # Dishonorable
		}
		has_trait = {
			trait = seaking
			value = -3 # Dishonorable
		}
		has_trait = {
			trait = sea_queen
			value = -3 # Dishonorable
		}
		has_trait = {
			trait = berserker
			value = -1 # Dishonorable
		}
		has_trait = {
			trait = valhalla_bound
			value = -1
		}
		has_trait = {
			trait = eagle_warrior
			value = -1
		}
		has_trait = {
			trait = sun_warrior
			value = -1
		}
		has_trait = {
			trait = ukkos_shield
			value = -1
		}
		has_trait = {
			trait = nyames_shield
			value = -1
		}
		has_trait = {
			trait = peruns_chosen
			value = -1
		}
		has_trait = {
			trait = romuvas_own
			value = -1
		}
		has_trait = {
			trait = ares_own
			value = -1
		}
		has_trait = {
			trait = tengri_warrior
			value = -1
		}
		has_trait = {
			trait = craven
			value = -3
		}
		has_trait = {
			trait = weak
			value = -2
		}
		has_trait = {
			trait = feeble
			value = -1
		}
		has_trait = {
			trait = slothful
			value = -1
		}
		has_trait = {
			trait = content
			value = -1
		}
		has_trait = {
			trait = dwarf
			value = -1
		}
		has_trait = {
			trait = clubfooted
			value = -1
		}
		has_trait = {
			trait = hunchback
			value = -1
		}
		has_trait = {
			trait = deceitful
			value = -1
		}
		has_trait = {
			trait = schemer
			value = -2
		}
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 1
			}
			value = -5
		}
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 2
			}
			value = -4
		}
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 3
			}
			value = -3
		}
		triggered_gain = {
			desc = is_a_woman
			trigger = {
				is_female = yes
				society_rank == 4
			}
			value = -2
		}
		per_attribute = {
    		name = intrigue
    		value = -0.1 # Dishonest; you could always go Buddhist if you are Shinto!
    	}
		triggered_gain = {
			desc = bad_culture
			trigger = {
				culture = wako
			}
			value = -0.5
		}
		triggered_gain = {
			desc = bad_culture
			trigger = {
				culture_group = japonic
				NOR = {
					culture = yamato
					culture = japanese
					culture = wako
				}
			}
			value = -1
		}
		triggered_gain = {
			desc = bad_culture
			trigger = {
				NOT = {
					culture_group = japonic
				}
			}
			value = -2
		}
		triggered_gain = {
			desc = bad_religion
			trigger = {
				OR = {
					religion = ryukyuan_pagan
					religion = ryukyuan_pagan_reformed
					religion = taoist
				}
			}
			value = -0.5
		}
		triggered_gain = {
			desc = bad_religion
			trigger = {
				OR = {
					religion_group = christian
					religion = hindu
				}
			}
			value = -1
		}
		triggered_gain = {
			desc = bad_religion
			trigger = {
				NOR = {
					religion = shinto
					religion = buddhist
					religion = ryukyuan_pagan
					religion = ryukyuan_pagan_reformed
					religion = taoist
					religion_group = christian
					religion = hindu
				}
			}
			value = -2
		}
		has_trait = {
			trait = cannibal_trait
			value = -5
		}
		has_trait = {
			trait = kinslayer
			value = -4
		}
		has_trait = {
			trait = familial_kinslayer
			value = -3
		}
		has_trait = {
			trait = tribal_kinslayer
			value = -2
		}
		has_trait = {
			trait = dynastic_kinslayer
			value = -1
		}
		has_trait = {
			trait = lefthanded
			value = -1
		}
	}
	
	member_score_per_attribute = 3
	member_score_per_rank = 250 # Very hierarchal

	member_score = {
		value = 10

		#POSITIVE modifiers
		modifier = {
			trait = hunter
			factor = 1.3
		}
		modifier = {
			trait = strategist
			factor = 1.5
		}
		modifier = {
			trait = duelist
			factor = 1.5
		}
		modifier = {
			trait = misguided_warrior
			factor = 1.1
		}	
		modifier = {
			trait = tough_soldier
			factor = 1.2
		}
    	modifier = {
			trait = skilled_tactician
			factor = 1.4
		}
    	modifier = {
			trait = brilliant_strategist
			factor = 1.6
		}
    	modifier = {
			trait = scarred
			factor = 1.1
		}
		modifier = {
			trait = one_eyed
			factor = 1.1
		}
		modifier = {
			trait = genius
			factor = 1.2
		}
		modifier = {
			trait = quick
			factor = 1.1
		}
		modifier = {
			trait = shrewd
			factor = 1.1
		}
		modifier = {
			trait = strong
			factor = 1.2
		}
		modifier = {
			trait = robust
			factor = 1.1
		}
		modifier = {
			trait = giant
			factor = 1.1
		}
		modifier = {
			trait = falconer
			factor = 1.1
		}
		modifier = {
			trait = proud
			factor = 1.1
		}
		modifier = {
			trait = patient
			factor = 1.1
		}
		modifier = {
			trait = diligent
			factor = 1.1
		}
		modifier = {
			trait = humble
			factor = 1.1
		}
		modifier = {
			trait = brave
			factor = 1.2
		}
		modifier = {
			trait = ambitious
			factor = 1.1
		}
		modifier = {
			trait = stubborn
			factor = 1.1
		}
		modifier = {
			trait = poet
			factor = 1.1
		}
		modifier = {
			trait = varangian
			factor = 1.1
		}
		modifier = {
			tier = duke
			factor = 1.1
		}
		modifier = {
			tier = king
			NOT = {
				has_landed_title = k_chrysanthemum_throne
			}
			factor = 1.3
		}
		modifier = {
			OR = {
				tier = emperor
				has_landed_title = k_chrysanthemum_throne # Maintain the fiction that they're not a figurehead!
			}
			factor = 1.6
		}
		#NEGATIVE modifiers
		modifier = {
			trait = impaler
			factor = 0.9
		}
		modifier = {
			trait = wroth
			factor = 0.9
		}
		modifier = {
			trait = cruel
			factor = 0.9
		}
		modifier = {
			trait = viking
			factor = 0.9
		}
		modifier = {
			trait = pirate
			factor = 0.9
		}
		modifier = {
			trait = ravager
			factor = 0.9
		}
		modifier = {
			trait = seaking
			factor = 0.9
		}
		modifier = {
			trait = sea_queen
			factor = 0.9
		}
		modifier = {
			trait = shieldmaiden
			factor = 0.9
		}
		modifier = {
			trait = berserker
			factor = 0.9
		}
		modifier = {
			trait = craven
			factor = 0.8
		}
		modifier = {
			trait = weak
			factor = 0.8
		}
		modifier = {
			trait = feeble
			factor = 0.8
		}
		modifier = {
			trait = slothful
			factor = 0.9
		}
		modifier = {
			trait = content
			factor = 0.9
		}
		modifier = {
			trait = dwarf
			factor = 0.8
		}
		modifier = {
			trait = clubfooted
			factor = 0.8
		}
		modifier = {
			trait = hunchback
			factor = 0.8
		}
		modifier = {
			trait = deceitful
			factor = 0.9
		}
		modifier = {
			trait = schemer
			factor = 0.8
		}
		modifier = {
			is_female = yes # You won't have an easy time as a woman!
			factor = 0.5
		}
		modifier = {
    		factor = 0.8
			intrigue = 10
    	}
		modifier = {
    		factor = 0.8
			intrigue = 20
    	}
		modifier = {
    		factor = 0.8
			intrigue = 30
    	}
		modifier = {
    		factor = 0.9
			culture = wako
    	}
		modifier = {
    		factor = 0.8
			culture_group = japonic
			NOR = {
				culture = yamato
				culture = japanese
				culture = wako
			}
    	}
		modifier = {
    		factor = 0.5
			NOT = {
				culture_group = japonic
			}
    	}
		modifier = {
    		factor = 0.9
			OR = {
				religion = ryukyuan_pagan
				religion = ryukyuan_pagan_reformed
				religion = taoist
			}
    	}
		modifier = {
    		factor = 0.8
			culture_group = japonic
			OR = {
				religion_group = christian
				religion = hindu
			}
    	}
		modifier = {
    		factor = 0.5
			NOT = {
				religion = shinto
				religion = buddhist
				religion = ryukyuan_pagan
				religion = ryukyuan_pagan_reformed
				religion = taoist
				religion_group = christian
				religion = hindu
			}
    	}
		modifier = {
			trait = cannibal_trait
			factor = 0.1
		}
		modifier = {
			trait = kinslayer
			factor = 0.75
		}
		modifier = {
			trait = familial_kinslayer
			factor = 0.8
		}
		modifier = {
			trait = tribal_kinslayer
			factor = 0.85
		}
		modifier = {
			trait = dynastic_kinslayer
			factor = 0.9
		}
		modifier = {
			trait = lefthanded
			factor = 0.9
		}
	}

	startup_populate = {
	    trigger = {
			ai = yes
			is_adult = yes
			is_in_society = no
			OR = {
				martial = 12
				has_lifestyle_martial_trigger = yes
				has_education_martial_trigger = yes
			}
			OR = {
				religion = shinto
				AND = {
					culture_group = japonic
					religion = buddhist
				}
			}
			OR = { # Since people can become Japanese Feudal, let's not have playable rulers start in the society...
				is_ruler = no
				tier = baron
			}
			is_female = no # Women in the society should be very rare
		}
	}
}