# Warriors of the Rising Sun events
# by Silverswee(e)per

namespace = risingsun

##### Society joining

# From on_character_ask_to_join_society
character_event = {
    id = risingsun.1
	hide_window = yes
	
    is_triggered_only = yes
	
    trigger = {
    	FROM = { leader = { society_member_of = warriors_of_the_rising_sun } }
    }
    immediate = {
    	FROM = { leader = { character_event = { id = risingsun.2 } } }
    }
}

# Ping event
character_event = {
    id = risingsun.2
	hide_window = yes
	
    is_triggered_only = yes
	
    immediate = {
    	FROM = { letter_event = { id = risingsun.3 } }
    }
}

# Welcome letter
letter_event = {
    id = risingsun.3
    desc = EVTDESC_RISINGSUN_3
    border = GFX_event_letter_frame_war

    is_triggered_only = yes
	
	immediate = { set_character_flag = society_join_block }
	
    option = { 
        name = EVTOPTA_RISINGSUN_3

        join_society = warriors_of_the_rising_sun
		
		clr_character_flag = society_join_block
    }
}

##### Missions

### Mission assignment

# Mission assignment event (hidden)
character_event = {
	id = risingsun.4
	hide_window = yes

	has_dlc = "Holy Fury"
	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		is_society_grandmaster = no
		has_any_quest = no
		NOT = { is_inaccessible_trigger = yes }
		NOT = { has_character_modifier = quest_cooldown_timer }
		NOT = {
			trait = treasure_fleet_preparation
		}
	}

	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				NOT = {
					any_rival = {
						character = ROOT
					}
				}
			}
			save_event_target_as = rising_sun_leader
		}
		if = {
			limit = { is_landed = yes }
			capital_scope = { save_event_target_as = home_capital } #For some distance checks...
		}
		
		random_list = {
			1000 = {
				modifier = {
					factor = 0.05
					ai = yes # Better for the AI to not always have a mentor
				}
				modifier = {
					factor = 0
					NAND = {
						society_rank == 1
						NOR = {
							any_opinion_modifier_target = {
								reverse_has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_mentor
								}
							}
							has_character_flag = proved_myself_to_mentor
						}
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.5 } # Find a mentor
				}
			}
			20 = {
				modifier = {
					factor = 0
					society_rank == 1
				}
				modifier = {
					factor = 0.1
					society_rank >= 3
				}
				modifier = {
					factor = 0
					NOT = {
						any_society_member = {
							society_member_of = warriors_of_the_rising_sun
							society_rank == 1
							NOR = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_mentor
									}
								}
								has_character_flag = proved_myself_to_mentor
							}
						}
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.7 } # Take on a(nother) student
				}
			}
			20 = {
				modifier = {
					factor = 0
					NOT = {
						society = {
							any_society_member = {
								society_member_of = warriors_of_the_rising_sun
								ai = yes
								age = 16
								NOT = { character = ROOT }
								is_inaccessible_or_incapable_trigger = no
								NOT = { has_character_modifier = bedridden_illness }
								NOT = { has_character_modifier = severe_illness }
								NOT = { has_character_flag = call_to_legend_active }
								NOT = {
									has_opinion_modifier = {
										modifier = opinion_rising_sun_student
										who = ROOT
									}
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.9 } # Duel someone
				}
			}
			5 = {
				modifier = {
					factor = 0
					NOT = {
					society = {
							any_society_member = {
								society_member_of = warriors_of_the_rising_sun
								ai = yes
								age = 16
								NOT = { character = ROOT }
								is_inaccessible_or_incapable_trigger = no
								NOT = { has_character_modifier = bedridden_illness }
								NOT = { has_character_modifier = severe_illness }
								NOT = { has_character_flag = call_to_legend_active }
								NOT = {
									has_opinion_modifier = {
										modifier = opinion_rising_sun_student
										who = ROOT
									}
								}
								any_rival = {
									character = ROOT
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.14 } # Duel a rival - to the death!
				}
			}
			20 = {
				trigger = {
					is_landed = yes
					war = no
					OR = {
						any_independent_ruler = { # Either an independent ruler
							is_tributary = no
							war = no
							NOT = {
								any_realm_lord = {
									character = ROOT
								}
							}
							any_realm_title = {
								location = {
									OR = {
										AND = { #Either you can travel via water to them...
											is_coastal = yes
											can_naval_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = {
											#Or they are accessible via land...
											event_target:home_capital = { is_coastal = no }
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = { #Or not a coastal place...
											is_coastal = no
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
									}
								}
							}
							NOT = {
								has_truce = ROOT
							}
							# Not too uneven a fight
							relative_power = {
								who = ROOT
								power = 0.9 # A slight advantage is permissible
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 2.0 # And we don't want a far too powerful target
								}
							}
							OR = {
								NOT = {
									society_member_of = warriors_of_the_rising_sun
								}
								ROOT = {
									root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
								}
							}
							ROOT = { # We can actually declare war
								OR = {
									independent = yes
									NOT = {
										any_liege = {
											primary_title = {
												has_law = vassal_wars_law_2
											}
										}
									}
								}
							}
							has_game_rule = {
								name = wars_of_honor
								value = normal_restrictions
							}
						}
						AND = {
							independent = no
							liege = { # Or a vassal of our liege
								any_vassal = {
									war = no
									any_realm_title = {
										location = {
											OR = {
												AND = { #Either you can travel via water to them...
													is_coastal = yes
													can_naval_path_to = { target = event_target:home_capital distance < 1000 }
												}
												AND = {
													#Or they are accessible via land...
													event_target:home_capital = { is_coastal = no }
													can_land_path_to = { target = event_target:home_capital distance < 1000 }
												}
												AND = { #Or not a coastal place...
													is_coastal = no
													can_land_path_to = { target = event_target:home_capital distance < 1000 }
												}
											}
										}
									}
									NOT = {
										has_truce = ROOT
									}
									# Not too uneven a fight
									relative_power = {
										who = ROOT
										power = 0.9 # A slight advantage is permissible
									}
									NOT = {
										relative_power = {
											who = ROOT
											power = 2.0 # And we don't want a far too powerful target
										}
									}
									OR = {
										NOT = {
											society_member_of = warriors_of_the_rising_sun
										}
										ROOT = {
											root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
										}
									}
								}
							}
							NOT = { # We can actually declare war
								any_liege = {
									primary_title = {
										OR = {
											has_law = vassal_wars_law_1
											has_law = vassal_wars_law_2
										}
									}
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					NOT = {
						society_currency >= 100 # If you can't declare the war, don't bother
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.16 } # Win a War of Honor
				}
			}
			5 = {
				trigger = {
					is_landed = yes
					war = no
					is_playable = yes
					any_rival = {
						is_playable = yes
						OR = {
							same_liege = ROOT
							AND = {
								independent = yes
								is_tributary = no
								NOT = {
									any_realm_lord = {
										character = ROOT
									}
								}
							}
						}
						NOT = {
							has_truce = ROOT
						}
						any_realm_title = {
							location = {
								OR = {
									AND = { #Either you can travel via water to them...
										is_coastal = yes
										can_naval_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = {
										#Or they are accessible via land...
										event_target:home_capital = { is_coastal = no }
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = { #Or not a coastal place...
										is_coastal = no
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					NOT = {
						society_currency >= 100 # If you can't declare the war, don't bother
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.18 } # Win a War of Honor - against a rival
				}
			}
			10 = {
				modifier = {
					factor = 0
					NAND = {
						is_playable = yes
						any_demesne_province = {
							num_of_empty_holdings = 1
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.20 } # Build a castle
				}
			}
			10 = {
				modifier = {
					factor = 0
					NAND = {
						has_dlc = "Way of Life"
						is_playable = yes
						OR = {
							has_focus = focus_business # Warriors don't trade!
							has_focus = focus_seduction # Dishonest
							has_focus = focus_intrigue # Dishonest
							has_focus = focus_scholarship # Scholarship is not important
							has_focus = focus_theology # Religious matters are not to be the priority
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.22 } # Switch to the War focus
				}
			}
			10 = {
				modifier = {
					factor = 0
					is_landed = no
				}
				modifier = {
					factor = 0
					war = yes
				}
				modifier = {
					factor = 0
					has_character_flag = started_the_very_best # No quitting the chain and restarting it!
				}
				modifier = {
					factor = 0
					any_society_member = {
						has_character_flag = i_am_the_very_best # Someone already completed it and is still around
					}
				}
				modifier = {
					factor = 0
					NAND = {
						is_playable = yes
						society_rank >= 2
						NOT = {
							any_society_member = {
								society_member_of = warriors_of_the_rising_sun
								has_quest = quest_the_very_best
							}
						}
						combat_rating = 20 # Anything else would be far too low
					}
				}
				modifier = {
					factor = 0.1 # Less likely if you've already got the bloodline
					any_owned_bloodline = {
						has_bloodline_flag = the_very_best
					}
				}
				modifier = {
					factor = 0.1
					any_owned_bloodline = {
						has_bloodline_flag = the_very_best
						founder = {
							dynasty = ROOT
						}
					}
				}
				modifier = {
					factor = 0
					any_owned_bloodline = {
						has_bloodline_flag = the_very_best
						founder = {
							dynasty = ROOT
						}
					}
					ai = yes # The AI doesn't get to do it again (as that blocks the player)
				}
				modifier = {
					factor = 0.1
					ai = yes
				}
				modifier = {
					factor = 0.1
					NOT = {
						combat_rating = 40
					}
				}
				modifier = {
					factor = 0.5
					NOT = {
						combat_rating = 60
					}
				}
				modifier = {
					factor = 2
					combat_rating = 80
				}
				modifier = {
					factor = 0
					has_character_modifier = mark_of_dishonor # You're dishonorable, and not worthy to be the society's chosen champion
				}
				modifier = {
					factor = 0
					has_character_flag = not_the_very_best # Already failed
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.25 } # Become the very best (like no one ever was!)
				}
			}
			75 = { # AI bypasses missions at times
				trigger = {
					ai = yes
				}
				random_list = {
					70 = {
						modifier = {
							factor = 0.9
							society_influence >= 30
						}
						modifier = {
							factor = 0.9
							society_influence >= 40
						}
						modifier = {
							factor = 0.8
							society_influence >= 50
						}
						modifier = {
							factor = 0.7
							society_influence >= 70
						}
						modifier = {
							factor = 0.6
							society_influence >= 80
						}
						modifier = {
							factor = 0.5
							society_influence >= 90
						}
						add_mission_succeed_influence_effect = yes
					}
					30 = {
						add_mission_fail_influence_effect = yes
					}
				}
			}
			200 = {
				trigger = {
					ai = yes
				}
				# Do nothing
			}
		}
	}
}

### Mission - get a mentor

# Ping
character_event = {
	id = risingsun.5
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.6 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.6
	desc = EVTDESC_RISINGSUN_6

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes

	trigger = {
		society_rank == 1
		NOR = {
			any_opinion_modifier_target = {
				reverse_has_opinion_modifier = {
					who = ROOT
					modifier = opinion_rising_sun_mentor
				}
			}
			has_character_flag = proved_myself_to_mentor
		}
	}

	option = {
		name = ACCEPT
		set_quest = quest_rising_sun_get_mentor
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Mission - get a student

# Ping
character_event = {
	id = risingsun.7
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.8 }
		}
	}
}

society_quest_event = {
	id = risingsun.8
	desc = EVTDESC_RISINGSUN_8

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes

	trigger = {
		society_rank >= 2
	}

	option = {
		name = ACCEPT
		set_quest = quest_rising_sun_get_student
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Duel someone

# Ping
character_event = {
	id = risingsun.9
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.10 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.10
	desc = EVTDESC_RISINGSUN_10

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes

	trigger = {
		any_society_member = {
			society_member_of = warriors_of_the_rising_sun
			ai = yes
			age = 16
			NOT = { character = ROOT }
			is_inaccessible_or_incapable_trigger = no
			NOT = { has_character_modifier = bedridden_illness }
			NOT = { has_character_modifier = severe_illness }
			NOT = { has_character_flag = call_to_legend_active }
			NOT = {
				has_opinion_modifier = {
					modifier = opinion_rising_sun_student
					who = ROOT
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = { #best case (someone within diplo-range, not sick, not seriously injured already)...
				any_society_member = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					is_maimed_trigger = no
					has_medium_disability_trigger = no #limits the character to some extent
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
					is_within_diplo_range = ROOT
				}
			}

			any_society_member = {
				limit = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					is_maimed_trigger = no
					has_medium_disability_trigger = no #limits the character to some extent
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
					is_within_diplo_range = ROOT
				}
				score_value = { #Prioritizes selecting some kind of warrior...
	                value = 10
	                matching_soldier_score = yes
	            }
	            save_event_target_as = duel_target
			}
			
		}
		else_if = { #second best choice (same, but outside of diplo-range)...
			limit = {
				any_society_member = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					has_medium_disability_trigger = no #limits the character to some extent
					is_maimed_trigger = no #has a maimed trait
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
				}
			}
			any_society_member = {
				limit = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					has_medium_disability_trigger = no #limits the character to some extent
					is_maimed_trigger = no #has a maimed trait
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
				}
				score_value = { #Prioritizes selecting some kind of warrior...
	                value = 10
	                matching_soldier_score = yes
	            }
	            save_event_target_as = duel_target
			}
		}
		else_if = { #third best option (now also injured or old folks allowed)...
			limit = {
				any_society_member = {
					same_society_as = ROOT
	                ai = yes
					age = 16
	                NOT = { character = ROOT }
		            is_inaccessible_or_incapable_trigger = no
	                NOT = { has_character_modifier = bedridden_illness }
		            NOT = { has_character_modifier = severe_illness }
		            NOT = { has_character_flag = call_to_legend_active }
	            }
			}
			any_society_member = {
				limit = {
					same_society_as = ROOT
					ai = yes
					age = 16
	                NOT = { character = ROOT }
		            is_inaccessible_or_incapable_trigger = no
	                NOT = { has_character_modifier = bedridden_illness }
		            NOT = { has_character_modifier = severe_illness }
		            NOT = { has_character_flag = call_to_legend_active }
				}
				score_value = { #Prioritizes selecting some kind of warrior...
	                value = 10
	                matching_soldier_score = yes
	            }
	            save_event_target_as = duel_target
			}
		}
	}
	
	quest_target = event_target:duel_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:duel_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_duel_honor
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}


# Hidden Cleanup event for (prematurely) dead quest targets...
character_event = {
	id = risingsun.11
	hide_window = yes
	has_dlc = "Holy Fury"

	is_triggered_only = yes

	trigger = { 
		is_quest_target = yes
	}

	immediate = {
		any_quester_targeting_this = {
			limit = {
				OR = {
					has_quest = quest_rising_sun_duel_honor
					has_quest = quest_rising_sun_duel_deadly
				}
			}
			character_event = { id = risingsun.12 days = 15 } # Clears duel mission
		}
		any_quester_targeting_this = {
			limit = {
				OR = {
					has_quest = quest_rising_sun_war_of_honor
					has_quest = quest_rising_sun_war_of_honor_rival
				}
			}
			character_event = { id = risingsun.12 days = 15 } # Clears war mission
		}
	}
}

# Notification "I have failed my mission duel <dead character>..."
character_event = {
    id = risingsun.12
    picture = GFX_evt_battle
    border = GFX_event_normal_frame_war
    has_dlc = "Holy Fury"

    is_triggered_only = yes

    desc = {
    	text = EVTDESC_RISINGSUN_12_DUEL
    	trigger = {
			OR = {
				has_quest = quest_rising_sun_duel_honor
				has_quest = quest_rising_sun_duel_deadly
			}
			NOT = { has_quest = quest_rising_sun_war_of_honor	}
			NOT = { has_quest = quest_rising_sun_war_of_honor_rival	}
    	}
    }
    desc = {
    	text = EVTDESC_RISINGSUN_12_WAR
    	trigger = {
			OR = {
				has_quest = quest_rising_sun_war_of_honor
				has_quest = quest_rising_sun_war_of_honor_rival
			}
			NOT = { has_quest = quest_rising_sun_duel_honor	}
			NOT = { has_quest = quest_rising_sun_duel_deadly	}
    	}
    }
    trigger = {
    	OR = {
	    	has_quest = quest_rising_sun_duel_honor
	    	has_quest = quest_rising_sun_duel_deadly
	    	has_quest = quest_rising_sun_war_of_honor
	    	has_quest = quest_rising_sun_war_of_honor_rival
    	}
    }

    notification = yes

    option = { #Alas
        name = ALAS
        character_event = { id = risingsun.13 days = 1 } # ACTUAL cleanup
    }
}

character_event = { #*Actual* clean up, because the event above can't handle all the instant stuff
    id = risingsun.13
    hide_window = yes
    is_triggered_only = yes
    immediate = {
    	if = {
        	limit = {
				OR = {
					has_quest = quest_rising_sun_duel_honor
					has_quest = quest_rising_sun_duel_deadly
				}
        	}
        	add_character_modifier = {
				name = quest_cooldown_timer
				hidden = yes
				days = 1000
			}
        }

        clr_quest = { id = quest_rising_sun_duel_honor failure = yes }
        clr_quest = { id = quest_rising_sun_duel_deadly failure = yes }
        clr_character_flag = deadly_duel@FROM	
    }
}

### Duel a rival - to the death!

# Ping
character_event = {
	id = risingsun.14
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.15 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.15
	desc = EVTDESC_RISINGSUN_15

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		society = {
			any_society_member = {
				society_member_of = warriors_of_the_rising_sun
				ai = yes
				age = 16
				NOT = { character = ROOT }
				is_inaccessible_or_incapable_trigger = no
				NOT = { has_character_modifier = bedridden_illness }
				NOT = { has_character_modifier = severe_illness }
				NOT = { has_character_flag = call_to_legend_active }
				NOT = {
					has_opinion_modifier = {
						modifier = opinion_rising_sun_student
						who = ROOT
					}
				}
				any_rival = {
					character = ROOT
				}
			}
		}
	}
	
	immediate = {
		any_rival = {
			limit = {
				is_inaccessible_or_incapable_trigger = no
				NOT = { has_character_modifier = bedridden_illness }
				NOT = { has_character_modifier = severe_illness }
				is_adult = yes
				ai = yes
				is_within_diplo_range = ROOT
			}
			score_value = { #Prioritizes selecting some kind of character you wouldn't get along with...
				value = 10
				potential_rival_score = yes
			}
			score_value = { #Extra weight for characters you've encountered before...
				value = 10
				disliked_target_selection_score = yes
			}
			save_event_target_as = duel_target
			break = yes
		}
	}
	
	quest_target = event_target:duel_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:duel_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_duel_deadly
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Win a War of Honor

# Ping
character_event = {
	id = risingsun.16
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.17 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.17
	desc = EVTDESC_RISINGSUN_17

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		war = no
		is_playable = yes
		OR = {
			any_independent_ruler = { # Either an independent ruler
				is_tributary = no
				war = no
				any_realm_title = {
					location = {
						OR = {
							AND = { #Either you can travel via water to them...
								is_coastal = yes
								can_naval_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = {
								#Or they are accessible via land...
								event_target:home_capital = { is_coastal = no }
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = { #Or not a coastal place...
								is_coastal = no
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
						}
					}
				}
				NOT = {
					has_truce = ROOT
				}
				# Not too uneven a fight
				relative_power = {
					who = ROOT
					power = 0.9 # A slight advantage is permissible
				}
				NOT = {
					relative_power = {
						who = ROOT
						power = 2.0 # And we don't want a far too powerful target
					}
				}
				OR = {
					NOT = {
						society_member_of = warriors_of_the_rising_sun
					}
					ROOT = {
						root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
					}
				}
			}
			AND = {
				independent = no
				liege = { # Or a vassal of our liege
					any_vassal = {
						war = no
						any_realm_title = {
							location = {
								OR = {
									AND = { #Either you can travel via water to them...
										is_coastal = yes
										can_naval_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = {
										#Or they are accessible via land...
										event_target:home_capital = { is_coastal = no }
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = { #Or not a coastal place...
										is_coastal = no
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
								}
							}
						}
						NOT = {
							has_truce = ROOT
						}
						# Not too uneven a fight
						relative_power = {
							who = ROOT
							power = 0.9 # A slight advantage is permissible
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 2.0 # And we don't want a far too powerful target
							}
						}
						OR = {
							NOT = {
								society_member_of = warriors_of_the_rising_sun
							}
							ROOT = {
								root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
							}
						}
					}
				}
			}
		}
	}

	immediate = {
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						any_independent_ruler = { # Either an independent ruler
							is_tributary = no
							war = no
							NOT = {
								any_realm_lord = {
									character = ROOT
								}
							}
							any_realm_title = {
								location = {
									OR = {
										AND = { #Either you can travel via water to them...
											is_coastal = yes
											can_naval_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = {
											#Or they are accessible via land...
											event_target:home_capital = { is_coastal = no }
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = { #Or not a coastal place...
											is_coastal = no
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
									}
								}
							}
							NOT = {
								has_truce = ROOT
							}
							# Not too uneven a fight
							relative_power = {
								who = ROOT
								power = 0.9 # A slight advantage is permissible
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 2.0 # And we don't want a far too powerful target
								}
							}
							OR = {
								NOT = {
									society_member_of = warriors_of_the_rising_sun
								}
								ROOT = {
									root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
								}
							}
						}
					}
				}
				random_independent_ruler = { # Either an independent ruler
					limit = {
						is_tributary = no
						war = no
						NOT = {
							any_realm_lord = {
								character = ROOT
							}
						}
						any_realm_title = {
							location = {
								OR = {
									AND = { #Either you can travel via water to them...
										is_coastal = yes
										can_naval_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = {
										#Or they are accessible via land...
										event_target:home_capital = { is_coastal = no }
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = { #Or not a coastal place...
										is_coastal = no
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
								}
							}
						}
						NOT = {
							has_truce = ROOT
						}
						# Not too uneven a fight
						relative_power = {
							who = ROOT
							power = 0.9 # A slight advantage is permissible
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 2.0 # And we don't want a far too powerful target
							}
						}
						OR = {
							NOT = {
								society_member_of = warriors_of_the_rising_sun
							}
							ROOT = {
								root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
							}
						}
					}
					save_event_target_as = war_target
				}
			}
			50 = {
				modifier = {
					factor = 0
					independent = yes
				}
				modifier = {
					factor = 0
					NOT = {
						liege = { # Or a vassal of our liege
							any_vassal = {
								war = no
								any_realm_title = {
									location = {
										OR = {
											AND = { #Either you can travel via water to them...
												is_coastal = yes
												can_naval_path_to = { target = event_target:home_capital distance < 1000 }
											}
											AND = {
												#Or they are accessible via land...
												event_target:home_capital = { is_coastal = no }
												can_land_path_to = { target = event_target:home_capital distance < 1000 }
											}
											AND = { #Or not a coastal place...
												is_coastal = no
												can_land_path_to = { target = event_target:home_capital distance < 1000 }
											}
										}
									}
								}
								NOT = {
									has_truce = ROOT
								}
								# Not too uneven a fight
								relative_power = {
									who = ROOT
									power = 0.9 # A slight advantage is permissible
								}
								NOT = {
									relative_power = {
										who = ROOT
										power = 2.0 # And we don't want a far too powerful target
									}
								}
								OR = {
									NOT = {
										society_member_of = warriors_of_the_rising_sun
									}
									ROOT = {
										root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
									}
								}
							}
						}
					}
				}
				liege = { # Or a vassal of our liege
					random_vassal = {
						limit = {
							war = no
							any_realm_title = {
								location = {
									OR = {
										AND = { #Either you can travel via water to them...
											is_coastal = yes
											can_naval_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = {
											#Or they are accessible via land...
											event_target:home_capital = { is_coastal = no }
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = { #Or not a coastal place...
											is_coastal = no
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
									}
								}
							}
							NOT = {
								has_truce = ROOT
							}
							# Not too uneven a fight
							relative_power = {
								who = ROOT
								power = 0.9 # A slight advantage is permissible
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 2.0 # And we don't want a far too powerful target
								}
							}
							OR = {
								NOT = {
									society_member_of = warriors_of_the_rising_sun
								}
								ROOT = {
									root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
								}
							}
						}
						save_event_target_as = war_target
					}
				}
			}
		}
	}
	
	quest_target = event_target:war_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:war_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_war_of_honor
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Win a War of Honor - against a rival

# Ping
character_event = {
	id = risingsun.18
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.19 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.19
	desc = EVTDESC_RISINGSUN_19

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		is_playable = yes
		any_rival = {
			is_playable = yes
			OR = {
				same_liege = ROOT
				AND = {
					is_tributary = no
					independent = yes
					NOT = {
						any_realm_lord = {
							character = ROOT
						}
					}
				}
			}
			NOT = {
				has_truce = ROOT
			}
			any_realm_title = {
				location = {
					OR = {
						AND = { #Either you can travel via water to them...
							is_coastal = yes
							can_naval_path_to = { target = event_target:home_capital distance < 1000 }
						}
						AND = {
							#Or they are accessible via land...
							event_target:home_capital = { is_coastal = no }
							can_land_path_to = { target = event_target:home_capital distance < 1000 }
						}
						AND = { #Or not a coastal place...
							is_coastal = no
							can_land_path_to = { target = event_target:home_capital distance < 1000 }
						}
					}
				}
			}
		}
	}
	
	immediate = {
		random_rival = {
			limit = {
				is_playable = yes
				OR = {
					same_liege = ROOT
					AND = {
						independent = yes
						NOT = {
							any_realm_lord = {
								character = ROOT
							}
						}
					}
				}
				NOT = {
					has_truce = ROOT
				}
				any_realm_title = {
					location = {
						OR = {
							AND = { #Either you can travel via water to them...
								is_coastal = yes
								can_naval_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = {
								#Or they are accessible via land...
								event_target:home_capital = { is_coastal = no }
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = { #Or not a coastal place...
								is_coastal = no
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
						}
					}
				}
			}
			save_event_target_as = war_target
		}
	}
	
	quest_target = event_target:war_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:war_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_war_of_honor_rival
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Build a castle

# Ping
character_event = {
	id = risingsun.20
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.21 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.21
	desc = EVTDESC_RISINGSUN_21
	border = GFX_event_letter_frame_war

	is_triggered_only = yes

	option = {
		name = ACCEPT
		set_quest = quest_rising_sun_castle_construction
	}
	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Switch to the War focus

# Ping
character_event = {
	id = risingsun.22
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.23 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.23
	desc = EVTDESC_RISINGSUN_23
	border = GFX_event_letter_frame_war

	is_triggered_only = yes

	#quest_target = ROOT

	option = {
		name = ACCEPT
		ROOT = {
			set_quest_target = {
				id = quest_rising_sun_war_focus
				holder = ROOT
			}
		}
	}
	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
	
	after = {
		hidden_effect = { #For the one who instantly selected the focus, bypassing the mission-trigger
			if = {
				limit = { has_focus = focus_war }
				character_event = { id = risingsun.24 days = 1 }
			}
		}
	}
}

#on_focus_selected: Changing to War focus.
character_event = {
	id = risingsun.24
	desc = EVTDESC_RISINGSUN_24
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_quest = quest_rising_sun_war_focus
		has_focus = focus_war
	}

	option = {
		name = EVOPTA_RISINGSUN_24
		clr_quest = quest_rising_sun_war_focus
		add_society_currency_minor_effect = yes
	}
}

### Prove yourself as the very best (like no one ever was!)

# Ping
character_event = {
	id = risingsun.25
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.26 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.26
	desc = EVTDESC_RISINGSUN_26
	border = GFX_event_letter_frame_war

	is_triggered_only = yes

	option = {
		name = ACCEPT
		ROOT = {
			set_quest_target = {
				id = quest_rising_sun_the_very_best
				holder = ROOT
			}
		}
		log = "[Root.GetBestName] is trying to be the Very Best (like no one ever was)!"
		
		set_character_flag = started_the_very_best # Prevents someone from restarting by abandoning the quest
		
		set_character_flag = special_rising_sun_character # Ensures that we won't be kicked from the society if something weird happens, as we don't want to break the chain
		
		set_variable = {
			which = rising_sun_challenges_completed
			value = 0
		}
		
		character_event = { id = risingsun.388 days = 30 random = 30 } # Start the quest
	}
	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### War of Honor mission success/failure

# You succeeded (hidden)
character_event = {
	id = risingsun.27
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				NOR = {
					any_rival = {
						character = ROOT
					}
					ROOT = {
						quest_target = {
							character = PREV
						}
					}
				}
			}
			save_event_target_as = rising_sun_leader
		}
		
		event_target:rising_sun_leader = {
			character_event = { id = risingsun.28 }
		}
	}
}

# Ping congratulating person
character_event = {
	id = risingsun.28
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			letter_event = { id = risingsun.29 }
		}
	}
}

# You succeeded!
letter_event = {
	id = risingsun.29
	border = GFX_event_letter_frame_war

	portrait = event_target:rising_sun_leader
	
	is_triggered_only = yes

	trigger = {
		OR = {
			has_quest = quest_rising_sun_war_of_honor
			has_quest = quest_rising_sun_war_of_honor_rival
		}
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor
		}
		text = EVTDESC_RISINGSUN_29A
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor_rival
		}
		text = EVTDESC_RISINGSUN_29B
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_29 # I proved my honor!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor
			}
			clr_quest = quest_rising_sun_war_of_honor
			add_society_currency_major_effect = yes
		}
		else_if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor_rival
			}
			clr_quest = quest_rising_sun_war_of_rival
			add_society_currency_major_effect = yes
		}
	}
}

# You failed (hidden)
character_event = {
	id = risingsun.30
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				NOR = {
					any_rival = {
						character = ROOT
					}
					ROOT = {
						quest_target = {
							character = PREV
						}
					}
				}
			}
			save_event_target_as = rising_sun_leader
		}
		
		event_target:rising_sun_leader = {
			character_event = { id = risingsun.31 }
		}
	}
}

# Ping other member
character_event = {
	id = risingsun.31
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			letter_event = { id = risingsun.32 }
		}
	}
}

# You failed!
letter_event = {
	id = risingsun.32
	border = GFX_event_letter_frame_war

	portrait = event_target:rising_sun_leader
	
	is_triggered_only = yes

	trigger = {
		OR = {
			has_quest = quest_rising_sun_war_of_honor
			has_quest = quest_rising_sun_war_of_honor_rival
		}
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor
		}
		text = EVTDESC_RISINGSUN_32A
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor_rival
		}
		text = EVTDESC_RISINGSUN_32B
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_32 # Dishonor on me!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor
			}
			clr_quest = quest_rising_sun_war_of_honor
			detract_society_currency_major_effect = yes
		}
		else_if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor_rival
			}
			clr_quest = quest_rising_sun_war_of_rival
			detract_society_currency_major_effect = yes
		}
	}
}

##### Brothers in Arms

# Called to arms
letter_event = {
	id = risingsun.33
	desc = EVTDESC_RISINGSUN_33
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_33 # Of course I'll join!
		
		change_society_currency = 100
		
		join_attacker_wars = FROM
		join_defender_wars = FROM
		
		FROMFROM = {
			letter_event = { id = risingsun.34 }
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_33 # I don't think so!
		
		change_society_currency = -500
		
		FROMFROM = {
			letter_event = { id = risingsun.35 }
		}
	}
}

# FROM accepted CtA
letter_event = {
	id = risingsun.34
	desc = EVTDESC_RISINGSUN_34
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_34 # Good to hear!
		
		opinion = {
			who = FROM
			modifier = opinion_accepted_rising_sun_cta
		}
	}
}

# FROM refused CtA
letter_event = {
	id = risingsun.35
	desc = EVTDESC_RISINGSUN_35
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_35 # I will remember this!
		
		opinion = {
			who = FROM
			modifier = opinion_refused_rising_sun_cta
		}
	}
}

##### Mentor events

### Approaching a possible mentor

# Mentor approached
letter_event = {
	id = risingsun.36
	desc = EVTDESC_RISINGSUN_36
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_36 # I'll teach you!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROMFROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROMFROM
			modifier = opinion_rising_sun_mentor
		}
		FROMFROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		
		FROMFROM = {
			letter_event = { id = risingsun.37 days = 1 } # FROMFROM got a mentor
		}
		FROMFROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		add_society_currency_minor_effect = yes
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 10
				FROMFROM = {
					any_friend = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 10
				FROMFROM = {
					any_lover = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 5
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.1
				society_rank == 3
			}
			modifier = {
				factor = 0.01
				society_rank == 4
			}
			modifier = {
				factor = 0.001
				trait = greedy
			}
			modifier = {
				factor = 0.001
				trait = proud
			}
			modifier = {
				factor = 0.001
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 0.1
				has_any_opinion_modifier = opinion_rising_sun_student
			}
			modifier = {
				factor = 5
				has_quest = quest_rising_sun_get_student
			}
			modifier = {
				factor = 0.1
				trait = slothful
			}
			modifier = {
				factor = 2
				trait = diligent
			}
			modifier = {
				factor = 0.1
				is_female = no
				FROMFROM = {
					is_female = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_36 # Show me what you've got!
		
		FROMFROM = {
			letter_event = { id = risingsun.38 days = 1 } # FROMFROM is asked to show their skill
		}
		
		change_society_currency = 25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.5
				society_rank == 3
			}
			modifier = {
				factor = 0.1
				society_rank == 4
			}
			modifier = {
				factor = 0.001
				trait = greedy
			}
			modifier = {
				factor = 0.001
				trait = proud
			}
			modifier = {
				factor = 0.001
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 5
				has_any_opinion_modifier = opinion_rising_sun_student
			}
			modifier = {
				factor = 10
				has_quest = quest_rising_sun_get_student
			}
			modifier = {
				factor = 0.01
				trait = slothful
			}
			modifier = {
				factor = 10
				trait = diligent
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				NOT = {
					has_dlc = "Conclave"
				}
				is_landed = no
				holds_favor_on = FROMFROM
			}
		}
		
		name = EVTOPTC_RISINGSUN_36 # Some gold would be nice...
		
		FROMFROM = {
			letter_event = { id = risingsun.39 days = 1 } # FROMFROM is asked to pay
		}
		
		change_society_currency = -50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.5
				society_rank == 3
			}
			modifier = {
				factor = 0.1
				society_rank == 4
			}
			modifier = {
				factor = 10
				trait = greedy
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 5
				trait = slothful
			}
			modifier = {
				factor = 0.2
				trait = diligent
			}
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			is_landed = yes
			NOT = {
				holds_favor_on = FROMFROM
			}
		}
		
		name = EVTOPTD_RISINGSUN_36 # A Favor would be nice...
		
		FROMFROM = {
			letter_event = { id = risingsun.40 days = 1 } # FROMFROM is asked for a Favor
		}
		
		change_society_currency = -50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.5
				society_rank == 3
			}
			modifier = {
				factor = 0.1
				society_rank == 4
			}
			modifier = {
				factor = 10
				trait = greedy
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 5
				trait = slothful
			}
			modifier = {
				factor = 0.2
				trait = diligent
			}
		}
	}
	
	option = {
		name = EVTOPTE_RISINGSUN_36 # Teach YOU? HA!
		
		FROMFROM = {
			letter_event = { id = risingsun.41 days = 1 } # FROMFROM is told to get lost
		}
		
		change_society_currency = -100
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				FROMFROM = {
					any_friend = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 0.01
				FROMFROM = {
					any_lover = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 0.1
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 0.1
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.1
				society_rank == 2
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 0.001
				trait = kind
			}
			modifier = {
				factor = 10
				trait = cruel
			}
			modifier = {
				factor = 2
				has_any_opinion_modifier = opinion_rising_sun_student
			}
			modifier = {
				factor = 0.1
				has_quest = quest_rising_sun_get_student
			}
			modifier = {
				factor = 10
				trait = slothful
			}
		}
	}
}

# Mentor accepted right away
letter_event = {
	id = risingsun.37
	desc = EVTDESC_RISINGSUN_37
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_37 # Yay!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_mentor
			}
			clr_quest = quest_rising_sun_get_mentor
			add_society_currency_medium_effect = yes
		}
		else = {
			add_society_currency_minor_effect = yes
		}
	}
}

# Mentor set a challenge - show me what you've got!
letter_event = {
	id = risingsun.38
	desc = EVTDESC_RISINGSUN_38
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_38 # But of course!
		
		hidden_tooltip = {
			random_list = {
				1 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = 20
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = 40
						}
					}
					FROM = {
						character_event = { id = risingsun.42 days = 1 } # Did incredibly well
					}
				}
				29 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = 5
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = 20
							}
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = 10
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = 20
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.43 days = 1 } # Did good
					}
				}
				40 = {
					FROM = {
						character_event = { id = risingsun.44 days = 1 } # Did okay
					}
				}
				29 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = -5
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = -20
							}
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = -10
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = -20
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.45 days = 1 } # Did poorly
					}
				}
				1 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = -20
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = -40
						}
					}
					FROM = {
						character_event = { id = risingsun.46 days = 1 } # Did incredibly poorly
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_38 # I don't think so!
		
		change_society_currency = -50
		
		FROM = {
			character_event = { id = risingsun.47 days = 1 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mentor demanded a bribe - money (scaled by tier)
letter_event = {
	id = risingsun.39
	desc = EVTDESC_RISINGSUN_39
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_39 # But of course!
		
		if = {
			limit = {
				OR = {
					tier = emperor
					any_close_relative = {
						dynasty = ROOT
						tier = emperor
					}
				}
			}
			wealth = -250
			FROM = {
				wealth = 250
			}
		}
		else_if = {
			limit = {
				OR = {
					tier = king
					any_close_relative = {
						dynasty = ROOT
						tier = king
					}
				}
			}
			wealth = -100
			FROM = {
				wealth = 100
			}
		}
		else_if = {
			limit = {
				OR = {
					tier = duke
					any_close_relative = {
						dynasty = ROOT
						tier = duke
					}
				}
			}
			wealth = -50
			FROM = {
				wealth = 50
			}
		}
		else_if = {
			limit = {
				OR = {
					tier = count
					any_close_relative = {
						dynasty = ROOT
						tier = count
					}
				}
			}
			wealth = -25
			FROM = {
				wealth = 25
			}
		}
		else = {
			wealth = -10
			FROM = {
				wealth = 10
			}
		}
		
		FROM = {
			letter_event = { id = risingsun.63 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_39 # I don't think so!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.64 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = charitable
			}
		}
	}
}

# Mentor demanded a bribe - Favor (only with Conclave and no held Favor by them)
letter_event = {
	id = risingsun.40
	desc = EVTDESC_RISINGSUN_40
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_40 # But of course!
		
		FROM = {
			add_favor = ROOT
		}
		
		FROM = {
			letter_event = { id = risingsun.65 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = proud
					trait = ambitious
					trait = paranoid
					trait = envious
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_40 # I don't think so!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.66 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = humble
					trait = content
				}
			}
		}
	}
}

# Mentor refused right away
letter_event = {
	id = risingsun.41
	desc = EVTDESC_RISINGSUN_41
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_41 # I will remember this!
		
		prestige = -25
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Show me what you've got - incredibly good student
character_event = {
	id = risingsun.42
	desc = EVTDESC_RISINGSUN_42
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				society_rank >= 2
				NOR = {
					any_rival = {
						character = ROOT
					}
					any_rival = {
						character = FROM
					}
				}
				combat_rating_diff = {
					who = ROOT
					value = 20
				}
			}
			save_event_target_as = better_mentor
		}
	}
	
	option = {
		trigger = {
			event_target:better_mentor = {
				always = yes
			}
		}
		name = EVTOPTA_RISINGSUN_42 # I cannot teach you much; you should try [other member]!
		
		change_society_currency = 100
		
		FROM = {
			character_event = { id = risingsun.48 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = proud
			}
			modifier = {
				factor = 10
				event_target:better_mentor = {
					OR = {
						any_friend = {
							character = ROOT
						}
						any_lover = {
							character = ROOT
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_42 # I'll teach you!
		
		add_society_currency_minor_effect = yes
		
		FROM = {
			letter_event = { id = risingsun.59 }
		}
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 5
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_42 # You're no good!
		
		change_society_currency = -100
		
		FROM = {
			letter_event = { id = risingsun.61 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					trait = cruel
					trait = envious
				}
			}
			modifier = {
				factor = 0.01
				trait = honest
			}
		}
	}
}

# Show me what you've got - good student
character_event = {
	id = risingsun.43
	desc = EVTDESC_RISINGSUN_43
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	
	option = {
		name = EVTOPTA_RISINGSUN_43 # I'll teach you!
		
		add_society_currency_minor_effect = yes
		
		FROM = {
			letter_event = { id = risingsun.59 }
		}
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 2
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_43 # You're no good!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.61 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					trait = cruel
					trait = envious
				}
			}
			modifier = {
				factor = 0.01
				trait = honest
			}
		}
	}
}

# Show me what you've got - average student
character_event = {
	id = risingsun.44
	desc = EVTDESC_RISINGSUN_44
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_44 # I'll teach you!
		
		add_society_currency_minor_effect = yes
		
		FROM = {
			letter_event = { id = risingsun.60 }
		}
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_44 # You're no good!
		
		FROM = {
			letter_event = { id = risingsun.62 }
		}
		
		change_society_currency = -25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOR = {
					trait = cruel
					trait = envious
				}
			}
		}
	}
}

# Show me what you've got - poor student
character_event = {
	id = risingsun.45
	desc = EVTDESC_RISINGSUN_45
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_45 # I'll teach you!
		
		add_society_currency_minor_effect = yes
		
		FROM = {
			letter_event = { id = risingsun.60 }
		}
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = -2
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_45 # You're no good!
		
		FROM = {
			letter_event = { id = risingsun.62 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.5
				NOR = {
					trait = cruel
					trait = envious
				}
			}
		}
	}
}

# Show me what you've got - unimpressive student
character_event = {
	id = risingsun.46
	desc = EVTDESC_RISINGSUN_46
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_46 # I'll teach you!
		
		FROM = {
			letter_event = { id = risingsun.60 }
		}
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = -5
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		add_society_currency_minor_effect = yes
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = {
					trait = humble
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_46 # You're no good!
		
		FROM = {
			letter_event = { id = risingsun.62 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				OR = {
					trait = kind
					trait = humble
				}
			}
		}
	}
}

# Student refused to show off - inform mentor
character_event = {
	id = risingsun.47
	desc = EVTDESC_RISINGSUN_47
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_47 # Then get lost!
		
		change_society_currency = 25
	}
}

# Mentor said you were too good - suggested another mentor
character_event = {
	id = risingsun.48
	desc = EVTDESC_RISINGSUN_48
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_48 # Let's ask!
		
		event_target:better_mentor = {
			character_event = { id = risingsun.52 days = 1 }
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_49 # No, I want YOU!
		
		FROM = {
			character_event = { id = risingsun.49 days = 1 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Student insisted - take them on?
character_event = {
	id = risingsun.49
	desc = EVTDESC_RISINGSUN_49
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_49 # Fine!
		
		FROM = {
			letter_event = { id = risingsun.50 }
		}
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 5
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		add_society_currency_minor_effect = yes
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_49 # Not happening!
		
		change_society_currency = -25
		
		FROM = {
			letter_event = { id = risingsun.51 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mentor accepted
letter_event = {
	id = risingsun.50
	desc = EVTDESC_RISINGSUN_50
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_50 # Yay!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_mentor
			}
			clr_quest = quest_rising_sun_get_mentor
			add_society_currency_medium_effect = yes
		}
		else = {
			add_society_currency_minor_effect = yes
		}
	}
}

# Mentor refused
letter_event = {
	id = risingsun.51
	desc = EVTDESC_RISINGSUN_51
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_51 # I will remember this!
		
		change_society_currency = -25
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Other mentor approached - exceptional student
character_event = {
	id = risingsun.52
	desc = EVTDESC_RISINGSUN_52
	picture = GFX_evt_pleasing_letter
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_52 # Sure!
		
		add_society_currency_minor_effect = yes
		
		FROM = {
			letter_event = { id = risingsun.53 }
		}
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 5
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_52 # Nope!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.55 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Other mentor accepted - student
letter_event = {
	id = risingsun.53
	desc = EVTDESC_RISINGSUN_53
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_51 # Yay!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_mentor
			}
			clr_quest = quest_rising_sun_get_mentor
			add_society_currency_medium_effect = yes
		}
		else = {
			add_society_currency_minor_effect = yes
		}
		
		FROMFROMFROM = {
			letter_event = { id = risingsun.54 }
		}
	}
}

# Other mentor accepted - mentor
letter_event = {
	id = risingsun.54
	desc = EVTDESC_RISINGSUN_54
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_54 # Yay!
		
		change_society_currency = 25
	}
}

# Other mentor refused - student
letter_event = {
	id = risingsun.55
	desc = EVTDESC_RISINGSUN_55
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_55 # I will remember this!
		
		change_society_currency = -25
		
		FROMFROMFROM = {
			letter_event = { id = risingsun.56 days = 1 }
		}
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Other mentor refused - mentor
letter_event = {
	id = risingsun.56
	desc = EVTDESC_RISINGSUN_56
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_56 # Fine!
		
		add_society_currency_minor_effect = yes
		
		FROM = {
			letter_event = { id = risingsun.57 }
		}
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 5
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_56 # Not happening!
		
		change_society_currency = -25
		
		FROM = {
			letter_event = { id = risingsun.58 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Old mentor took you on
letter_event = {
	id = risingsun.57
	desc = EVTDESC_RISINGSUN_57
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_57 # Yay!
		
		change_society_currency = 25
	}
}

# Old mentor did not take you on
letter_event = {
	id = risingsun.58
	desc = EVTDESC_RISINGSUN_58
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_58 # I will remember this!
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Good or better - mentor accepted
letter_event = {
	id = risingsun.59
	desc = EVTDESC_RISINGSUN_59
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_59 # Yay!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_mentor
			}
			clr_quest = quest_rising_sun_get_mentor
			add_society_currency_medium_effect = yes
		}
		else = {
			add_society_currency_minor_effect = yes
		}
	}
}

# Average or worse - mentor accepted
letter_event = {
	id = risingsun.60
	desc = EVTDESC_RISINGSUN_60
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_60 # Yay!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_mentor
			}
			clr_quest = quest_rising_sun_get_mentor
			add_society_currency_medium_effect = yes
		}
		else = {
			add_society_currency_minor_effect = yes
		}
	}
}

# Good or better - mentor refused
letter_event = {
	id = risingsun.61
	desc = EVTDESC_RISINGSUN_61
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_61 # I will remember this!
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Average or worse - mentor refused
letter_event = {
	id = risingsun.62
	desc = EVTDESC_RISINGSUN_62
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_62 # I will remember this!
		
		change_society_currency = -25
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Mentor got money
letter_event = {
	id = risingsun.63
	desc = EVTDESC_RISINGSUN_63
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_63 # A deal is a deal...
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
}

# Mentor did NOT get money
letter_event = {
	id = risingsun.64
	desc = EVTDESC_RISINGSUN_64
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_64 # Then get lost!
	}
}

# Mentor got Favor
letter_event = {
	id = risingsun.65
	desc = EVTDESC_RISINGSUN_65
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_65 # A deal is a deal...
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
}

# Mentor did NOT get Favor
letter_event = {
	id = risingsun.66
	desc = EVTDESC_RISINGSUN_66
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_66 # Then get lost!
	}
}

# Ping the new student
character_event = {
	id = risingsun.67
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			any_opinion_modifier_target = {
				limit = {
					has_opinion_modifier = {
						who = FROM
						modifier = opinion_rising_sun_mentor
					}
					NOT = {
						character = ROOT
					}
				}
				letter_event = { id = risingsun.68 days = 1 }
			}
		}
	}
}

# Inform existing students of the new student
letter_event = {
	id = risingsun.68
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_68A
	}
	
	desc = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_68C
	}
	
	desc = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		text = EVTDESC_RISINGSUN_68B
	}
	
	option = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTA_RISINGSUN_68 # That's great!
		
		FROM = {
			letter_event = { id = risingsun.69 days = 1 random = 7 }
		}
	}
	
	option = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTB_RISINGSUN_68 # I see...
		
		FROM = {
			letter_event = { id = risingsun.69 days = 1 random = 7 }
		}
	}
	
	option = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		
		name = EVTOPTC_RISINGSUN_68 # Well, that's no good!
		
		FROM = {
			letter_event = { id = risingsun.69 days = 1 random = 7 }
		}
	}
}

# Inform new student of existing students
letter_event = {
	id = risingsun.69
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_69A
	}
	
	desc = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_69C
	}
	
	desc = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		text = EVTDESC_RISINGSUN_69B
	}
	
	option = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTA_RISINGSUN_69 # I agree!
	}
	
	option = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTB_RISINGSUN_69 # Good to know!
	}
	
	option = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		
		name = EVTOPTC_RISINGSUN_69 # I'm not thrilled about this either...
	}
}

### Recruiting a possible student

# Student approached
letter_event = {
	id = risingsun.70
	desc = EVTDESC_RISINGSUN_70
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_70 # Sure!
		
		FROMFROM = {
			letter_event = { id = risingsun.71 days = 1 }
		}
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_mentor
			}
			clr_quest = quest_rising_sun_get_mentor
			add_society_currency_medium_effect = yes
		}
		else = {
			add_society_currency_minor_effect = yes
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				FROMFROM = {
					is_female = yes
				}
				is_female = no
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_70 # Nah!
		
		FROMFROM = {
			letter_event = { id = risingsun.72 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				FROMFROM = {
					society_rank >= 3
				}
			}
			modifier = {
				factor = 0.01
				FROMFROM = {
					society_rank == 4
				}
			}
		}
	}
}

# Student accepted
letter_event = {
	id = risingsun.71
	desc = EVTDESC_RISINGSUN_71
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_71 # Yay!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			character_event = { id = risingsun.640 }
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		hidden_tooltip = {
			set_variable = {
				which = rising_sun_student
				value = 0
			}
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
			character_event = { id = risingsun.74 days = 60 random = 60 } # Event selection
		}
	}
}

# Student refused
letter_event = {
	id = risingsun.72
	desc = EVTDESC_RISINGSUN_72
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_72 # Then get lost!
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

### Student-mentor interactions

# Ping student
character_event = {
	id = risingsun.73
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = risingsun.74 }
		}
	}
}

# Ping mentor
character_event = {
	id = risingsun.74
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
	}
	
	immediate = {
		FROM = {
			character_event = { id = risingsun.75 }
		}
	}
}

# Select a student-mentor, student-student, other mentor, or other mentor's student event to fire
character_event = {
	id = risingsun.75
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
	}
	
	immediate = {
		if = {
			limit = {
				# If either party is incapable, inaccessible, etc., try again later
				OR = {
					is_inaccessible_or_incapable_trigger = yes
					FROM = {
						is_inaccessible_or_incapable_trigger = yes
					}
				}
			}
			FROM = {
				character_event = { id = risingsun.74 days = 30 }
			}
		}
		else = {
			change_variable = {
				which = rising_sun_student
				value = 1
			}
			random_list = {
				# Mentor-student
				100 = {
					# Sword practice
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_1
					}
					set_character_flag = wotrs_mentor_events_1
					FROM = {
						character_event = { id = risingsun.76 }
					}
				}
				25 = {
					# Bow practice
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_2
					}
					set_character_flag = wotrs_mentor_events_2
					FROM = {
						character_event = { id = risingsun.78 }
					}
				}
				25 = {
					# Spear practice
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_3
					}
					set_character_flag = wotrs_mentor_events_3
					FROM = {
						character_event = { id = risingsun.80 }
					}
				}
				25 = {
					# Riding practice
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_4
					}
					set_character_flag = wotrs_mentor_events_4
					FROM = {
						character_event = { id = risingsun.82 }
					}
				}
				25 = {
					# Mounted archery practice
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_5
					}
					set_character_flag = wotrs_mentor_events_5
					FROM = {
						character_event = { id = risingsun.84 }
					}
				}
				25 = {
					# Mounted swordsmanship practice
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_6
					}
					set_character_flag = wotrs_mentor_events_6
					FROM = {
						character_event = { id = risingsun.86 }
					}
				}
				25 = {
					# Mounted spear practice
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_7
					}
					set_character_flag = wotrs_mentor_events_7
					FROM = {
						character_event = { id = risingsun.88 }
					}
				}
				10 = {
					# Unarmed combat
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_8
					}
					set_character_flag = wotrs_mentor_events_8
					FROM = {
						character_event = { id = risingsun.90 }
					}
				}
				5 = {
					# Law and crime
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_9
					}
					set_character_flag = wotrs_mentor_events_9
					modifier = {
						factor = 0
						FROM = {
							trait = arbitrary
						}
					}
					FROM = {
						character_event = { id = risingsun.92 }
					}
				}
				5 = {
					# Foreign religions
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_10
					}
					set_character_flag = wotrs_mentor_events_10
					modifier = {
						factor = 0
						NAND = {
							FROM = {
								OR = {
									true_religion = buddhist
									true_religion = shinto
								}
								NOR = {
									trait = sympathy_christendom
									trait = sympathy_islam
									trait = sympathy_judaism
									trait = sympathy_pagans
									trait = sympathy_zoroastrianism
								}
							}
							ROOT = {
								OR = {
									true_religion = buddhist
									true_religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.95 }
					}
				}
				10 = {
					# Foreign religions - mentor has foreign religion
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_11
					}
					set_character_flag = wotrs_mentor_events_11
					modifier = {
						factor = 0
						NAND = {
							FROM = {
								NOR = {
									true_religion = buddhist
									true_religion = shinto
								}
							}
							ROOT = {
								OR = {
									true_religion = buddhist
									true_religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.97 }
					}
				}
				10 = {
					# Foreign religions - student has foreign religion
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_12
					}
					set_character_flag = wotrs_mentor_events_12
					modifier = {
						factor = 0
						NAND = {
							FROM = {
								OR = {
									true_religion = buddhist
									true_religion = shinto
								}
							}
							ROOT = {
								NOR = {
									true_religion = buddhist
									true_religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.99 }
					}
				}
				5 = {
					# Foreign religions - both have different foreign religion group
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_13
					}
					set_character_flag = wotrs_mentor_events_13
					modifier = {
						factor = 0
						FROM = {
							OR = {
								religion_group = ROOT
								religion_group = indian_group
								ROOT = {
									religion_group = indian_group
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.101 }
					}
				}
				25 = {
					# Foreign religions - both have same foreign religion
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_14
					}
					set_character_flag = wotrs_mentor_events_14
					modifier = {
						factor = 0
						FROM = {
							NAND = {
								religion = ROOT
								NOR = {
									true_religion = buddhist
									true_religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.103 }
					}
				}
				5 = {
					# Mentor-student romance
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_15
					}
					set_character_flag = wotrs_mentor_events_15
					modifier = {
						factor = 0
						FROM = {
							NAND = {
								prev_attraction_trigger = yes
								attacted_to_prev_trigger = yes # Vanilla typo!
							}
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.105 }
					}
				}
				5 = {
					# Friendship
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_16
					}
					set_character_flag = wotrs_mentor_events_16
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.109 }
					}
				}
				5 = {
					# Warfare discussion
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_17
					}
					set_character_flag = wotrs_mentor_events_17
					FROM = {
						character_event = { id = risingsun.111 }
					}
				}
				10 = {
					# Shirabyoshi
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_18
					}
					set_character_flag = wotrs_mentor_events_18
					modifier = {
						factor = 0
						NAND = {
							is_female = no
							FROM = {
								is_female = no
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.113 }
					}
				}
				10 = {
					# Shirabyoshi - mentor is female
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_19
					}
					set_character_flag = wotrs_mentor_events_19
					modifier = {
						factor = 0
						NAND = {
							is_female = no
							FROM = {
								is_female = yes
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.116 }
					}
				}
				10 = {
					# Shirabyoshi - student is female
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_20
					}
					set_character_flag = wotrs_mentor_events_20
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = no
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.119 }
					}
				}
				10 = {
					# Shirabyoshi - both are female
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_21
					}
					set_character_flag = wotrs_mentor_events_21
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = yes
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.122 }
					}
				}
				5 = {
					# Mentor suggests dishonorable tactics - speak up?
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_22
					}
					set_character_flag = wotrs_mentor_events_22
					modifier = {
						factor = 0
						FROM = {
							NOR = {
								trait = deceitful
								trait = arbitrary
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.124 }
					}
				}
				25 = {
					# Not-so-friendly duel with rival mentor
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_23
					}
					set_character_flag = wotrs_mentor_events_23
					modifier = {
						factor = 0
						NOT = {
							any_rival = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.127 }
					}
				}
				10 = {
					# Student thinks they're ready, but they aren't
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_24
					}
					set_character_flag = wotrs_mentor_events_24
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 5
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 5
						trait = proud
					}
					FROM = {
						character_event = { id = risingsun.138 }
					}
				}
				10 = {
					# Student is ready - hold them back?
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_25
					}
					set_character_flag = wotrs_mentor_events_25
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 5
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 5
						is_female = yes
						FROM = {
							is_female = no
						}
					}
					FROM = {
						character_event = { id = risingsun.142 }
					}
				}
				10 = {
					# Student thinks you're holding them back
					modifier = {
						factor = 0
						has_character_flag = wotrs_mentor_events_25 # You're actually holding them back!
					}
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_26
					}
					set_character_flag = wotrs_mentor_events_26
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 5
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 2
						is_female = yes
						FROM = {
							is_female = no
						}
					}
					modifier = {
						factor = 5
						trait = proud
					}
					FROM = {
						character_event = { id = risingsun.146 }
					}
				}
				10 = {
					# Student is ready, time to end their training
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 10
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 10
						check_variable = {
							which = rising_sun_student
							value = 20
						}
					}
					modifier = {
						factor = 10
						check_variable = {
							which = rising_sun_student
							value = 25
						}
					}
					modifier = {
						factor = 0.1
						is_female = yes
						FROM = {
							is_female = no
						}
					}
					FROM = {
						character_event = { id = risingsun.150 }
					}
				}
				# Student-student
				10 = {
					# Friendship with other student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_27
					}
					set_character_flag = wotrs_mentor_events_27
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
										character = ROOT
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								character = ROOT
							}
						}
						character_event = { id = risingsun.152 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Romance with other student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_28
					}
					set_character_flag = wotrs_mentor_events_28
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									ROOT = {
										prev_attraction_trigger = yes
										attacted_to_prev_trigger = yes # Vanilla typo!
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
										character = ROOT
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								character = ROOT
							}
						}
						character_event = { id = risingsun.154 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				10 = {
					# Rivalry with other student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_29
					}
					set_character_flag = wotrs_mentor_events_29
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
										character = ROOT
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								character = ROOT
							}
						}
						character_event = { id = risingsun.158 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				10 = {
					# Weapon practice with other student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_30
					}
					set_character_flag = wotrs_mentor_events_30
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_rival = {
											character = ROOT
										}
										character = ROOT
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_rival = {
									character = ROOT
								}
								character = ROOT
							}
						}
						character_event = { id = risingsun.160 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Caught other student in a lie - confront?
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_31
					}
					set_character_flag = wotrs_mentor_events_31
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
										character = ROOT
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								character = ROOT
							}
						}
						character_event = { id = risingsun.162 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Warfare discussion with other student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_32
					}
					set_character_flag = wotrs_mentor_events_32
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_rival = {
											character = ROOT
										}
										character = ROOT
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_rival = {
									character = ROOT
								}
								character = ROOT
							}
						}
						character_event = { id = risingsun.171 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				25 = {
					# Not-so-friendly practice duel with other student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_33
					}
					set_character_flag = wotrs_mentor_events_33
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									any_rival = {
										character = ROOT
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							any_rival = {
								character = ROOT
							}
						}
						character_event = { id = risingsun.173 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				25 = {
					# Other student is a woman and you are not - take issue?
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_34
					}
					set_character_flag = wotrs_mentor_events_34
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									is_female = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
										character = ROOT
									}
								}
							}
						}
					}
					modifier = {
						factor = 0
						is_female = no
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							is_female = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								character = ROOT
							}
						}
						character_event = { id = risingsun.185 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				25 = {
					# Other student is a woman and you are too - become friends
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_35
					}
					set_character_flag = wotrs_mentor_events_35
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									is_female = yes
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
										character = ROOT
									}
								}
							}
						}
					}
					modifier = {
						factor = 0
						is_female = no
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							is_female = yes
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								character = ROOT
							}
						}
						character_event = { id = risingsun.188 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				
				# Student-other mentor
				10 = {
					# Friendship with friend of mentor
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_36
					}
					set_character_flag = wotrs_mentor_events_36
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					FROM = {
						random_friend = {
							limit = {
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
								}
							}
							character_event = { id = risingsun.190 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				10 = {
					# Rivalry with rival of mentor
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_37
					}
					set_character_flag = wotrs_mentor_events_37
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
								}
							}
							character_event = { id = risingsun.193 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				25 = {
					# Mentor's rival seeks to recruit you
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_38
					}
					set_character_flag = wotrs_mentor_events_38
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
										has_opinion_modifier = {
											who = ROOT
											modifier = opinion_rising_sun_ex_student
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
							character_event = { id = risingsun.196 }
						}
					}
					
					# Do not send this one back to the event selection here; it would possibly mess things up
				}
				5 = {
					# Other mentor gives you advice
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_39
					}
					set_character_flag = wotrs_mentor_events_39
					modifier = {
						factor = 0
						NOT = {
							any_society_member = {
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									character = FROM
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
						}
						NOR = {
							trait = arbitrary
							trait = deceitful
						}
					}
					random_society_member = {
						limit = {
							society_member_of = warriors_of_the_rising_sun
							society_rank >= 2
							NOR = {
								character = FROM
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_ex_student
								}
							}
							OR = {
								trait = arbitrary
								trait = deceitful
							}
						}
						character_event = { id = risingsun.203 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				10 = {
					# Female mentor helps female student of other non-female mentor
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_40
					}
					set_character_flag = wotrs_mentor_events_40
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = no
							}
							any_society_member = {
								is_female = yes
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							is_female = yes
							society_member_of = warriors_of_the_rising_sun
							society_rank >= 2
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_ex_student
								}
							}
						}
						character_event = { id = risingsun.205 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				25 = {
					# Female mentor helps female student of other female mentor
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_41
					}
					set_character_flag = wotrs_mentor_events_41
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = yes
							}
							any_society_member = {
								is_female = yes
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							is_female = yes
							society_member_of = warriors_of_the_rising_sun
							society_rank >= 2
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_ex_student
								}
							}
						}
						character_event = { id = risingsun.207 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				
				# Student-other mentor's student
				10 = {
					# Rivalry with mentor's rival's student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_42
					}
					set_character_flag = wotrs_mentor_events_42
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
								character_event = { id = risingsun.209 }
							}
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				10 = {
					# Friendship with mentor's rival's student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_43
					}
					set_character_flag = wotrs_mentor_events_43
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
								character_event = { id = risingsun.211 }
							}
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Lover with mentor's rival's student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_44
					}
					set_character_flag = wotrs_mentor_events_44
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
										ROOT = {
											attacted_to_prev_trigger = yes # Vanilla typo!
											prev_attraction_trigger = yes
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
								character_event = { id = risingsun.213 }
							}
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Rivalry with mentor's friend's student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_45
					}
					set_character_flag = wotrs_mentor_events_45
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						random_friend = {
							limit = {
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
								character_event = { id = risingsun.217 }
							}
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Friendship with mentor's friend's student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_46
					}
					set_character_flag = wotrs_mentor_events_46
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						random_friend = {
							limit = {
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
								character_event = { id = risingsun.219 }
							}
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Lover with mentor's friend's student
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_47
					}
					set_character_flag = wotrs_mentor_events_47
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						random_friend = {
							limit = {
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
								character_event = { id = risingsun.221 }
							}
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Other mentor's student gives you advice
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_48
					}
					set_character_flag = wotrs_mentor_events_48
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_society_member = {
									NOT = {
										character = FROM
									}
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOT = {
											any_rival = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						random_friend = {
							limit = {
								NOT = {
									character = FROM
								}
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOT = {
										any_rival = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									NOT = {
										character = FROM
									}
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOT = {
										any_rival = {
											character = ROOT
										}
									}
								}
								character_event = { id = risingsun.225 }
							}
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				10 = {
					# Other mentor's student is a woman and you are not - take issue?
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_49
					}
					set_character_flag = wotrs_mentor_events_49
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_society_member = {
									NOT = {
										character = FROM
									}
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
										is_female = yes
										ROOT = {
											is_female = no
										}
									}
								}
							}
						}
					}
					FROM = {
						any_society_member = {
							limit = {
								NOT = {
									character = FROM
								}
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
							}
							random_opinion_modifier_target = {
								limit = {
									NOT = {
										character = FROM
									}
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
								character_event = { id = risingsun.227 }
							}
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				10 = {
					# Other mentor's student is a woman and you are too - become friends
					modifier = {
						factor = 0.1
						has_character_flag = wotrs_mentor_events_50
					}
					set_character_flag = wotrs_mentor_events_50
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_society_member = {
									NOT = {
										character = FROM
									}
									society_member_of = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
										is_female = yes
										ROOT = {
											is_female = yes
										}
									}
								}
							}
						}
					}
					FROM = {
						any_society_member = {
							limit = {
								NOT = {
									character = FROM
								}
								society_member_of = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
							}
							random_opinion_modifier_target = {
								limit = {
									NOT = {
										character = FROM
									}
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
								character_event = { id = risingsun.230 }
							}
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
			}
		}
	}
}

# Sword practice - mentor
character_event = {
	id = risingsun.76
	desc = EVTDESC_RISINGSUN_76
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_76 # The sword is an elegant weapon...
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.77 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_76 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Sword practice - student
character_event = {
	id = risingsun.77
	desc = EVTDESC_RISINGSUN_77
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_77 # ... for a civilized age!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_77 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Bow practice - mentor
character_event = {
	id = risingsun.78
	desc = EVTDESC_RISINGSUN_78
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_78 # Strike at the heart!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.79 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Bow practice - student
character_event = {
	id = risingsun.79
	desc = EVTDESC_RISINGSUN_79
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_79 # My arrow finds its mark!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Spear practice - mentor
character_event = {
	id = risingsun.80
	desc = EVTDESC_RISINGSUN_80
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_80 # Keep them at range!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.81 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_80 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Spear practice - student
character_event = {
	id = risingsun.81
	desc = EVTDESC_RISINGSUN_81
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_81 # Pointy end forward!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_81 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Riding practice - mentor
character_event = {
	id = risingsun.82
	desc = EVTDESC_RISINGSUN_82
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_82 # Ride to glory!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.83 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Riding practice - student
character_event = {
	id = risingsun.83
	desc = EVTDESC_RISINGSUN_83
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_83 # This is nice!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_83 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Mounted archery practice - mentor
character_event = {
	id = risingsun.84
	desc = EVTDESC_RISINGSUN_84
	picture = GFX_evt_joust
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_84 # Loose and keep moving!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.85 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_84 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Mounted archery practice - student
character_event = {
	id = risingsun.85
	desc = EVTDESC_RISINGSUN_85
	picture = GFX_evt_joust
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_85 # This is going well!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_85 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Mounted swordsmanship practice - mentor
character_event = {
	id = risingsun.86
	desc = EVTDESC_RISINGSUN_86
	picture = GFX_evt_joust
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_86 # Swing down at your foe!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.87 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_86 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Mounted swordsmanship practice - student
character_event = {
	id = risingsun.87
	desc = EVTDESC_RISINGSUN_87
	picture = GFX_evt_joust
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_87 # Trample them!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_87 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Mounted spear practice - mentor
character_event = {
	id = risingsun.88
	desc = EVTDESC_RISINGSUN_88
	picture = GFX_evt_joust
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_88 # Skewer them!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.89 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Mounted spear practice - student
character_event = {
	id = risingsun.89
	desc = EVTDESC_RISINGSUN_89
	picture = GFX_evt_joust
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_89 # This is effective!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_89 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Unarmed combat - mentor
character_event = {
	id = risingsun.90
	desc = EVTDESC_RISINGSUN_90
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_90 # Even without your weapon, you should know how to fight!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.91 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_90 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Unarmed combat - student
character_event = {
	id = risingsun.91
	desc = EVTDESC_RISINGSUN_91
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_91 # They'll not find me unprepared!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_91 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Law and crime - teach student the right way?
character_event = {
	id = risingsun.92
	desc = EVTDESC_RISINGSUN_92
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_92 # Act with honor and be just!
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			if = {
				limit = {
					trait = just
				}
				character_event = { id = risingsun.93 days = 1 } # Student gets event
			}
			else = {
				character_event = { id = risingsun.94 days = 1 } # Student gets event
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_92 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 00
				trait = diligent
			}
		}
	}
}

# Just student
character_event = {
	id = risingsun.93
	desc = EVTDESC_RISINGSUN_93
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_93 # Justice is the way!
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Non-Just student
character_event = {
	id = risingsun.94
	desc = EVTDESC_RISINGSUN_94
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_94 # I should be more just!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 5
			if = {
				limit = {
					trait = arbitrary
				}
				remove_trait = arbitrary
			}
			else = {
				add_trait = just
			}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_94 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Foreign religions - mentor
character_event = {
	id = risingsun.95
	desc = EVTDESC_RISINGSUN_95
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_95 # Avoid their foreign ways!
		
		piety = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.96 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_95 # I don't have time for this!
		
		piety = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
}

# Foreign religions - student
character_event = {
	id = risingsun.96
	desc = EVTDESC_RISINGSUN_96
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_96 # Their foreign ways are wrong!
		
		piety = 10
		change_society_currency = 5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_christendom
					}
				}
				remove_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_islam
					}
				}
				remove_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_judaism
					}
				}
				remove_trait = sympathy_judaism
			}
			5 = { # A bit lower
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_pagans
					}
				}
				remove_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_zoroastrianism
					}
				}
				remove_trait = sympathy_zoroastrianism
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						trait = sympathy_christendom
						trait = sympathy_islam
						trait = sympathy_judaism
						trait = sympathy_pagans
						trait = sympathy_zoroastrianism
						FROM = {
							NOT = {
								religion = ROOT
							}
						}
					}
				}
				if = {
					limit = {
						trait = cynical
					}
					remove_trait = cynical
				}
				else = {
					add_trait = zealous
				}
			}
			50 = {}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_96 # Boring lesson; skip!
		
		piety = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
}

# Foreign religions - mentor has foreign religion - mentor
character_event = {
	id = risingsun.97
	desc = EVTDESC_RISINGSUN_97
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_97 # You could learn from me!
		
		prestige = 5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.98 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_97 # I don't have time for this!
		
		piety = -10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
}

# Foreign religions - mentor has foreign religion - student
character_event = {
	id = risingsun.98
	desc = EVTDESC_RISINGSUN_98
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_98 # Well, you seem alright...
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = christian
						}
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = muslim
						}
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = jewish_group
						}
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = pagan_group
						}
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = zoroastrian_group
						}
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		hidden_tooltip = {
			if = {
				limit = {
					ai = yes
					trait = cynical
				}
				random = {
					chance = 5
					set_secret_religion = FROM
				}
			}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_98 # Boring lesson; skip!
		
		piety = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
			}
		}
	}
}

# Foreign religions - student has foreign religion - mentor
character_event = {
	id = risingsun.99
	desc = EVTDESC_RISINGSUN_99
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_99 # Tell me of your ways!
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = christian
						}
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = muslim
						}
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = jewish_group
						}
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = pagan_group
						}
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = zoroastrian_group
						}
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		hidden_tooltip = {
			if = {
				limit = {
					ai = yes
					trait = cynical
				}
				random = {
					chance = 5
					set_secret_religion = FROM
				}
			}
		}
		
		FROM = {
			character_event = { id = risingsun.100 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_99 # I don't have time for this!
		
		prestige = -10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
			}
		}
	}
}

# Foreign religions - student has foreign religion - student
character_event = {
	id = risingsun.100
	desc = EVTDESC_RISINGSUN_100
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_100 # Well, you seem alright...
		
		piety = 10
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Foreign religions - both have different foreign religion group - mentor
character_event = {
	id = risingsun.101
	desc = EVTDESC_RISINGSUN_101
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_101 # Tell me more of your ways
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = christian
							}
						}
						religion_group = christian
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = muslim
							}
						}
						religion_group = muslim
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = jewish_group
							}
						}
						religion_group = jewish_group
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = pagan_group
							}
						}
						religion_group = pagan_group
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = zoroastrian_group
							}
						}
						religion_group = zoroastrian_group
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		FROM = {
			character_event = { id = risingsun.102 } # Student gets the event
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_101 # I don't have time for this!
		
		prestige = -10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
			}
		}
	}
}

# Foreign religions - both have different foreign religion group - student
character_event = {
	id = risingsun.102
	desc = EVTDESC_RISINGSUN_102
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_102 # Tell me of your ways!
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = christian
							}
						}
						religion_group = christian
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = muslim
							}
						}
						religion_group = muslim
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = jewish_group
							}
						}
						religion_group = jewish_group
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = pagan_group
							}
						}
						religion_group = pagan_group
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = zoroastrian_group
							}
						}
						religion_group = zoroastrian_group
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_102 # I don't have time for this!
		
		piety = 10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cynical
			}
		}
	}
}

# Foreign religions - both have same foreign religion - mentor
character_event = {
	id = risingsun.103
	desc = EVTDESC_RISINGSUN_103
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_103 # We are in this together!
		
		FROM = {
			character_event = { id = risingsun.104 days = 1 } # Student gets event
		}
		
		piety = 10
		change_society_currency = -5
	}
}

# Foreign religions - both have same foreign religion - student
character_event = {
	id = risingsun.104
	desc = EVTDESC_RISINGSUN_104
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_104 # We are in this together!
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		piety = 10
		change_society_currency = -5
	}
}

# Mentor-student romance - mentor
character_event = {
	id = risingsun.105
	desc = EVTDESC_RISINGSUN_105
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_105 # Proposition them
		
		FROM = {
			character_event = { id = risingsun.106 days = 1 } # Student gets event
		}
		
		piety = -10
		change_society_currency = -25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_105 # I don't think so!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		piety = 10
		change_society_currency = 25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Mentor-student romance - student gets to respond
character_event = {
	id = risingsun.106
	desc = EVTDESC_RISINGSUN_106
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_106 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.107 days = 1 } # Mentor gets response
		}
		
		piety = -10
		change_society_currency = -25
		
		add_lover = FROM
		unprotected_sex_effect = yes
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_105 # I don't think so!
		
		piety = 10
		change_society_currency = 25
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
		}
		
		FROM = {
			character_event = { id = risingsun.108 days = 1 } # Mentor gets response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				FROM = {
					is_unattractive_trigger = no
				}
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
				FROM = {
					is_unattractive_trigger = no
				}
			}
		}
	}
}

# Mentor-student romance - lovers
character_event = {
	id = risingsun.107
	desc = EVTDESC_RISINGSUN_107
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_107 # Yay!
		
		add_lover = FROM
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor-student romance - not lovers
character_event = {
	id = risingsun.108
	desc = EVTDESC_RISINGSUN_108
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_108 # Be that way!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Friendship - mentor
character_event = {
	id = risingsun.109
	desc = EVTDESC_RISINGSUN_109
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_109 # Together we will be unstoppable!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.110 } # Inform student
		}
	}
}

# Friendship - student
character_event = {
	id = risingsun.110
	desc = EVTDESC_RISINGSUN_110
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_110 # Together we will be unstoppable!
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Warfare discussion - mentor
character_event = {
	id = risingsun.111
	desc = EVTDESC_RISINGSUN_111
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_111 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
		
		FROM = {
			character_event = { id = risingsun.112 } # Inform student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_111 # I don't have time for this!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Warfare discussion - student
character_event = {
	id = risingsun.112
	desc = EVTDESC_RISINGSUN_112
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_112 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_112 # I don't have time for this!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Shirabyoshi - mentor
character_event = {
	id = risingsun.113
	desc = EVTDESC_RISINGSUN_113
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_113 # Mock her!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.114 } # Inform student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_female = yes
			}
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_113 # Just keep walking
		
		prestige = 5
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Shirabyoshi - student
character_event = {
	id = risingsun.114
	desc = EVTDESC_RISINGSUN_114
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_114 # Yes; she's no good!
		
		prestige = 5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_114 # I don't think you should underestimate her
		
		prestige = 10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.115 days = 1 } # Inform mentor
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# If student disagreed, inform mentor
character_event = {
	id = risingsun.115
	desc = EVTDESC_RISINGSUN_115
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_115 # Huh...
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Shirabyoshi - mentor is female - mentor
character_event = {
	id = risingsun.116
	desc = EVTDESC_RISINGSUN_116
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_116 # Don't underestimate her!
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.117 } # Inform student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_116 # Just keep walking
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				is_female = yes
			}
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
}

# Shirabyoshi - mentor is female - student
character_event = {
	id = risingsun.117
	desc = EVTDESC_RISINGSUN_117
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_117 # Yes; she could be good
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_117 # I don't think she is any good
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.118 days = 1 } # Inform mentor
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# If student disagreed, inform mentor
character_event = {
	id = risingsun.118
	desc = EVTDESC_RISINGSUN_118
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_118 # Well, you're wrong!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Shirabyoshi - student is female - mentor
character_event = {
	id = risingsun.119
	desc = EVTDESC_RISINGSUN_119
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_119 # Some days you remind me of her!
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.120 days = 1 } # Inform student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_119 # Just keep walking
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Shirabyoshi - student is female - student
character_event = {
	id = risingsun.120
	desc = EVTDESC_RISINGSUN_120
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_120 # Ignore the insult
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		random = {
			chance = 1
			add_rival = FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					trait = humble
					trait = shy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_120 # I think you underestimate both of us!
		
		prestige = 15
		change_society_currency = 5
		
		random = {
			chance = 5
			if = {
				limit = {
					trait = humble
				}
				remove_trait = humble
			}
			else = {
				add_trait = proud
			}
		}
		
		FROM = {
			character_event = { id = risingsun.121 days = 1 } # Inform mentor
		}
		
		random = {
			chance = 1
			add_rival = FROM
		}
		
		ai_chance = {
			factor = 100
		}
	}
}

# If student disagreed, inform mentor
character_event = {
	id = risingsun.121
	desc = EVTDESC_RISINGSUN_121
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_121 # Well, you're wrong!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Shirabyoshi - both are female - mentor
character_event = {
	id = risingsun.122
	desc = EVTDESC_RISINGSUN_122
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_122 # Let none tell you you shouldn't use a sword!
		
		random = {
			chance = 5
			if = {
				limit = {
					trait = humble
				}
				remove_trait = humble
			}
			else = {
				add_trait = proud
			}
		}
		
		FROM = {
			character_event = { id = risingsun.123 } # Inform student
		}
	}
}

# Shirabyoshi - both are female - student
character_event = {
	id = risingsun.123
	desc = EVTDESC_RISINGSUN_123
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_123 # Indeed!
		
		random = {
			chance = 5
			if = {
				limit = {
					trait = humble
				}
				remove_trait = humble
			}
			else = {
				add_trait = proud
			}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor suggests dishonorable tactics - speak up? - mentor
character_event = {
	id = risingsun.124
	desc = EVTDESC_RISINGSUN_124
	picture = GFX_evt_cornered_duel_hf
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_124 # Here is a useful trick!
		
		prestige = 5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.125 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_124 # I don't have time for this!
		
		prestige = -5
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor suggests dishonorable tactics - speak up? - student
character_event = {
	id = risingsun.125
	desc = EVTDESC_RISINGSUN_125
	picture = GFX_evt_cornered_duel_hf
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_125 # A useful trick indeed!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = honest
					trait = just
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_125 # This is wrong!
		
		prestige = 10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.126 } # Inform FROM
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = deceitful
					trait = arbitrary
				}
			}
		}
	}
}

# Inform mentor if student spoke up
character_event = {
	id = risingsun.126
	desc = EVTDESC_RISINGSUN_126
	picture = GFX_evt_cornered_duel_hf
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_126 # Well, you're wrong!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Not-so-friendly duel with rival mentor - mentor
character_event = {
	id = risingsun.127
	desc = EVTDESC_RISINGSUN_127
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_127 # I challenge you to a "sparring" session!
		
		prestige = 5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.128 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -40
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -20
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_127 # I don't have time for this!
		
		prestige = -5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 40
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 20
				}
			}
		}
	}
}

# Not-so-friendly duel with rival mentor - student
character_event = {
	id = risingsun.128
	desc = EVTDESC_RISINGSUN_128
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_128 # Oh, it's on!
		
		prestige = 5
		change_society_currency = 5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = -40
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -20
					}
				}
				FROM = {
					character_event = { id = risingsun.130 days = 1 } # Student maims mentor
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = -40
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -20
					}
				}
				FROM = {
					character_event = { id = risingsun.132 days = 1 } # Student wounds mentor
				}
			}
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = 40
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 20
					}
				}
				FROM = {
					character_event = { id = risingsun.134 days = 1 } # Mentor maims student
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = 40
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 20
					}
				}
				FROM = {
					character_event = { id = risingsun.136 days = 1 } # Mentor wounds student
				}
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -40
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -20
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_128 # I think not
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.129 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 40
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 20
				}
			}
		}
	}
}

# Inform mentor if student refused
character_event = {
	id = risingsun.129
	desc = EVTDESC_RISINGSUN_129
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_129 # How cowardly!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student maims mentor - mentor
character_event = {
	id = risingsun.130
	desc = EVTDESC_RISINGSUN_130
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_130 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.131 } # Inform FROM
		}
	}
}

# Student maims mentor - student
character_event = {
	id = risingsun.131
	desc = EVTDESC_RISINGSUN_131
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_131 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_super_huge_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_massive_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_major_effect = yes
			}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student wounds mentor - mentor
character_event = {
	id = risingsun.132
	desc = EVTDESC_RISINGSUN_132
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_132 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.133 } # Inform FROM
		}
	}
}

# Student wounds mentor - student
character_event = {
	id = risingsun.133
	desc = EVTDESC_RISINGSUN_133
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_133 # Got you!
		
		change_society_currency = 25
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_medium_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_minor_effect = yes
			}
		}
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor maims student - mentor
character_event = {
	id = risingsun.134
	desc = EVTDESC_RISINGSUN_134
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_134 # Got you!
		
		change_society_currency = 25
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_super_huge_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_massive_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_major_effect = yes
			}
		}
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.135 } # Inform FROM
		}
	}
}

# Mentor maims student - student
character_event = {
	id = risingsun.135
	desc = EVTDESC_RISINGSUN_135
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_135 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor wounds student - mentor
character_event = {
	id = risingsun.136
	desc = EVTDESC_RISINGSUN_136
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_136 # Got you!
		
		change_society_currency = 25
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_medium_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_minor_effect = yes
			}
		}
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.137 } # Inform FROM
		}
	}
}

# Mentor wounds student - student
character_event = {
	id = risingsun.137
	desc = EVTDESC_RISINGSUN_137
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_137 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student thinks they're ready, but they aren't - mentor
character_event = {
	id = risingsun.138
	desc = EVTDESC_RISINGSUN_138
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_138 # You are (not) ready!
		
		change_society_currency = -100
		
		FROM = {
			character_event = { id = risingsun.139 days = 1 } # Training ends
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = slothful
					trait = deceitful
					trait = arbitrary
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_138 # You are NOT ready!
		
		change_society_currency = 50
		
		FROM = {
			character_event = { id = risingsun.140 days = 1 } # FROM is informed
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = diligent
					trait = honest
					trait = just
				}
			}	
		}
	}
}

# "You're ready" (but actually not)
character_event = {
	id = risingsun.139
	desc = EVTDESC_RISINGSUN_139
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_139 # I knew it!
		
		change_society_currency = 50
		
		set_character_flag = proved_myself_to_mentor
		
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		reverse_remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_mentor
		}
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_student
		}
	}
}

# "You're not ready" - rivalry?
character_event = {
	id = risingsun.140
	desc = EVTDESC_RISINGSUN_140
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_140 # I suppose you know best...
		
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_140 # I AM ready!
		
		change_society_currency = -10
		
		random_list = {
			50 = {
				add_rival = FROM
				FROM = {
					character_event = { id = risingsun.141 days = 1 } # FROM is informed
				}
			}
			50 = {
				FROM = {
					character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
				}
			}
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
}

# Inform mentor of rivalry
character_event = {
	id = risingsun.141
	desc = EVTDESC_RISINGSUN_141
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_141 # Today's youth...
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student is ready - hold them back? - mentor
character_event = {
	id = risingsun.142
	desc = EVTDESC_RISINGSUN_142
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_142 # You are ready!
		
		change_society_currency = 100
		
		FROM = {
			character_event = { id = risingsun.143 days = 1 } # Training ends
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = deceitful
					trait = arbitrary
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_138 # You are not ready!
		
		change_society_currency = -50
		
		FROM = {
			character_event = { id = risingsun.144 days = 1 } # FROM is informed
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = honest
					trait = just
				}
			}	
		}
	}
}

# You are ready!
character_event = {
	id = risingsun.143
	desc = EVTDESC_RISINGSUN_143
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_143 # I knew it!
		
		change_society_currency = 50
		
		set_character_flag = proved_myself_to_mentor
		
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		reverse_remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_mentor
		}
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_student
		}
	}
}

# "You're not ready" (but actually you are) - rivalry?
character_event = {
	id = risingsun.144
	desc = EVTDESC_RISINGSUN_144
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_144 # I suppose you know best...
		
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_144 # I AM ready!
		
		change_society_currency = -10
		
		random_list = {
			50 = {
				add_rival = FROM
				FROM = {
					character_event = { id = risingsun.145 days = 1 } # FROM is informed
				}
			}
			50 = {
				FROM = {
					character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
				}
			}
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
}

# Inform mentor of rivalry
character_event = {
	id = risingsun.145
	desc = EVTDESC_RISINGSUN_145
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_145 # I should have seen that coming!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student thinks you're holding them back - mentor
character_event = {
	id = risingsun.146
	desc = EVTDESC_RISINGSUN_146
	picture = GFX_evt_poke_king_in_chest
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_146 # Now, see here...
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						diplomacy = 8
					}
				}
				modifier = {
					factor = 0.5
					NOT = {
						diplomacy = 12
					}
				}
				FROM = {
					character_event = { id = risingsun.147 days = 1 } # Convinced them
				}
			}
			50 = {
				modifier = {
					factor = 0
					diplomacy = 20
				}
				modifier = {
					factor = 0.5
					diplomacy = 16
				}
				FROM = {
					character_event = { id = risingsun.148 days = 1 } # Failed to convince them
				}
			}
		}
	}
}

# Convincing mentor
character_event = {
	id = risingsun.147
	desc = EVTDESC_RISINGSUN_147
	picture = GFX_evt_poke_king_in_chest
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_147 # I suppose more training would be good
		
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Unconvincing mentor - rivalry!
character_event = {
	id = risingsun.148
	desc = EVTDESC_RISINGSUN_148
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_148 # You LIE!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.149 } # Inform FROM
		}
	}
}

# Inform mentor of rivalry
character_event = {
	id = risingsun.149
	desc = EVTDESC_RISINGSUN_149
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_149 # I should have worded that better...
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student is ready, time to end their training - mentor
character_event = {
	id = risingsun.150
	desc = EVTDESC_RISINGSUN_150
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_150 # Your training is complete!
		
		change_society_currency = 100
		
		FROM = {
			character_event = { id = risingsun.151 } # Inform FROM
		}
	}
}

# Training ends - student
character_event = {
	id = risingsun.151
	desc = EVTDESC_RISINGSUN_151
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_151 # I knew it!
		
		change_society_currency = 50
		
		set_character_flag = proved_myself_to_mentor
		
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		reverse_remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_mentor
		}
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_student
		}
	}
}

### Student-student interactions (for students with the same mentor)

# Friendship with other student - student 1
character_event = {
	id = risingsun.152
	desc = EVTDESC_RISINGSUN_152
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_152 # Together we will be unstoppable!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.153 } # Inform student 2
		}
	}
}

# Friendship with other student - student 2
character_event = {
	id = risingsun.153
	desc = EVTDESC_RISINGSUN_153
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_153 # Together we will be unstoppable!
		
		add_friend = FROM
	}
}

# Romance with other student
character_event = {
	id = risingsun.154
	desc = EVTDESC_RISINGSUN_154
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_154 # Proposition them
		
		piety = -10
		
		FROM = {
			character_event = { id = risingsun.155 days = 1 } # Other student gets the event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_105 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				FROM = {
					is_unattractive_trigger = no
				}
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
				FROM = {
					is_unattractive_trigger = no
				}
			}
		}
	}
}

# Other student gets to respond
character_event = {
	id = risingsun.155
	desc = EVTDESC_RISINGSUN_155
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_155 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.156 days = 1 } # Other student gets the response
		}
		
		piety = -10
		
		add_lover = FROM
		unprotected_sex_effect = yes
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_155 # I don't think so!
		
		piety = 10
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
		}
		
		FROM = {
			character_event = { id = risingsun.157 days = 1 } # Other student gets the response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				FROM = {
					is_unattractive_trigger = no
				}
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
				FROM = {
					is_unattractive_trigger = no
				}
			}
		}
	}
}

# Lovers
character_event = {
	id = risingsun.156
	desc = EVTDESC_RISINGSUN_156
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_156 # Yay!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = risingsun.157
	desc = EVTDESC_RISINGSUN_157
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_157 # Be that way!
	}
}

# Rivalry with other student - student 1
character_event = {
	id = risingsun.158
	desc = EVTDESC_RISINGSUN_158
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_158 # You will never be my equal!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.159 } # Inform FROM
		}
	}
}

# Rivalry with other student - student 2
character_event = {
	id = risingsun.159
	desc = EVTDESC_RISINGSUN_159
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_159 # You were never my equal!
	}
}

# Weapon practice with other student - student 1
character_event = {
	id = risingsun.160
	desc = EVTDESC_RISINGSUN_160
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_160 # We learned much together
		
		prestige = 10
		change_society_currency = 10
		
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.161 } # Inform FROM
		}
	}
}

# Weapon practice with other student - student 2
character_event = {
	id = risingsun.161
	desc = EVTDESC_RISINGSUN_161
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_161 # We learned much together
		
		prestige = 10
		change_society_currency = 10
		
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Caught other student in a lie - confront?
character_event = {
	id = risingsun.162
	desc = EVTDESC_RISINGSUN_162
	picture = GFX_evt_eavesdropping
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_162 # Confront them
		
		prestige = 10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.163 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = shy
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_162 # I saw nothing!
		
		prestige = -10
		change_society_currency = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = shy
				}
			}
		}
	}
}

# Student confronted
character_event = {
	id = risingsun.163
	desc = EVTDESC_RISINGSUN_163
	picture = GFX_evt_eavesdropping
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_163 # How about a bribe?
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.164 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = brave
			}
			modifier = {
				factor = 0
				trait = greedy
			}
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			is_landed = yes
			NOR = {
				holds_favor_on = FROM
				FROM = {
					holds_favor_on = ROOT
				}
			}
		}
		name = EVTOPTB_RISINGSUN_163 # How about a Favor?
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.165 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = brave
			}
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			is_landed = yes
			holds_favor_on = FROM
		}
		name = EVTOPTC_RISINGSUN_163 # You owe me!
		
		remove_favor = FROM
		
		FROM = {
			character_event = { id = risingsun.168 days = 1 } # Inform FROM
		}
		
		prestige = 10
		change_society_currency = 10
	}
	
	option = {
		name = EVTOPTD_RISINGSUN_163 # Do your worst!
		
		prestige = 10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.169 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
		}
	}
}

# Bribe offered
character_event = {
	id = risingsun.164
	desc = EVTDESC_RISINGSUN_164
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_164 # Very well
		
		wealth = 100
		change_society_currency = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_164 # I cannot be bribed!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.166 }
		}
		FROMFROMFROMFROM = {
			character_event = { id = risingsun.167 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
				NOT = {
					trait = just
				}
			}
		}
	}
}

# Favor offered
character_event = {
	id = risingsun.165
	desc = EVTDESC_RISINGSUN_165
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_165 # Very well
		
		add_favor = FROM
		change_society_currency = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_165 # I cannot be bribed!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.166 }
		}
		FROMFROMFROMFROM = {
			character_event = { id = risingsun.167 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
				NOT = {
					trait = just
				}
			}
		}
	}
}

# Student refused bribe or Favor
character_event = {
	id = risingsun.166
	desc = EVTDESC_RISINGSUN_166
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_166 # Curses!
		
		change_society_currency = -50
		
		random = {
			chance = 50
			add_rival = FROM
		}
	}
}

# Inform mentor
character_event = {
	id = risingsun.167
	desc = EVTDESC_RISINGSUN_167
	picture = GFX_evt_judged_by_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_167 # I see...
	}
}

# Student called in Favor
character_event = {
	id = risingsun.168
	desc = EVTDESC_RISINGSUN_168
	picture = GFX_evt_poke_king_in_chest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_168 # I have to accept this...
	}
}

# Student told you to do your worst
character_event = {
	id = risingsun.169
	desc = EVTDESC_RISINGSUN_169
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_169 # You asked for it
		
		FROMFROMFROMFROM = {
			character_event = { id = risingsun.170 }
		}
	}
}

# Mentor informed
character_event = {
	id = risingsun.170
	desc = EVTDESC_RISINGSUN_170
	picture = GFX_evt_judged_by_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_170 # I see...
	}
}

# Warfare discussion with other student - student 1
character_event = {
	id = risingsun.171
	desc = EVTDESC_RISINGSUN_171
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_171 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
		
		FROM = {
			character_event = { id = risingsun.172 } # Inform other student
		}
	}
}

# Warfare discussion with other student - student 2
character_event = {
	id = risingsun.172
	desc = EVTDESC_RISINGSUN_172
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_172 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
	}
}

# Not-so-friendly practice duel with other student
character_event = {
	id = risingsun.173
	desc = EVTDESC_RISINGSUN_173
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_173 # I challenge you to a "sparring" session!
		
		prestige = 5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.174 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -40
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -20
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_173 # I don't have time for this!
		
		prestige = -5
		change_society_currency = 5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 40
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 20
				}
			}
		}
	}
}

# Other student responds
character_event = {
	id = risingsun.174
	desc = EVTDESC_RISINGSUN_174
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_174 # Oh, it's on!
		
		prestige = 5
		change_society_currency = 5
		
		FROMFROMFROM = {
			character_event = { id = risingsun.184 days = 1 } # Inform mentor
		}
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = -40
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -20
					}
				}
				FROM = {
					character_event = { id = risingsun.176 days = 1 } # Student maims mentor
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = -40
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -20
					}
				}
				FROM = {
					character_event = { id = risingsun.178 days = 1 } # Student wounds mentor
				}
			}
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = 40
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 20
					}
				}
				FROM = {
					character_event = { id = risingsun.180 days = 1 } # Mentor maims student
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = 40
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 20
					}
				}
				FROM = {
					character_event = { id = risingsun.182 days = 1 } # Mentor wounds student
				}
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -40
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -20
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_174 # I think not
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.175 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 40
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 20
				}
			}
		}
	}
}

# No duel
character_event = {
	id = risingsun.175
	desc = EVTDESC_RISINGSUN_175
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_175 # How cowardly!
	}
}

# Student 1 maimed student 2 - student 1
character_event = {
	id = risingsun.176
	desc = EVTDESC_RISINGSUN_176
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_176 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.177 } # Inform FROM
		}
	}
}

# Student 1 maimed student 2 - student 2
character_event = {
	id = risingsun.177
	desc = EVTDESC_RISINGSUN_177
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_177 # Got you!
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_super_huge_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_massive_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_major_effect = yes
			}
		}
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Student 1 wounded student 2 - student 1
character_event = {
	id = risingsun.178
	desc = EVTDESC_RISINGSUN_178
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_178 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.179 } # Inform FROM
		}
	}
}

# Student 1 wounded student 2 - student 2
character_event = {
	id = risingsun.179
	desc = EVTDESC_RISINGSUN_179
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_179 # Got you!
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_medium_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_minor_effect = yes
			}
		}
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Student 2 maimed student 1 - student 1
character_event = {
	id = risingsun.180
	desc = EVTDESC_RISINGSUN_180
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_180 # Got you!
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_super_huge_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_massive_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_major_effect = yes
			}
		}
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.181 } # Inform FROM
		}
	}
}

# Student 2 maimed student 1 - student 2
character_event = {
	id = risingsun.181
	desc = EVTDESC_RISINGSUN_181
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_181 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Student 2 wounded student 1 - student 1
character_event = {
	id = risingsun.182
	desc = EVTDESC_RISINGSUN_182
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_182 # Got you!
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_medium_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_minor_effect = yes
			}
		}
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.183 } # Inform FROM
		}
	}
}

# Student 2 wounded student 1 - student 2
character_event = {
	id = risingsun.183
	desc = EVTDESC_RISINGSUN_183
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_183 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Inform mentor
character_event = {
	id = risingsun.184
	desc = EVTDESC_RISINGSUN_184
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_184 # I see...
	}
}

# Other student is a woman and you are not - take issue?
character_event = {
	id = risingsun.185
	desc = EVTDESC_RISINGSUN_185
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_185 # You'll never amount to anything
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.186 days = 1 } # Inform other student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_185 # She's not *that* bad...
		
		prestige = 5
		change_society_currency = 5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Other student took issue - rivalry?
character_event = {
	id = risingsun.186
	desc = EVTDESC_RISINGSUN_186
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_186 # Stay silent
		
		prestige = -15
		change_society_currency = -15
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_186 # I'll show you just how good I am!
		
		prestige = 5
		change_society_currency = 5
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.187 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Inform first student of rivalry
character_event = {
	id = risingsun.187
	desc = EVTDESC_RISINGSUN_187
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_187 # Bring it on!
		
		add_rival = FROM
	}
}

# Other student is a woman and you are too - become friends
character_event = {
	id = risingsun.188
	desc = EVTDESC_RISINGSUN_188
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_188 # We need to stick together!
		
		add_friend = FROM
		FROM = {
			character_event = { id = risingsun.189 }
		}
	}
}

# Inform other student
character_event = {
	id = risingsun.189
	desc = EVTDESC_RISINGSUN_189
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_189 # We need to stick together!
		
		add_friend = FROM
	}
}

### Interactions with other mentors

# Friendship with friend of mentor - other mentor
character_event = {
	id = risingsun.190
	desc = EVTDESC_RISINGSUN_190
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_190 # We need to stick together!
		
		add_friend = FROM
		FROM = {
			character_event = { id = risingsun.191 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.191
	desc = EVTDESC_RISINGSUN_191
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_191 # We need to stick together!
		
		add_friend = FROM
		FROMFROMFROM = {
			character_event = { id = risingsun.192 }
		}
	}
}

# Student's mentor gets the event
character_event = {
	id = risingsun.192
	desc = EVTDESC_RISINGSUN_192
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_192 # We need to stick together!
	}
}

# Rivalry with rival of mentor
character_event = {
	id = risingsun.193
	desc = EVTDESC_RISINGSUN_193
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_193 # If you are with FROMFROM, you are my enemy!
		
		add_rival = FROM
		FROM = {
			character_event = { id = risingsun.194 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.194
	desc = EVTDESC_RISINGSUN_194
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_194 # You are my enemy!
		
		add_rival = FROM
		FROMFROMFROM = {
			character_event = { id = risingsun.195 }
		}
	}
}

# Student's mentor gets the event
character_event = {
	id = risingsun.195
	desc = EVTDESC_RISINGSUN_195
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_195 # Good! Good! Destroy FROMFROM!
	}
}

# Mentor's rival seeks to recruit you - other mentor decides whether to make the attempt
character_event = {
	id = risingsun.196
	desc = EVTDESC_RISINGSUN_196
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_196 # Join me, and together we will rule the ga- society!
		
		change_society_currency = -50
		
		FROM = {
			character_event = { id = risingsun.198 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
			}
			modifier = {
				factor = 0.1
				trait = honest
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = yes
				}
				is_female = no
			}
			modifier = {
				factor = 10
				any_friend = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				any_lover = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = ambitious
			}
			modifier = {
				factor = 0.01
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_196 # It is not worth it...
		
		FROM = {
			character_event = { id = risingsun.197 } # Ping and return to event selection
		}
		
		change_society_currency = 50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = arbitrary
			}
			modifier = {
				factor = 0.1
				trait = deceitful
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = yes
				}
				is_female = yes
				FROMFROM = {
					is_female = no
				}
			}
			modifier = {
				factor = 10
				trait = humble
			}
			modifier = {
				factor = 10
				trait = content
			}
			modifier = {
				factor = 0.01
				trait = diligent
			}
		}
	}
}

# Hidden ping for From to set up scopes properly in case the other mentor didn't go for the recruitment
character_event = {
	id = risingsun.197
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROMFROMFROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student gets the recruitment event
character_event = {
	id = risingsun.198
	desc = EVTDESC_RISINGSUN_198
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_198 # I pledge myself to you
		
		change_society_currency = -100
		
		FROM = {
			if = {
				limit = {
					has_quest = quest_rising_sun_get_student
				}
				character_event = { id = risingsun.640 }
			}
			opinion = {
				who = ROOT
				modifier = opinion_rising_sun_student
			}
			reverse_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_mentor
			}
			character_event = { id = risingsun.199 } # Inform new mentor
		}
		FROMFROMFROM = {
			remove_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_student
			}
			reverse_remove_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_mentor
			}
			opinion = {
				who = ROOT
				modifier = opinion_rising_sun_ex_student
			}
			reverse_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_ex_mentor
			}
			character_event = { id = risingsun.200 } # Inform old mentor
		}
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = just
			}
			modifier = {
				factor = 0.1
				trait = honest
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = no
				}
				is_female = yes
				FROMFROMFROM = {
					is_female = yes
				}
			}
			modifier = {
				factor = 10
				any_friend = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				any_lover = {
					character = FROM
				}
			}
			modifier = {
				factor = 0
				any_rival = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = ambitious
			}
			modifier = {
				factor = 0.01
				trait = slothful
			}
			modifier = {
				factor = 0
				any_friend = {
					character = FROMFROMFROM
				}
			}
			modifier = {
				factor = 0
				any_lover = {
					character = FROMFROMFROM
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_198 # It is not worth it...
		
		FROM = {
			character_event = { id = risingsun.201 } # Inform FROM
		}
		FROMFROMFROM = {
			character_event = { id = risingsun.202 } # Inform FROMFROMFROM
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		change_society_currency = 100
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = arbitrary
			}
			modifier = {
				factor = 0.1
				trait = deceitful
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = yes
				}
				is_female = yes
				FROMFROMFROM = {
					is_female = no
				}
			}
			modifier = {
				factor = 10
				trait = humble
			}
			modifier = {
				factor = 10
				trait = content
			}
			modifier = {
				factor = 0.01
				trait = diligent
			}
			modifier = {
				factor = 0
				any_rival = {
					character = FROMFROMFROM
				}
			}
		}
	}
}

# Student agreed - other mentor
character_event = {
	id = risingsun.199
	desc = EVTDESC_RISINGSUN_199
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_199 # Haha!
		
		prestige = 100
	}
}

# Student agreed - old mentor
character_event = {
	id = risingsun.200
	desc = EVTDESC_RISINGSUN_200
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_200 # Curses!
		
		prestige = -100
	}
}

# Student disagreed - other mentor
character_event = {
	id = risingsun.201
	desc = EVTDESC_RISINGSUN_201
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_201 # Curses!
		
		prestige = -100
	}
}

# Student disagreed - old mentor
character_event = {
	id = risingsun.202
	desc = EVTDESC_RISINGSUN_202
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_202 # Haha!
		
		prestige = 100
	}
}

# Other mentor gives you advice - other mentor
character_event = {
	id = risingsun.203
	desc = EVTDESC_RISINGSUN_203
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_203 # Here's a quick tip!
		
		prestige = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.204 }
		}
	}
}

# Student
character_event = {
	id = risingsun.204
	desc = EVTDESC_RISINGSUN_204
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_204 # Thank you!
		
		prestige = 10
		change_society_currency = 5
	}
}

# Female mentor helps female student of other non-female mentor
character_event = {
	id = risingsun.205
	desc = EVTDESC_RISINGSUN_205
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_205 # We're in this together!
		
		prestige = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.206 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.206
	desc = EVTDESC_RISINGSUN_206
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_206 # We're in this together!
		
		prestige = 10
		change_society_currency = 5
	}
}

# Female mentor helps female student of other female mentor
character_event = {
	id = risingsun.207
	desc = EVTDESC_RISINGSUN_207
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_207 # We're in this together!
		
		prestige = 20
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.208 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.208
	desc = EVTDESC_RISINGSUN_208
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_208 # We're in this together!
		
		prestige = 20
		change_society_currency = 10
	}
}

### Interactions with students of other mentors

# Rivalry with mentor's rival's student - other student
character_event = {
	id = risingsun.209
	desc = EVTDESC_RISINGSUN_209
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_209 # You and your master are going down!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.210 }
		}
	}
}

# Notified of rivalry
character_event = {
	id = risingsun.210
	desc = EVTDESC_RISINGSUN_210
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_210 # An empty threat
		
		add_rival = FROM
	}
}

# Friendship with mentor's rival's student - other student
character_event = {
	id = risingsun.211
	desc = EVTDESC_RISINGSUN_211
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_211 # We should not be foes!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.212 }
		}
	}
}

# Notified of friendship
character_event = {
	id = risingsun.212
	desc = EVTDESC_RISINGSUN_212
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_212 # We should not be foes!
		
		add_friend = FROM
	}
}

# Lover with mentor's rival's student - other student
character_event = {
	id = risingsun.213
	desc = EVTDESC_RISINGSUN_213
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_213 # Proposition them
		
		piety = -10
		
		FROM = {
			character_event = { id = risingsun.214 days = 1 } # Other student gets the event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_213 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				FROM = {
					is_unattractive_trigger = no
				}
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
				FROM = {
					is_unattractive_trigger = no
				}
			}
		}
	}
}

# Other student gets to respond
character_event = {
	id = risingsun.214
	desc = EVTDESC_RISINGSUN_214
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_214 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.215 days = 1 } # Other student gets the response
		}
		
		piety = -10
		
		add_lover = FROM
		unprotected_sex_effect = yes
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_214 # I don't think so!
		
		piety = 10
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
		}
		
		FROM = {
			character_event = { id = risingsun.216 days = 1 } # Other student gets the response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				FROM = {
					is_unattractive_trigger = no
				}
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
				FROM = {
					is_unattractive_trigger = no
				}
			}
		}
	}
}

# Lovers
character_event = {
	id = risingsun.215
	desc = EVTDESC_RISINGSUN_215
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_215 # Yay!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = risingsun.216
	desc = EVTDESC_RISINGSUN_216
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_216 # Be that way!
	}
}

# Rivalry with mentor's friend's student - other student
character_event = {
	id = risingsun.217
	desc = EVTDESC_RISINGSUN_217
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_217 # They might be friends, but we are not!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.218 }
		}
	}
}

# Notified of rivalry
character_event = {
	id = risingsun.218
	desc = EVTDESC_RISINGSUN_218
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_218 # I hate you too!
		
		add_rival = FROM
	}
}

# Friendship with mentor's friend's student - other student
character_event = {
	id = risingsun.219
	desc = EVTDESC_RISINGSUN_219
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_219 # We should also be friends!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.220 }
		}
	}
}

# Notified of friendship
character_event = {
	id = risingsun.220
	desc = EVTDESC_RISINGSUN_220
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_220 # We should also be friends!
		
		add_friend = FROM
	}
}

# Lover with mentor's friend's student - other student
character_event = {
	id = risingsun.221
	desc = EVTDESC_RISINGSUN_221
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_221 # Proposition them
		
		piety = -10
		
		FROM = {
			character_event = { id = risingsun.222 days = 1 } # Other student gets the event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_221 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				FROM = {
					is_unattractive_trigger = no
				}
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
				FROM = {
					is_unattractive_trigger = no
				}
			}
		}
	}
}

# Other student gets to respond
character_event = {
	id = risingsun.222
	desc = EVTDESC_RISINGSUN_222
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_222 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.223 days = 1 } # Other student gets the response
		}
		
		piety = -10
		
		add_lover = FROM
		unprotected_sex_effect = yes
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_222 # I don't think so!
		
		piety = 10
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
		}
		
		FROM = {
			character_event = { id = risingsun.224 days = 1 } # Other student gets the response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				FROM = {
					is_unattractive_trigger = no
				}
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
				FROM = {
					is_unattractive_trigger = no
				}
			}
		}
	}
}

# Lovers
character_event = {
	id = risingsun.223
	desc = EVTDESC_RISINGSUN_223
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_223 # Yay!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = risingsun.224
	desc = EVTDESC_RISINGSUN_224
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_224 # Be that way!
	}
}

# Other mentor's student gives you advice
character_event = {
	id = risingsun.225
	desc = EVTDESC_RISINGSUN_225
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_225 # Here's a quick tip!
		
		prestige = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.226 }
		}
	}
}

# Got advice
character_event = {
	id = risingsun.226
	desc = EVTDESC_RISINGSUN_226
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_226 # Thank you!
		
		prestige = 10
		change_society_currency = 5
	}
}

# Other mentor's student is a woman and you are not - take issue?
character_event = {
	id = risingsun.227
	desc = EVTDESC_RISINGSUN_227
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_227 # You'll never amount to anything
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.228 days = 1 } # Inform other student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_227 # She's not *that* bad...
		
		prestige = 5
		change_society_currency = 5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Other student took issue - rivalry?
character_event = {
	id = risingsun.228
	desc = EVTDESC_RISINGSUN_228
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_228 # Stay silent
		
		prestige = -15
		change_society_currency = -15
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_228 # I'll show you just how good I am!
		
		prestige = 5
		change_society_currency = 5
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.229 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Inform first student of rivalry
character_event = {
	id = risingsun.229
	desc = EVTDESC_RISINGSUN_229
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_229 # Bring it on!
		
		add_rival = FROM
	}
}

# Other mentor's student is a woman and you are too - become friends
character_event = {
	id = risingsun.230
	desc = EVTDESC_RISINGSUN_230
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_230 # We need to stick together!
		
		add_friend = FROM
		FROM = {
			character_event = { id = risingsun.231 }
		}
	}
}

# Inform other student
character_event = {
	id = risingsun.231
	desc = EVTDESC_RISINGSUN_231
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_231 # We need to stick together!
		
		add_friend = FROM
	}
}

##### Powers

# Summon commander
character_event = {
	id = risingsun.232
	desc = EVTDESC_RISINGSUN_232
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_232 # Good to have them here!
	}
}

# Disband Ronin - on_war_ended
character_event = {
	id = risingsun.233
	desc = EVTDESC_RISINGSUN_233
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		war = no
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_233 # I don't need them any longer!
		
		remove_character_modifier = enlisted_ronin
		disband_event_forces = enlisted_ronin
	}
}

# Mark of Dishonor gained
character_event = {
	id = risingsun.234
	desc = EVTDESC_RISINGSUN_234
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_234 # Curses!
		
		prestige = -500
		add_character_modifier = {
			modifier = mark_of_dishonor
			months = 120
		}
		FROM = {
			if = {
				limit = {
					has_dlc = "Jade Dragon"
					is_chinese_emperor_trigger = no
				}
				if = {
					limit = {
						ROOT = {
							is_chinese_emperor_trigger = yes
						}
					}
					detract_grace_super_huge_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_close_relative = {
								dynasty = PREV
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_massive_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_dynasty_member = {
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_major_effect = yes
				}
			}
		}
		if = {
			limit = {
				NOT = {
					any_rival = {
						character = FROM
					}
				}
			}
			add_rival = FROM
		}
	}
}

# Inform people that the Rising Sun Subjugation failed to launch
character_event = {
	id = risingsun.235
	desc = EVTDESC_RISINGSUN_235
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				society_member_of = warriors_of_the_rising_sun
			}
		}
		name = EVTOPTA_RISINGSUN_235 # That's good to know!
	}
	
	option = {
		trigger = {
			society_member_of = warriors_of_the_rising_sun
		}
		name = EVTOPTB_RISINGSUN_235 # Unfortunate...
	}
}


# Rising Sun Subjugation planning begins - inform the world
narrative_event = {
	id = risingsun.236
	title = EVTTITLE_RISINGSUN_236
	desc = EVTDESC_RISINGSUN_236
	picture = GFX_evt_china_expansionist
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				society_member_of = warriors_of_the_rising_sun
			}
		}
		name = EVTOPTA_RISINGSUN_236 # Worrying...
	}
	
	option = {
		trigger = {
			society_member_of = warriors_of_the_rising_sun
		}
		name = EVTOPTB_RISINGSUN_236 # It will be glorious!
	}
}

# Leader is notified that FROM helped increase progress
letter_event = {
	id = risingsun.237
	desc = EVTDESC_RISINGSUN_237
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_237 # Thank you!
		
		FROM = {
			letter_event = { id = risingsun.238 } # Inform from!
		}
	}
}

# FROM is thanked
letter_event = {
	id = risingsun.238
	desc = EVTDESC_RISINGSUN_238
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_238 # No problem!
		
		prestige = 100
	}
}

# Inform the world if the invasion is called off before being launched due to the leader's death - on_death
character_event = {
	id = risingsun.239
	#desc = EVTDESC_RISINGSUN_239
	#picture = GFX_evt_china_expansionist
	#border = GFX_event_normal_frame_war
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		is_society_grandmaster = yes
		has_character_modifier = preparing_rising_sun_subjugation
	}
	
	immediate = {
		#name = EVTOPTA_RISINGSUN_239 # Alas!
		any_playable_ruler = {
			limit = {
				ai = no
			}
			character_event = { id = risingsun.235 }
		}
	}
}

# Rising Sun Subjugation war launched - non-member
narrative_event = {
	id = risingsun.240
	title = EVTTITLE_RISINGSUN_240
	desc = EVTDESC_RISINGSUN_240
	picture = GFX_evt_china_expansionist
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		any_playable_ruler = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				is_society_grandmaster = yes
			}
			save_event_target_as = rising_sun_grandmaster
			any_war = {
				limit = {
					using_cb = rising_sun_subjugation_cb
				}
				defender = {
					save_event_target_as = rising_sun_subjugation_defender
				}
				thirdparty_title_scope = {
					save_event_target_as = rising_sun_subjugation_target
				}
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				any_war = {
					defender = {
						character = ROOT
					}
					using_cb = rising_sun_subjugation_cb
				}
			}
		}
		name = EVTOPTA_RISINGSUN_240 # Worrying...
	}
	
	option = {
		trigger = {
			any_war = {
				defender = {
					character = ROOT
				}
				using_cb = rising_sun_subjugation_cb
			}
		}
		name = EVTOPTB_RISINGSUN_240 # To arms!
	}
}

# Rising Sun Subjugation war launched - member
character_event = {
	id = risingsun.241
	desc = EVTDESC_RISINGSUN_241
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		any_playable_ruler = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				is_society_grandmaster = yes
			}
			save_event_target_as = rising_sun_grandmaster
			any_war = {
				limit = {
					using_cb = rising_sun_subjugation_cb
				}
				defender = {
					save_event_target_as = rising_sun_subjugation_defender
				}
				thirdparty_title_scope = {
					save_event_target_as = rising_sun_subjugation_target
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_241 # To arms!
	}
}

# Inform the world if the invasion failed due to the leader's death - on_death - deprecated
character_event = {
	id = risingsun.242
	desc = EVTDESC_RISINGSUN_242
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_242 # I see...
	}
}

##### Maintenance

# Recreation if destroyed (fired from on_society_destroyed)
character_event = {
    id = risingsun.243
    is_triggered_only = yes
    has_dlc = "Holy Fury"
    hide_window = yes
    hide_from = yes
    
    trigger = {
        FROM = { is_society = warriors_of_the_rising_sun }
    }

    immediate = {
        if = {
            limit = {
                is_landed = yes
            }
            #Pick someone under you to lead the warrior lodge...
            any_courtier_or_vassal = {
                limit = {
                    ai = yes
                    OR = {
                        religion = shinto
						AND = {
							religion = buddhist
							culture_group = japonic
						}
						religion = ryukyuan_pagan
						religion = ryukyuan_pagan_reformed
                    }
                    has_secret_religion_trait_trigger = no
                    is_in_society = no
                    age = 16
                    NOT = { block_general_event_trigger = yes }
                }
                score_value = { #Prioritizes selecting some kind of warrior...
                    value = 10
                    warrior_recruit_score = yes
                    warrior_lodge_revival_selection_score = yes
                }
                join_society = FROM
                if = {
                    limit = {
                        NOT = {
                            society = {
                                any_society_member = {
                                    is_society_grandmaster = yes
                                }
                            }
                        }
                    }
                    set_society_grandmaster = yes # Set character as Grand Master
                    add_society_currency_massive_effect = yes
                }
                add_society_currency_massive_effect = yes
            }
        }
        else_if = {
			limit = {
				liege = {
					#Pick someone under your *liege* to lead the warrior lodge...
					any_courtier_or_vassal = {
						ai = yes
						OR = {
							religion = shinto
							AND = {
								religion = buddhist
								culture_group = japonic
							}
							religion = ryukyuan_pagan
							religion = ryukyuan_pagan_reformed
						}
						has_secret_religion_trait_trigger = no
						is_in_society = no
						age = 16
						NOT = { block_general_event_trigger = yes }
					}
				}
			}
			liege = {
				#Pick someone under your *liege* to lead the warrior lodge...
				any_courtier_or_vassal = {
					limit = {
						ai = yes
						OR = {
							religion = shinto
							AND = {
								religion = buddhist
								culture_group = japonic
							}
							religion = ryukyuan_pagan
							religion = ryukyuan_pagan_reformed
						}
						has_secret_religion_trait_trigger = no
						is_in_society = no
						age = 16
						NOT = { block_general_event_trigger = yes }
					}
					score_value = { #Prioritizes selecting some kind of warrior...
						value = 10
						warrior_recruit_score = yes
						warrior_lodge_revival_selection_score = yes
					}
					join_society = warriors_of_the_rising_sun
					if = {
						limit = {
							NOT = {
								society = {
									any_society_member = {
										is_society_grandmaster = yes
									}
								}
							}
						}
						set_society_grandmaster = yes # Set character as Grand Master
						add_society_currency_massive_effect = yes
					}
				}
			}
        }
		else = { # Create a new member from scratch
			create_random_soldier = {
				age = 25
				female = no
				religion = shinto
				culture = japanese
				dynasty = random
				health = 6
				fertility = 0.8
				attributes = {
					martial = 12
					diplomacy = 8
					stewardship = 9
					intrigue = 4
					learning = 12
				}
				random_traits = yes
			}
			new_character = {
				join_society = warriors_of_the_rising_sun
				if = {
					limit = {
						NOT = {
							society = {
								any_society_member = {
									is_society_grandmaster = yes
								}
							}
						}
					}
					set_society_grandmaster = yes # Set character as Grand Master
					add_society_currency_massive_effect = yes
				}
			}
		}
        log = "The revive event fired for [From.GetName]."
    }
}

# AI rank up
character_event = {
    id = risingsun.244
    hide_window = yes
    is_triggered_only = yes
    has_dlc = "Holy Fury"
    ai = yes
	
	is_in_society = yes
    
    trigger = { 
        society_member_of = warriors_of_the_rising_sun
		is_inaccessible_or_incapable_trigger = no
		society_can_rank_up = yes
		has_society_currency_minor_trigger = yes
    }

    immediate = {
        random_list = {
            50 = {}
            50 = {
                trigger = {
                    society_rank == 1
					has_character_flag = proved_myself_to_mentor
                }
                society_rank_up = 1
                detract_society_currency_medium_effect = yes # at a worst, they are put at 0 currency
            }
            50 = {
                trigger = {
                    society_rank == 2
					mercenary = no
                }
                society_rank_up = 1
                detract_society_currency_medium_effect = yes # at a worst, they are put at 0 currency
            }
        }
    }
}

##### Interactions with other members - on_society_pulse

### Sake drinking contest

# Hidden event to find a challenger
character_event = {
	id = risingsun.245
	hide_window = yes
	
	is_triggered_only = yes
	
	has_dlc = "Holy Fury"
	is_in_society = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		is_ill_trigger = no
	}
	
	immediate = {
		random_society_member = {
			limit = {
				ai = yes
				society_member_of = warriors_of_the_rising_sun
				NOR = {
					character = ROOT
					has_actual_regency_trigger = yes
					trait = temperate
					trait = content
					is_ill_trigger = no
					any_rival = {
						character = ROOT
					}
				}
				NOT = {
					has_character_flag = sake_contest
				}
			}
			preferred_limit = {
				OR = {
					trait = drunkard
					trait = hedonist
				}
			}
			preferred_limit = {
				OR = {
					trait = ambitious
					trait = proud
				}
			}
			character_event = { id = risingsun.246 }
		}
	}
}

# Ping the challenger
character_event = {
	id = risingsun.246
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = risingsun.247 }
		}
	}
}

# You have been challenged!
character_event = {
	id = risingsun.247
	desc = EVTDESC_RISINGSUN_247
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_247 # I think not!
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.249 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = ambitious
			}
			modifier = {
				factor = 0
				NOT = {
					trait = temperate
				}
				OR = {
					trait = drunkard
					trait = hedonist
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_247 # You're on!
		
		change_society_currency = 25
		prestige = 10
		
		FROM = {
			character_event = { id = risingsun.250 }
		}
		
		set_character_flag = sake_contest
		character_event = { id = risingsun.297 days = 30 } # Clear the flag
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = content
			}
			modifier = {
				factor = 0.1
				trait = humble
			}
			modifier = {
				factor = 0
				trait = temperate
			}
		}
	}
}

# Everyone knows "248" isn't a REAL number!

# Challenge refused
character_event = {
	id = risingsun.249
	desc = EVTDESC_RISINGSUN_249
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_249 # I see...
	}
}

# Challenge accepted!
character_event = {
	id = risingsun.250
	desc = EVTDESC_RISINGSUN_250
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_250 # May the best man/woman win!
		
		FROM = {
			character_event = { id = risingsun.251 } # Ping
		}
		
		set_character_flag = sake_contest
		character_event = { id = risingsun.297 days = 30 } # Clear the flag
		
		hidden_tooltip = {
			set_variable = {
				which = sake_drinks
				value = 0
			}
			export_to_variable = {
				which = drinks_to_take
				value = health
			}
			if = {
				limit = {
					trait = drunkard
				}
				multiply_variable = {
					which = drinks_to_take
					value = 1.5
				}
			}
			if = {
				limit = {
					trait = temperate
				}
				multiply_variable = {
					which = drinks_to_take
					value = 0.2
				}
			}
			if = {
				limit = {
					trait = hedonist
				}
				multiply_variable = {
					which = drinks_to_take
					value = 1.2
				}
			}
		}
	}
}

# Ping the challengee
character_event = {
	id = risingsun.251
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		hidden_tooltip = {
			set_variable = {
				which = sake_drinks
				value = 0
			}
			export_to_variable = {
				which = drinks_to_take
				value = health
			}
			if = {
				limit = {
					trait = drunkard
				}
				multiply_variable = {
					which = drinks_to_take
					value = 1.5
				}
			}
		}
		FROM = {
			character_event = { id = risingsun.252 days = 1 }
		}
	}
}

# Challenger - round 1
character_event = {
	id = risingsun.252
	desc = EVTDESC_RISINGSUN_252
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_252 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.253 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		trigger = {
			always = no # Let's not end it before the first round...
		}
		name = EVTOPTB_RISINGSUN_252 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 1
character_event = {
	id = risingsun.253
	desc = EVTDESC_RISINGSUN_253
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_253 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.254 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		trigger = {
			always = no # Let's not end it before the first round...
		}
		name = EVTOPTB_RISINGSUN_253 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 2
character_event = {
	id = risingsun.254
	desc = EVTDESC_RISINGSUN_254
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_254 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.255 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_254 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 2
character_event = {
	id = risingsun.255
	desc = EVTDESC_RISINGSUN_255
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_255 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.256 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_255 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 3
character_event = {
	id = risingsun.256
	desc = EVTDESC_RISINGSUN_256
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_256 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.257 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_256 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 3
character_event = {
	id = risingsun.257
	desc = EVTDESC_RISINGSUN_257
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_257 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.258 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_257 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 4
character_event = {
	id = risingsun.258
	desc = EVTDESC_RISINGSUN_258
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_258 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.259 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_258 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 4
character_event = {
	id = risingsun.259
	desc = EVTDESC_RISINGSUN_259
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_259 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.260 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_259 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 5
character_event = {
	id = risingsun.260
	desc = EVTDESC_RISINGSUN_260
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_260 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.261 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_260 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 5
character_event = {
	id = risingsun.261
	desc = EVTDESC_RISINGSUN_261
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_261 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.262 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_261 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 6
character_event = {
	id = risingsun.262
	desc = EVTDESC_RISINGSUN_262
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_262 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.263 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_262 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 6
character_event = {
	id = risingsun.263
	desc = EVTDESC_RISINGSUN_263
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_263 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.264 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_263 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 7
character_event = {
	id = risingsun.264
	desc = EVTDESC_RISINGSUN_264
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_264 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.265 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_264 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 7
character_event = {
	id = risingsun.265
	desc = EVTDESC_RISINGSUN_265
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_265 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.266 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_265 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 8
character_event = {
	id = risingsun.266
	desc = EVTDESC_RISINGSUN_266
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_266 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.267 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_266 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 8
character_event = {
	id = risingsun.267
	desc = EVTDESC_RISINGSUN_267
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_267 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.268 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_267 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 9
character_event = {
	id = risingsun.268
	desc = EVTDESC_RISINGSUN_268
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_268 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.269 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_268 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 9
character_event = {
	id = risingsun.269
	desc = EVTDESC_RISINGSUN_269
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_269 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.270 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_269 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 10
character_event = {
	id = risingsun.270
	desc = EVTDESC_RISINGSUN_270
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_270 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.271 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_270 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 10
character_event = {
	id = risingsun.271
	desc = EVTDESC_RISINGSUN_271
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_271 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.292 days = 1 } # Draw!
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_271 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

## Challenger - round 11 - deprecated
#character_event = {
#	id = risingsun.272
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.273 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challengee - round 11 - deprecated
#character_event = {
#	id = risingsun.273
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.274 days = 1 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challenger - round 12 - deprecated
#character_event = {
#	id = risingsun.274
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.275 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challengee - round 12 - deprecated
#character_event = {
#	id = risingsun.275
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.276 days = 1 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challenger - round 13 - deprecated
#character_event = {
#	id = risingsun.276
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.277 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challengee - round 13 - deprecated
#character_event = {
#	id = risingsun.277
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.278 days = 1 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challenger - round 14 - deprecated
#character_event = {
#	id = risingsun.278
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.279 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challengee - round 14 - deprecated
#character_event = {
#	id = risingsun.279
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.280 days = 1 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challenger - round 15 - deprecated
#character_event = {
#	id = risingsun.280
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.281 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challengee - round 15 - deprecated
#character_event = {
#	id = risingsun.281
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.282 days = 1 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challenger - round 16 - deprecated
#character_event = {
#	id = risingsun.282
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.283 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challengee - round 16 - deprecated
#character_event = {
#	id = risingsun.283
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.284 days = 1 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challenger - round 17 - deprecated
#character_event = {
#	id = risingsun.284
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.285 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challengee - round 17 - deprecated
#character_event = {
#	id = risingsun.285
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.286 days = 1 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challenger - round 18 - deprecated
#character_event = {
#	id = risingsun.286
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.287 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challengee - round 18 - deprecated
#character_event = {
#	id = risingsun.287
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.288 days = 1 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challenger - round 19 - deprecated
#character_event = {
#	id = risingsun.288
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.289 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challengee - round 19 - deprecated
#character_event = {
#	id = risingsun.289
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.290 days = 1 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challenger - round 20 - deprecated
#character_event = {
#	id = risingsun.290
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.291 } # Back to your opponent
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}
#
## Challengee - round 20 - deprecated
#character_event = {
#	id = risingsun.291
#	desc = EVTDESC_DEPRECATED
#	picture = GFX_evt_shady_meeting
#	border = GFX_event_normal_frame_diplomacy
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Take another drink
#		
#		hidden_tooltip = {
#			change_variable = {
#				which = sake_drinks
#				value = 1
#			}
#		}
#		
#		random_list = {
#			50 = {
#				FROM = {
#					character_event = { id = risingsun.292 days = 1 } # Draw!
#				}
#			}
#			50 = {
#				modifier = {
#					factor = 0.1
#					NOT = {
#						check_variable = {
#							which = sake_drinks
#							which = drinks_to_take
#						}
#					}
#				}
#				character_event = { id = risingsun.295 } # You drank too much
#			}
#		}
#		
#		ai_chance = {
#			factor = 100
#			modifier = {
#				factor = 0.1
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = EVTDESC_DEPRECATED # Forfeit
#		
#		change_society_currency = -25
#		prestige = -10
#		
#		FROM = {
#			character_event = { id = risingsun.294 days = 1 }
#		}
#		
#		ai_chance = {
#			factor = 10
#			modifier = {
#				factor = 10
#				check_variable = {
#					which = sake_drinks
#					which = drinks_to_take
#				}
#			}
#			modifier = {
#				factor = 0
#				trait = drunkard
#			}
#			modifier = {
#				factor = 0
#				trait = hedonist
#			}
#		}
#	}
#}

# Draw - challenger
character_event = {
	id = risingsun.292
	desc = EVTDESC_RISINGSUN_292
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_292 # We both won!
		
		change_society_currency = 25
		prestige = 25
		
		FROM = {
			character_event = { id = risingsun.293 }
		}
		
		random = {
			chance = 50
			add_trait = drunkard
		}
	}
}

# Draw - challengee
character_event = {
	id = risingsun.293
	desc = EVTDESC_RISINGSUN_293
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_293 # We both won!
		
		change_society_currency = 25
		prestige = 25
		
		random = {
			chance = 50
			add_trait = drunkard
		}
	}
}

# Opponent forfeited - you win!
character_event = {
	id = risingsun.294
	desc = EVTDESC_RISINGSUN_294
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_294 # Well "fought"!
		
		change_society_currency = 50
		prestige = 25
		
		if = {
			limit = {
				check_variable = {
					which = drinks_to_take
					value = 15
				}
			}
			random = {
				chance = 30
				add_trait = drunkard
			}
		}
		else_if = {
			limit = {
				check_variable = {
					which = drinks_to_take
					value = 10
				}
			}
			random = {
				chance = 20
				add_trait = drunkard
			}
		}
		else_if = {
			limit = {
				check_variable = {
					which = drinks_to_take
					value = 5
				}
			}
			random = {
				chance = 15
				add_trait = drunkard
			}
		}
	}
}

# You drank too much
character_event = {
	id = risingsun.295
	desc = EVTDESC_RISINGSUN_295
	picture = GFX_evt_drunk
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_295 # Run outside
		
		change_society_currency = -25
		prestige = -50
		
		FROMFROM = {
			character_event = { id = risingsun.296 days = 1 }
		}
		
		random = {
			chance = 30
			add_trait = drunkard
		}
	}
}

# Opponent drank too much - you win!
character_event = {
	id = risingsun.296
	desc = EVTDESC_RISINGSUN_296
	picture = GFX_evt_drunk
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_296 # I won!
		
		change_society_currency = 50
		prestige = 25
	}
}

# Clear the flag
character_event = {
	id = risingsun.297
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = sake_contest
	}
}

### Poetry contest

# Set up the challenge
character_event = {
	id = risingsun.298
	hide_window = yes
	
	is_triggered_only = yes
	
	has_dlc = "Holy Fury"
	is_in_society = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		is_ill_trigger = no
	}
	
	immediate = {
		random_society_member = {
			limit = {
				ai = yes
				society_member_of = warriors_of_the_rising_sun
				NOR = {
					character = ROOT
					has_actual_regency_trigger = yes
					is_dumb_trigger = yes
					trait = content
					is_ill_trigger = no
					any_rival = {
						character = ROOT
					}
				}
				NOT = {
					has_character_flag = poetry_contest
				}
			}
			preferred_limit = {
				trait = poet
			}
			character_event = { id = risingsun.299 } # Ping the challenger
		}
	}
}

# Ping the challenger
character_event = {
	id = risingsun.299
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = risingsun.300 } # Issue the challenge
		}
	}
}

# Challenge issued
character_event = {
	id = risingsun.300
	desc = EVTDESC_RISINGSUN_300
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_300 # I think not!
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.301 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = ambitious
			}
			modifier = {
				factor = 0
				trait = poet
				NOT = {
					trait = shy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_300 # You're on!
		
		change_society_currency = 25
		prestige = 10
		
		FROM = {
			character_event = { id = risingsun.302 }
		}
		
		set_character_flag = poetry_contest
		character_event = { id = risingsun.358 days = 15 } # Clear flags
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = content
			}
			modifier = {
				factor = 0.1
				trait = humble
			}
			modifier = {
				factor = 0
				trait = poet
			}
		}
	}
}

# Challenge refused
character_event = {
	id = risingsun.301
	desc = EVTDESC_RISINGSUN_301
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_301 # I see...
	}
}

# Challenge accepted, challenger picks a category from up to four random options - flattering, cruel, slanderous, deceptive, flirting, warfare, nature, religion, personal combat
character_event = {
	id = risingsun.302
	desc = EVTDESC_RISINGSUN_302
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		set_character_flag = poetry_contest
		character_event = { id = risingsun.358 days = 15 } # Clear flags
		set_variable = {
			which = poetry_options
			value = 0
		}
		while = {
			limit = {
				NOT = {
					check_variable = {
						which = poetry_options
						value = 4
					}
				}
			}
			change_variable = {
				which = poetry_options
				value = 1
			}
			random_list = {
				10 = {
					modifier = { # Might get fewer options
						factor = 0
						check_variable = {
							which = poetry_options
							value = 3
						}
					}
					change_variable = {
						which = poetry_options
						value = 1
					}
				}
				10 = {
					modifier = {
						factor = 0
						NOT = {
							opinion = {
								who = FROM
								value = 0
							}
						}
					}
					set_character_flag = flattering_poem
				}
				10 = {
					modifier = {
						factor = 0
						opinion = {
							who = FROM
							value = 0
						}
						NOT = {
							trait = cruel
						}
					}
					modifier = {
						factor = 0
						trait = kind
					}
					set_character_flag = cruel_poem
				}
				10 = {
					modifier = {
						factor = 0
						opinion = {
							who = FROM
							value = 0
						}
					}
					modifier = {
						factor = 0
						trait = kind
					}
					set_character_flag = slanderous_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = honest
					}
					set_character_flag = deceptive_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = chaste
					}
					modifier = {
						factor = 0
						trait = celibate
					}
					modifier = {
						factor = 0
						FROM = {
							NAND = {
								prev_attraction_trigger = yes
								attacted_to_prev_trigger = yes # Vanilla typo!
							}
						}
					}
					modifier = {
						factor = 0
						any_lover = {
							character = FROM
						}
					}
					set_character_flag = flirtatious_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = craven
					}
					set_character_flag = warfare_poem
				}
				10 = {
					set_character_flag = nature_poem
				}
				10 = {
					set_character_flag = religious_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = craven
					}
					set_character_flag = pcs_poem
				}
			}
		}
		character_event = { id = risingsun.358 days = 15 } # Clear flags
		
		FROM = {
			character_event = { id = risingsun.303 days = 1 } # FROM selects a category
		}
	}
	
	option = {
		trigger = {
			has_character_flag = flattering_poem
		}
		name = EVTOPTA_RISINGSUN_302 # Flattering
		set_character_flag = my_poem_is_flattering
		
		prestige = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = gregarious
			}
			modifier = {
				factor = 10
				diplomacy = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = cruel_poem
		}
		name = EVTOPTB_RISINGSUN_302
		set_character_flag = my_poem_is_cruel
		
		change_society_currency = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = cruel
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = cruel
			}
			modifier = {
				factor = 10
				diplomacy = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = slanderous_poem
		}
		name = EVTOPTC_RISINGSUN_302
		set_character_flag = my_poem_is_slanderous
		
		change_society_currency = -25
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = gregarious
			}
			modifier = {
				factor = 10
				intrigue = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = deceptive_poem
		}
		name = EVTOPTD_RISINGSUN_302
		set_character_flag = my_poem_is_deceptive
		
		change_society_currency = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = deceitful
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = deceitful
			}
			modifier = {
				factor = 10
				intrigue = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = flirtatious_poem
		}
		name = EVTOPTE_RISINGSUN_302
		set_character_flag = my_poem_is_flirtatious
		
		prestige = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = chaste
					}
				}
				modifier = {
					factor = 5
					FROM = {
						trait = lustful
					}
				}
				modifier = {
					factor = 2
					trait = lustful
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = chaste
					}
				}
				modifier = {
					factor = 2
					FROM = {
						trait = lustful
					}
				}
				modifier = {
					factor = 2
					trait = lustful
				}
				set_character_flag = good_poem
			}
			40 = {
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = lustful
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				modifier = {
					factor = 0
					FROM = {
						trait = lustful
					}
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = lustful
			}
			modifier = {
				factor = 10
				FROM = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = warfare_poem
		}
		name = EVTOPTF_RISINGSUN_302
		set_character_flag = my_poem_is_warfare
		
		change_society_currency = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				modifier = {
					factor = 0
					trait = strategist
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = brave
			}
			modifier = {
				factor = 10
				trait = strategist
			}
			modifier = {
				factor = 10
				martial = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = nature_poem
		}
		name = EVTOPTG_RISINGSUN_302
		set_character_flag = my_poem_is_nature
		
		piety = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					stewardship = 20
				}
				modifier = {
					factor = 2
					stewardship = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					stewardship = 20
				}
				modifier = {
					factor = 2
					stewardship = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 6
					}
				}
				modifier = {
					factor = 0
					trait = gardener
				}
				modifier = {
					factor = 0
					trait = hunter
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = hunter
			}
			modifier = {
				factor = 10
				trait = gardener
			}
			modifier = {
				factor = 10
				stewardship = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = religious_poem
		}
		name = EVTOPTH_RISINGSUN_302
		set_character_flag = my_poem_is_religious
		
		piety = 25
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					learning = 20
				}
				modifier = {
					factor = 2
					learning = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				modifier = {
					factor = 0.1
					trait = zealous
					FROM = {
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					learning = 20
				}
				modifier = {
					factor = 2
					learning = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = good_poem
			}
			40 = {
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 6
					}
				}
				modifier = {
					factor = 0
					trait = zealous
					FROM = {
						religion = ROOT
					}
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = zealous
			}
			modifier = {
				factor = 10
				learning = 12
			}
			modifier = {
				factor = 0
				trait = cynical
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = pcs_poem
		}
		name = EVTOPTI_RISINGSUN_302
		set_character_flag = my_poem_is_pcs
		
		change_society_currency = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				modifier = {
					factor = 0
					trait = duelist
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = duelist
			}
			modifier = {
				factor = 10
				trait = brave
			}
			modifier = {
				factor = 10
				martial = 12
			}
		}
	}
}

# Challengee picks a category (same regarding options as above)
character_event = {
	id = risingsun.303
	desc = EVTDESC_RISINGSUN_303
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		set_character_flag = poetry_contest
		set_variable = {
			which = poetry_options
			value = 0
		}
		while = {
			limit = {
				NOT = {
					check_variable = {
						which = poetry_options
						value = 4
					}
				}
			}
			change_variable = {
				which = poetry_options
				value = 1
			}
			random_list = {
				10 = {
					modifier = { # Might get fewer options
						factor = 0
						check_variable = {
							which = poetry_options
							value = 3
						}
					}
					change_variable = {
						which = poetry_options
						value = 1
					}
				}
				10 = {
					modifier = {
						factor = 0
						NOT = {
							opinion = {
								who = FROM
								value = 0
							}
						}
					}
					set_character_flag = flattering_poem
				}
				10 = {
					modifier = {
						factor = 0
						opinion = {
							who = FROM
							value = 0
						}
						NOT = {
							trait = cruel
						}
					}
					modifier = {
						factor = 0
						trait = kind
					}
					set_character_flag = cruel_poem
				}
				10 = {
					modifier = {
						factor = 0
						opinion = {
							who = FROM
							value = 0
						}
					}
					modifier = {
						factor = 0
						trait = kind
					}
					set_character_flag = slanderous_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = honest
					}
					set_character_flag = deceptive_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = chaste
					}
					modifier = {
						factor = 0
						trait = celibate
					}
					modifier = {
						factor = 0
						FROM = {
							NAND = {
								prev_attraction_trigger = yes
								attacted_to_prev_trigger = yes # Vanilla typo!
							}
						}
					}
					modifier = {
						factor = 0
						any_lover = {
							character = FROM
						}
					}
					set_character_flag = flirtatious_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = craven
					}
					set_character_flag = warfare_poem
				}
				10 = {
					set_character_flag = nature_poem
				}
				10 = {
					set_character_flag = religious_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = craven
					}
					set_character_flag = pcs_poem
				}
			}
		}
		character_event = { id = risingsun.358 days = 15 } # Clear flags
		
		FROM = {
			character_event = { id = risingsun.304 days = 1 } # Inform about the outcome
		}
	}
	
	option = {
		trigger = {
			has_character_flag = flattering_poem
		}
		name = EVTOPTA_RISINGSUN_303
		set_character_flag = my_poem_is_flattering
		
		prestige = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = gregarious
			}
			modifier = {
				factor = 10
				diplomacy = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = cruel_poem
		}
		name = EVTOPTB_RISINGSUN_303
		set_character_flag = my_poem_is_cruel
		
		change_society_currency = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = cruel
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = cruel
			}
			modifier = {
				factor = 10
				diplomacy = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = slanderous_poem
		}
		name = EVTOPTC_RISINGSUN_303
		set_character_flag = my_poem_is_slanderous
		
		change_society_currency = -25
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = gregarious
			}
			modifier = {
				factor = 10
				intrigue = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = deceptive_poem
		}
		name = EVTOPTD_RISINGSUN_303
		set_character_flag = my_poem_is_deceptive
		
		change_society_currency = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = deceitful
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = deceitful
			}
			modifier = {
				factor = 10
				intrigue = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = flirtatious_poem
		}
		name = EVTOPTE_RISINGSUN_303
		set_character_flag = my_poem_is_flirtatious
		
		prestige = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = chaste
					}
				}
				modifier = {
					factor = 5
					FROM = {
						trait = lustful
					}
				}
				modifier = {
					factor = 2
					trait = lustful
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = chaste
					}
				}
				modifier = {
					factor = 2
					FROM = {
						trait = lustful
					}
				}
				modifier = {
					factor = 2
					trait = lustful
				}
				set_character_flag = good_poem
			}
			40 = {
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = lustful
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				modifier = {
					factor = 0
					FROM = {
						trait = lustful
					}
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = lustful
			}
			modifier = {
				factor = 10
				FROM = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = warfare_poem
		}
		name = EVTOPTF_RISINGSUN_303
		set_character_flag = my_poem_is_warfare
		
		change_society_currency = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				modifier = {
					factor = 0
					trait = strategist
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = brave
			}
			modifier = {
				factor = 10
				trait = strategist
			}
			modifier = {
				factor = 10
				martial = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = nature_poem
		}
		name = EVTOPTG_RISINGSUN_303
		set_character_flag = my_poem_is_nature
		
		piety = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					stewardship = 20
				}
				modifier = {
					factor = 2
					stewardship = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					stewardship = 20
				}
				modifier = {
					factor = 2
					stewardship = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 6
					}
				}
				modifier = {
					factor = 0
					trait = gardener
				}
				modifier = {
					factor = 0
					trait = hunter
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = hunter
			}
			modifier = {
				factor = 10
				trait = gardener
			}
			modifier = {
				factor = 10
				stewardship = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = religious_poem
		}
		name = EVTOPTH_RISINGSUN_303
		set_character_flag = my_poem_is_religious
		
		piety = 25
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					learning = 20
				}
				modifier = {
					factor = 2
					learning = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				modifier = {
					factor = 0.1
					trait = zealous
					FROM = {
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					learning = 20
				}
				modifier = {
					factor = 2
					learning = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = good_poem
			}
			40 = {
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 6
					}
				}
				modifier = {
					factor = 0
					trait = zealous
					FROM = {
						religion = ROOT
					}
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = zealous
			}
			modifier = {
				factor = 10
				learning = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = pcs_poem
		}
		name = EVTOPTI_RISINGSUN_303
		set_character_flag = my_poem_is_pcs
		
		change_society_currency = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				modifier = {
					factor = 0
					trait = duelist
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = duelist
			}
			modifier = {
				factor = 10
				trait = brave
			}
			modifier = {
				factor = 10
				martial = 12
			}
		}
	}
}

# Fire event telling the challenger how it went + follow-up for the challengee one day later + the challengee's event three days later
character_event = {
	id = risingsun.304
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		# First inform about quality
		if = {
			limit = {
				has_character_flag = great_poem
			}
			character_event = { id = risingsun.306 } # Great poem
		}
		else_if = {
			limit = {
				has_character_flag = good_poem
			}
			character_event = { id = risingsun.307 } # Good poem
		}
		else_if = {
			limit = {
				has_character_flag = accpetable_poem
			}
			character_event = { id = risingsun.308 } # Acceptable poem
		}
		else_if = {
			limit = {
				has_character_flag = bad_poem
			}
			character_event = { id = risingsun.309 } # Bad poem
		}
		else_if = {
			limit = {
				has_character_flag = awful_poem
			}
			character_event = { id = risingsun.310 } # Awful poem
		}
		
		# Then fire follow-up
		if = {
			limit = {
				has_character_flag = my_poem_is_flattering
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
						NOR = {
							any_friend = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
						NOT = {
							any_rival = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.311 days = 1 } # Become friends
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
						NOR = {
							any_friend = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
						NOT = {
							any_rival = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.337 days = 1 } # Accidentally offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_cruel
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.313 days = 1 } # Cruel poem - rivalry
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.339 days = 1 } # Cruel poem - rivalry but mocked
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_slanderous
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.315 days = 1 } # Slanderous poem - rivalry
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.341 days = 1 } # Slanderous poem - rivalry but mocked
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_deceptive
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.317 days = 1 } # Deception not spotted
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.343 days = 1 } # Deception spotted
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_flirtatious
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					if = {
						limit = {
							NOT = {
								any_lover = {
									character = FROM
								}
							}
						}
						FROM = {
							character_event = { id = risingsun.319 days = 1 } # Possibly tumbling
						}
					}
					else = {
						FROM = {
							character_event = { id = risingsun.325 days = 1 } # Already lovers
						}
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.345 days = 1 } # Offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_warfare
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.327 days = 1 } # Warfare - tech points
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.347 days = 1 } # Poor warfare
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_nature
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.329 days = 1 } # Nature is good
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.349 days = 1 } # Nature is boring
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_religious
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					modifier = {
						factor = 0
						FROM = {
							NOT = {
								religion = ROOT
							}
							trait = zealous
						}
					}
					if = {
						limit = {
							FROM = {
								NOT = {
									religion_group = ROOT
								}
							}
						}
						character_event = { id = risingsun.331 days = 1 } # Sympathy
					}
					else = {
						character_event = { id = risingsun.333 days = 1 } # Sympathy impossible, so just appreciate it
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
						NOT = {
							FROM = {
								NOT = {
									religion = ROOT
								}
								trait = zealous
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.351 days = 1 } # Offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_pcs
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.335 days = 1 } # PCS is good
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.353 days = 1 } # PCS is bad
					}
				}
			}
		}
		
		# And finally move on
		FROM = {
			character_event = { id = risingsun.305 days = 3 } # Fire the same event for the challengee
		}
	}
}

# Fire event telling the challengee how it went + follow-up for the challenger one day later + determine the winner three days after THAT
character_event = {
	id = risingsun.305
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		# First inform about quality
		if = {
			limit = {
				has_character_flag = great_poem
			}
			character_event = { id = risingsun.306 } # Great poem
		}
		else_if = {
			limit = {
				has_character_flag = good_poem
			}
			character_event = { id = risingsun.307 } # Good poem
		}
		else_if = {
			limit = {
				has_character_flag = accpetable_poem
			}
			character_event = { id = risingsun.308 } # Acceptable poem
		}
		else_if = {
			limit = {
				has_character_flag = bad_poem
			}
			character_event = { id = risingsun.309 } # Bad poem
		}
		else_if = {
			limit = {
				has_character_flag = awful_poem
			}
			character_event = { id = risingsun.310 } # Awful poem
		}
		
		# Then fire follow-up
		if = {
			limit = {
				has_character_flag = my_poem_is_flattering
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
						NOR = {
							any_friend = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
						NOT = {
							any_rival = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.311 days = 1 } # Become friends
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
						NOR = {
							any_friend = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
						NOT = {
							any_rival = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.337 days = 1 } # Accidentally offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_cruel
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.313 days = 1 } # Cruel poem - rivalry
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.339 days = 1 } # Cruel poem - rivalry but mocked
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_slanderous
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.315 days = 1 } # Slanderous poem - rivalry
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.341 days = 1 } # Slanderous poem - rivalry but mocked
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_deceptive
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.317 days = 1 } # Deception not spotted
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.343 days = 1 } # Deception spotted
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_flirtatious
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					if = {
						limit = {
							NOT = {
								any_lover = {
									character = FROM
								}
							}
						}
						FROM = {
							character_event = { id = risingsun.319 days = 1 } # Possibly tumbling
						}
					}
					else = {
						FROM = {
							character_event = { id = risingsun.325 days = 1 } # Already lovers
						}
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.345 days = 1 } # Offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_warfare
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.327 days = 1 } # Warfare - tech points
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.347 days = 1 } # Poor warfare
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_nature
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.329 days = 1 } # Nature is good
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.349 days = 1 } # Nature is boring
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_religious
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					modifier = {
						factor = 0
						FROM = {
							NOT = {
								religion = ROOT
							}
							trait = zealous
						}
					}
					if = {
						limit = {
							FROM = {
								NOT = {
									religion_group = ROOT
								}
							}
						}
						character_event = { id = risingsun.331 days = 1 } # Sympathy
					}
					else = {
						character_event = { id = risingsun.333 days = 1 } # Sympathy impossible, so just appreciate it
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
						NOT = {
							FROM = {
								NOT = {
									religion = ROOT
								}
								trait = zealous
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.351 days = 1 } # Offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_pcs
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.335 days = 1 } # PCS is good
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.353 days = 1 } # PCS is bad
					}
				}
			}
		}
		
		# And finally move on
		FROM = {
			character_event = { id = risingsun.355 days = 3 } # Determine the winner
		}
	}
}

# Poem is done - great
character_event = {
	id = risingsun.306
	desc = EVTDESC_RISINGSUN_306
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_306 # Great!
		
		prestige = 25
	}
}

# Poem is done - good
character_event = {
	id = risingsun.307
	desc = EVTDESC_RISINGSUN_307
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_307 # Good!
		
		prestige = 10
	}
}

# Poem is done - average
character_event = {
	id = risingsun.308
	desc = EVTDESC_RISINGSUN_308
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_308 # Okay!
		
		prestige = 5
	}
}

# Poem is done - bad
character_event = {
	id = risingsun.309
	desc = EVTDESC_RISINGSUN_309
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_309 # Bad!
		
		prestige = -10
	}
}

# Poem is done - awful
character_event = {
	id = risingsun.310
	desc = EVTDESC_RISINGSUN_310
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_310 # Awful!
		
		prestige = -25
	}
}

# Flattering poem - become friends
character_event = {
	id = risingsun.311
	desc = EVTDESC_RISINGSUN_311
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_311 # That was nice!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.312 }
		}
	}
}

# Friendship
character_event = {
	id = risingsun.312
	desc = EVTDESC_RISINGSUN_312
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_312 # Great!
		
		prestige = 10
		
		add_friend = FROM
	}
}

# Cruel poem - rivalry
character_event = {
	id = risingsun.313
	desc = EVTDESC_RISINGSUN_313
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_313 # You dare?
		
		add_rival = FROM
		
		prestige = -25
		
		FROM = {
			character_event = { id = risingsun.314 }
		}
	}
}

# Rivalry
character_event = {
	id = risingsun.314
	desc = EVTDESC_RISINGSUN_314
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_314 # Struck a nerve, I see!
		
		add_rival = FROM
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_medium_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_minor_effect = yes
			}
		}
		
		prestige = 10
	}
}

# Slanderous poem - rivalry
character_event = {
	id = risingsun.315
	desc = EVTDESC_RISINGSUN_315
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_315 # You dare?
		
		add_rival = FROM
		
		change_society_currency = -50
		
		FROM = {
			character_event = { id = risingsun.316 }
		}
	}
}

# Rivalry
character_event = {
	id = risingsun.316
	desc = EVTDESC_RISINGSUN_316
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_316 # It was a good guess, it seems...
		
		add_rival = FROM
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_medium_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_minor_effect = yes
			}
		}
		
		prestige = 10
	}
}

# Deceptive poem - you don't spot it
character_event = {
	id = risingsun.317
	desc = EVTDESC_RISINGSUN_317
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_317 # I feel like I'm missing something
		
		change_society_currency = -10
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.318 }
		}
	}
}

# Deception not spotted
character_event = {
	id = risingsun.318
	desc = EVTDESC_RISINGSUN_318
	picture = GFX_evt_shady_meeting
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_318 # Child's play!
		
		change_society_currency = -10
		prestige = 25
	}
}

# Flirting poem - suggest tumbling?
character_event = {
	id = risingsun.319
	desc = EVTDESC_RISINGSUN_319
	picture = GFX_evt_pleasing_letter
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_319 # Proposition them
		
		FROM = {
			character_event = { id = risingsun.320 days = 1 } # Tumbling propsed
		}
		
		piety = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_319 # I don't think so!
		
		FROM = {
			character_event = { id = risingsun.321 days = 1 } # No tumbling
		}
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				FROM = {
					is_unattractive_trigger = no
				}
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
				FROM = {
					is_unattractive_trigger = no
				}
			}
		}
	}
}

# Tumbling suggested
character_event = {
	id = risingsun.320
	desc = EVTDESC_RISINGSUN_320
	picture = GFX_evt_pleasing_letter
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_320 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.322 days = 1 } # Tumbling happened
		}
		
		piety = -10
		
		add_lover = FROM
		unprotected_sex_effect = yes
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_unattractive_trigger = yes
				}
			}
			modifier = {
				factor = 5
				FROM = {
					is_attractive_trigger = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_320 # I don't think so!
		
		piety = 10
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
		}
		
		FROM = {
			character_event = { id = risingsun.324 days = 1 } # No tumbling
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				FROM = {
					is_unattractive_trigger = no
				}
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
				FROM = {
					is_unattractive_trigger = no
				}
			}
		}
	}
}

# Tumbling not suggested
character_event = {
	id = risingsun.321
	desc = EVTDESC_RISINGSUN_321
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_321 # I should have been clearer...
		prestige = -10
	}
}

# Tumbling happened - become lovers
character_event = {
	id = risingsun.322
	desc = EVTDESC_RISINGSUN_322
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_322 # Yay!
		
		add_lover = FROM
	}
}

# Became lovers - unnecessary - this means there's no 323

# No tumbling
character_event = {
	id = risingsun.324
	desc = EVTDESC_RISINGSUN_324
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_324 # Be that way!
	}
}

# Flirting poem - already lovers
character_event = {
	id = risingsun.325
	desc = EVTDESC_RISINGSUN_325
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_325 # That was nice!
		
		unprotected_sex_effect = yes
		
		FROM = {
			character_event = { id = risingsun.326 } # Inform FROM
		}
	}
}

# Already lovers - response
character_event = {
	id = risingsun.326
	desc = EVTDESC_RISINGSUN_326
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_326 # Nice!
		
		prestige = 10
	}
}

# Warfare poem - gain tech points
character_event = {
	id = risingsun.327
	desc = EVTDESC_RISINGSUN_327
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_327 # Well written!
		
		military_techpoints = 15
		
		FROM = {
			character_event = { id = risingsun.328 } # Inform FROM
		}
	}
}

# Gain Honor
character_event = {
	id = risingsun.328
	desc = EVTDESC_RISINGSUN_328
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_328 # Nice!
		
		change_society_currency = 25
	}
}

# Nature poem - appreciated
character_event = {
	id = risingsun.329
	desc = EVTDESC_RISINGSUN_329
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_329 # Well written!
		
		FROM = {
			character_event = { id = risingsun.330 } # Inform FROM
		}
	}
}

# Poem was appreciated
character_event = {
	id = risingsun.330
	desc = EVTDESC_RISINGSUN_330
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_330 # Nice!
		
		prestige = 10
	}
}

# Religious poem - gain sympathy
character_event = {
	id = risingsun.331
	desc = EVTDESC_RISINGSUN_331
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_331 # Nice!
		
		prestige = 10
		if = {
			limit = {
				FROM = {
					religion_group = christian
				}
			}
			add_trait = sympathy_christendom
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = muslim
				}
			}
			add_trait = sympathy_islam
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = jewish_group
				}
			}
			add_trait = sympathy_judaism
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = pagan_group
				}
			}
			add_trait = sympathy_pagans
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = zoroastrian_group
				}
			}
			add_trait = sympathy_zoroastrianism
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = indian_group
				}
			}
			add_trait = sympathy_indian
		}
		
		FROM = {
			character_event = { id = risingsun.332 } # Inform FROM
		}
	}
}

# FROM gained sympathy - gain piety
character_event = {
	id = risingsun.332
	desc = EVTDESC_RISINGSUN_332
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_332 # Nice!
		
		piety = 25
	}
}

# Religious poem - appreciative if sympathy is impossible
character_event = {
	id = risingsun.333
	desc = EVTDESC_RISINGSUN_333
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_333 # Nice!
		
		FROM = {
			character_event = { id = risingsun.334 } # Inform FROM
		}
	}
}

# FROM appreciated it - gain piety
character_event = {
	id = risingsun.334
	desc = EVTDESC_RISINGSUN_334
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_334 # Nice!
		
		piety = 25
	}
}

# Personal combat - small chance of duel experience
character_event = {
	id = risingsun.335
	desc = EVTDESC_RISINGSUN_335
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_335 # Nice!
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.336 } # Inform FROM
		}
	}
}

# Gain Honor
character_event = {
	id = risingsun.336
	desc = EVTDESC_RISINGSUN_336
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_336 # Nice!
		
		change_society_currency = 25
	}
}

# Poor attempt at flattering poem
character_event = {
	id = risingsun.337
	desc = EVTDESC_RISINGSUN_337
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_337 # That wasn't very nice!
		
		FROM = {
			character_event = { id = risingsun.338 } # Inform FROM
		}
	}
}

# Flattering falls flat
character_event = {
	id = risingsun.338
	desc = EVTDESC_RISINGSUN_338
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_338 # Nice!
		
		prestige = -25
	}
}

# Poor cruel poem - become rivals and mock FROM
character_event = {
	id = risingsun.339
	desc = EVTDESC_RISINGSUN_339
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_339 # You call THAT mockery?
		
		prestige = 25
		add_rival = FROM
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_medium_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_minor_effect = yes
			}
		}
		
		FROM = {
			character_event = { id = risingsun.340 } # Inform FROM
		}
	}
}

# Mocked
character_event = {
	id = risingsun.340
	desc = EVTDESC_RISINGSUN_340
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_340 # Curses!
		
		prestige = -25
		add_rival = FROM
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_medium_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_minor_effect = yes
			}
		}
	}
}

# Poor slanderous poem - become rivals and mock FROM
character_event = {
	id = risingsun.341
	desc = EVTDESC_RISINGSUN_341
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_341 # You call THAT slander?
		
		prestige = 25
		add_rival = FROM
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_medium_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_minor_effect = yes
			}
		}
		
		FROM = {
			character_event = { id = risingsun.342 } # Inform FROM
		}
	}
}

# Mocked
character_event = {
	id = risingsun.342
	desc = EVTDESC_RISINGSUN_342
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_342 # Curses!
		
		change_society_currency = -50
		add_rival = FROM
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_medium_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_minor_effect = yes
			}
		}
	}
}

# Deceptive poem - you spot the deception and become rivals
character_event = {
	id = risingsun.343
	desc = EVTDESC_RISINGSUN_343
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_343 # I see through your LIES!
		
		change_society_currency = 25
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.344 } # Inform FROM
		}
	}
}

# Deception spotted
character_event = {
	id = risingsun.344
	desc = EVTDESC_RISINGSUN_344
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_344 # Curses!
		
		change_society_currency = -50
		add_rival = FROM
		
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				is_chinese_emperor_trigger = no
			}
			if = {
				limit = {
					FROM = {
						is_chinese_emperor_trigger = yes
					}
				}
				detract_grace_major_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_close_relative = {
							dynasty = PREV
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_medium_effect = yes
			}
			else_if = {
				limit = {
					FROM = {
						any_dynasty_member = {
							is_chinese_emperor_trigger = yes
						}
					}
				}
				detract_grace_minor_effect = yes
			}
		}
	}
}

# Poor flirting poem - get offended
character_event = {
	id = risingsun.345
	desc = EVTDESC_RISINGSUN_345
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_345 # How rude!
		
		FROM = {
			character_event = { id = risingsun.346 } # Inform FROM
		}
	}
}

# Offended FROM
character_event = {
	id = risingsun.346
	desc = EVTDESC_RISINGSUN_346
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_346 # Curses!
		
		prestige = -25
	}
}

# Poor warfare poem
character_event = {
	id = risingsun.347
	desc = EVTDESC_RISINGSUN_347
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_347 # That was stupid!
		
		FROM = {
			character_event = { id = risingsun.348 } # Inform FROM
		}
	}
}

# Lose Honor
character_event = {
	id = risingsun.348
	desc = EVTDESC_RISINGSUN_348
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_348 # Curses!
		
		change_society_currency = -25
	}
}

# Poor nature poem - boring
character_event = {
	id = risingsun.349
	desc = EVTDESC_RISINGSUN_349
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_349 # Enough about the cherry blossoms!
		
		FROM = {
			character_event = { id = risingsun.350 } # Inform FROM
		}
	}
}

# Lose prestige
character_event = {
	id = risingsun.350
	desc = EVTDESC_RISINGSUN_350
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_350 # Curses!
		
		prestige = -25
	}
}

# Poor religious poem OR zealous and wrong religion
character_event = {
	id = risingsun.351
	desc = EVTDESC_RISINGSUN_351
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_351 # Wrong! Wrong! Wrong!
		
		piety = 25
		if = {
			limit = {
				FROM = {
					religion_group = christian
				}
				trait = sympathy_christendom
			}
			remove_trait = sympathy_christendom
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = muslim
				}
				trait = sympathy_islam
			}
			remove_trait = sympathy_islam
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = jewish_group
				}
				trait = sympathy_judaism
			}
			remove_trait = sympathy_judaism
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = pagan_group
				}
				trait = sympathy_pagans
			}
			remove_trait = sympathy_pagans
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = zoroastrian_group
				}
				trait = sympathy_zoroastrianism
			}
			remove_trait = sympathy_zoroastrianism
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = indian_group
				}
				trait = sympathy_indian
			}
			remove_trait = sympathy_indian
		}
		
		FROM = {
			character_event = { id = risingsun.352 } # Inform FROM
		}
	}
}

# Lose piety
character_event = {
	id = risingsun.352
	desc = EVTDESC_RISINGSUN_352
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_352 # Curses!
		
		piety = -50
	}
}

# Poor personal combat
character_event = {
	id = risingsun.353
	desc = EVTDESC_RISINGSUN_353
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_353 # That was stupid!
		
		FROM = {
			character_event = { id = risingsun.354 } # Inform FROM
		}
	}
}

# Lose Honor
character_event = {
	id = risingsun.354
	desc = EVTDESC_RISINGSUN_354
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_354 # Curses!
		
		change_society_currency = -25
	}
}

# Determine the winner
character_event = {
	id = risingsun.355
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			50 = {
				modifier = {
					factor = 10
					has_character_flag = great_poem
				}
				modifier = {
					factor = 5
					has_character_flag = good_poem
				}
				modifier = {
					factor = 10
					FROM = {
						has_character_flag = awful_poem
					}
				}
				modifier = {
					factor = 5
					FROM = {
						has_character_flag = bad_poem
					}
				}
				modifier = {
					factor = 2
					trait = poet
				}
				character_event = { id = risingsun.356 } # Victory
				FROM = {
					character_event = { id = risingsun.357 } # Defeat
				}
			}
			50 = {
				modifier = {
					factor = 10
					has_character_flag = awful_poem
				}
				modifier = {
					factor = 5
					has_character_flag = bad_poem
				}
				modifier = {
					factor = 10
					FROM = {
						has_character_flag = great_poem
					}
				}
				modifier = {
					factor = 5
					FROM = {
						has_character_flag = good_poem
					}
				}
				modifier = {
					factor = 2
					FROM = {
						trait = poet
					}
				}
				character_event = { id = risingsun.357 } # Defeat
				FROM = {
					character_event = { id = risingsun.356 } # Victory
				}
			}
		}
	}
}

# You won - might gain Poet
character_event = {
	id = risingsun.356
	desc = EVTDESC_RISINGSUN_356
	picture = GFX_evt_pleasing_letter
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				has_character_flag = great_poem
				has_character_flag = good_poem
				has_character_flag = accpetable_poem
			}
		}
		name = EVTOPTA_RISINGSUN_356 # Great!
		
		prestige = 50
		
		if = {
			limit = {
				NOT = {
					trait = poet
				}
			}
			random = {
				chance = 25
				add_trait = poet
			}
		}
	}
	
	option = {
		trigger = {
			NOR = {
				has_character_flag = great_poem
				has_character_flag = good_poem
				has_character_flag = accpetable_poem
			}
		}
		name = EVTOPTB_RISINGSUN_356 # Close one!
		
		prestige = 25
	}
}

# You lost - might gain Poet if you did decently
character_event = {
	id = risingsun.357
	desc = EVTDESC_RISINGSUN_357
	picture = GFX_evt_upsetting_letter
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				has_character_flag = great_poem
				has_character_flag = good_poem
				has_character_flag = accpetable_poem
			}
		}
		name = EVTOPTA_RISINGSUN_357 # I still did decently well
		
		prestige = 10
		
		if = {
			limit = {
				NOT = {
					trait = poet
				}
			}
			random = {
				chance = 10
				add_trait = poet
			}
		}
	}
	
	option = {
		trigger = {
			NOR = {
				has_character_flag = great_poem
				has_character_flag = good_poem
				has_character_flag = accpetable_poem
			}
		}
		name = EVTOPTB_RISINGSUN_357 # It wasn't even close...
		
		prestige = -10
	}
}

# Clear flags
character_event = {
	id = risingsun.358
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = poetry_contest
		clr_character_flag = flattering_poem
		clr_character_flag = cruel_poem
		clr_character_flag = slanderous_poem
		clr_character_flag = deceptive_poem
		clr_character_flag = flirtatious_poem
		clr_character_flag = warfare_poem
		clr_character_flag = nature_poem
		clr_character_flag = religious_poem
		clr_character_flag = pcs_poem
		clr_character_flag = my_poem_is_flattering
		clr_character_flag = my_poem_is_cruel
		clr_character_flag = my_poem_is_slanderous
		clr_character_flag = my_poem_is_deceptive
		clr_character_flag = my_poem_is_flirtatious
		clr_character_flag = my_poem_is_warfare
		clr_character_flag = my_poem_is_nature
		clr_character_flag = my_poem_is_religious
		clr_character_flag = my_poem_is_pcs
	}
}

### Becoming friend/rival/lover with random members is handled using the shared events, so no need for separate ones here

### Lose problem traits/gain good traits

# Lose T1 non-martial education?
character_event = {
	id = risingsun.359
	desc = EVTDESC_RISINGSUN_359
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	has_dlc = "Holy Fury"
	is_in_society = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		OR = {
			trait = naive_appeaser
			trait = indulgent_wastrel
			trait = amateurish_plotter
			trait = detached_priest
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_359 # Sounds great!
		
		if = {
			limit = {
				trait = naive_appeaser
			}
		}
		else_if = {
			limit = {
				trait = indulgent_wastrel
			}
		}
		else_if = {
			limit = {
				trait = amateurish_plotter
			}
		}
		else_if = {
			limit = {
				trait = detached_priest
			}
		}
		
		add_trait = misguided_warrior
		
		ai_chance = {
			factor = 90
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_359 # I think not...
		
		ai_chance = {
			factor = 10
		}
	}
}

# Become stronger
character_event = {
	id = risingsun.360
	desc = EVTDESC_RISINGSUN_360
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = weak
		}
		NOT = {
			is_strong_trigger = yes
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_360 # I am stronger now!
		
		if = {
			limit = {
				trait = feeble
			}
			remove_trait = feeble
		}
		else = {
			add_trait = robust
		}
	}
}

# Become more diligent
character_event = {
	id = risingsun.361
	desc = EVTDESC_RISINGSUN_361
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = diligent
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_361 # I am more diligent now!
		
		if = {
			limit = {
				trait = slothful
			}
			remove_trait = slothful
		}
		else = {
			add_trait = diligent
		}
	}
}

# Become more patient
character_event = {
	id = risingsun.362
	desc = EVTDESC_RISINGSUN_362
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = patient
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_362 # I am more patient now!
		
		if = {
			limit = {
				trait = wroth
			}
			remove_trait = wroth
		}
		else = {
			add_trait = patient
		}
	}
}

# Become more humble
character_event = {
	id = risingsun.363
	desc = EVTDESC_RISINGSUN_363
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = humble
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_363 # I am more humble now!
		
		if = {
			limit = {
				trait = proud
			}
			remove_trait = proud
		}
		else = {
			add_trait = humble
		}
	}
}

# Become more proud
character_event = {
	id = risingsun.364
	desc = EVTDESC_RISINGSUN_364
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = proud
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_364 # I have the right to be proud!
		
		if = {
			limit = {
				trait = humble
			}
			remove_trait = humble
		}
		else = {
			add_trait = proud
		}
	}
}

# Become more ambitious
character_event = {
	id = risingsun.365
	desc = EVTDESC_RISINGSUN_365
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = ambitious
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_365 # I am less content now!
		
		if = {
			limit = {
				trait = content
			}
			remove_trait = content
		}
		else = {
			add_trait = ambitious
		}
	}
}

# Become braver
character_event = {
	id = risingsun.366
	desc = EVTDESC_RISINGSUN_366
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = brave
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_366 # I am braver now!
		
		if = {
			limit = {
				trait = craven
			}
			remove_trait = craven
		}
		else = {
			add_trait = brave
		}
	}
}

# Become more honest
character_event = {
	id = risingsun.367
	desc = EVTDESC_RISINGSUN_367
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = honest
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_367 # I am more honest now!
		
		if = {
			limit = {
				trait = deceitful
			}
			remove_trait = deceitful
		}
		else = {
			add_trait = honest
		}
	}
}

# Become more just
character_event = {
	id = risingsun.368
	desc = EVTDESC_RISINGSUN_368
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = just
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_368 # I am more just now!
		
		if = {
			limit = {
				trait = arbitrary
			}
			remove_trait = arbitrary
		}
		else = {
			add_trait = just
		}
	}
}

# Become more paranoid
character_event = {
	id = risingsun.369
	desc = EVTDESC_RISINGSUN_369
	picture = GFX_evt_shadow
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = paranoid
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_369 # I must watch for dishonesty!
		
		if = {
			limit = {
				trait = trusting
			}
			remove_trait = trusting
		}
		else = {
			add_trait = paranoid
		}
	}
}

### Discredit rival

# See an opportunity to discredit a rival (preferably a WotRS member) as far as another member goes - act on it
character_event = {
	id = risingsun.370
	desc = EVTDESC_RISINGSUN_370
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	has_dlc = "Holy Fury"
	is_in_society = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		any_society_member = {
			NOT = {
				character = ROOT
			}
			has_actual_regency_trigger = no
			NOR = {
				any_rival = {
					character = ROOT
				}
				any_friend = {
					character = ROOT
				}
				any_lover = {
					character = ROOT
				}
			}
			ROOT = {
				any_rival = {
					NOR = {
						any_rival = {
							character = PREVPREV
						}
						any_friend = {
							character = PREVPREV
						}
						any_lover = {
							character = PREVPREV
						}
					}
				}
			}
		}
	}
	
	immediate = {
		random_rival = {
			preferred_limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			save_event_target_as = rival_to_discredit
		}
		random_society_member = {
			limit = {
				NOT = {
					character = ROOT
				}
				has_actual_regency_trigger = no
				NOR = {
					any_rival = {
						character = ROOT
					}
					any_friend = {
						character = ROOT
					}
					any_lover = {
						character = ROOT
					}
				}
				event_target:rival_to_discredit = {
					NOR = {
						any_rival = {
							character = PREV
						}
						any_friend = {
							character = PREV
						}
						any_lover = {
							character = PREV
						}
					}
				}
			}
			save_event_target_as = member_to_discredit_rival_to
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_370 # Attempt to discredit them
		
		change_society_currency = -25
		
		random_list = {
			1 = {
				modifier = {
					factor = 2
					society_rank == 4
				}
				modifier = {
					factor = 2
					society_rank >= 3
				}
				modifier = {
					factor = 2
					society_rank >= 2
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				event_target:member_to_discredit_rival_to = {
					character_event = { id = risingsun.371 days = 1 } # Critical success
				}
			}
			29 = {
				modifier = {
					factor = 2
					society_rank == 4
				}
				modifier = {
					factor = 2
					society_rank >= 3
				}
				modifier = {
					factor = 2
					society_rank >= 2
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				event_target:member_to_discredit_rival_to = {
					character_event = { id = risingsun.374 days = 1 } # Success
				}
			}
			40 = {
				event_target:member_to_discredit_rival_to = {
					character_event = { id = risingsun.377 days = 1 } # Nothing happens
				}
			}
			29 = {
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						society_member_of = warriors_of_the_rising_sun
						society_rank == 4
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						society_member_of = warriors_of_the_rising_sun
						society_rank >= 3
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						society_member_of = warriors_of_the_rising_sun
						society_rank >= 2
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						diplomacy = 20
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						diplomacy = 16
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						intrigue = 20
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						intrigue = 16
					}
				}
				event_target:member_to_discredit_rival_to = {
					character_event = { id = risingsun.379 days = 1 } # Failure
				}
			}
			1 = {
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						society_member_of = warriors_of_the_rising_sun
						society_rank == 4
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						society_member_of = warriors_of_the_rising_sun
						society_rank >= 3
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						society_member_of = warriors_of_the_rising_sun
						society_rank >= 2
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						diplomacy = 20
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						diplomacy = 16
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						intrigue = 20
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						intrigue = 16
					}
				}
				event_target:member_to_discredit_rival_to = {
					character_event = { id = risingsun.382 days = 1 } # Critical failure
				}
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = ambitious
			}
			modifier = {
				factor = 10
				trait = cruel
			}
			modifier = {
				factor = 10
				trait = wroth
			}
			modifier = {
				factor = 10
				trait = deceitful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_370 # Do nothing
		
		change_society_currency = 50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = kind
			}
			modifier = {
				factor = 10
				trait = honest
			}
			modifier = {
				factor = 10
				trait = just
			}
			modifier = {
				factor = 10
				trait = content
			}
		}
	}
}

# Critical success - the other member rivals your rival and befriends you
character_event = {
	id = risingsun.371
	desc = EVTDESC_RISINGSUN_371
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_371 # I will help you against them!
		
		event_target:rival_to_discredit = {
			add_rival = ROOT
			character_event = { id = risingsun.372 }
		}
		add_friend = FROM
		FROM = {
			character_event = { id = risingsun.373 }
		}
	}
}

# Inform rival - new rival due to FROMFROM
character_event = {
	id = risingsun.372
	desc = EVTDESC_RISINGSUN_372
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_372 # Curses!
		
		prestige = -50
		
		add_rival = FROM
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			change_society_currency = -100
		}
	}
}

# Inform the original character - new friend
character_event = {
	id = risingsun.373
	desc = EVTDESC_RISINGSUN_373
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_373 # Excellent!
		
		add_friend = FROM
		
		change_society_currency = 100
	}
}

# Success - the other member's opinion of the target drops
character_event = {
	id = risingsun.374
	desc = EVTDESC_RISINGSUN_374
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_374 # They do sound dishonest...
		
		event_target:rival_to_discredit = {
			reverse_opinion = {
				who = ROOT
				modifier = opinion_dislike
			}
			character_event = { id = risingsun.375 }
		}
		FROM = {
			character_event = { id = risingsun.376 }
		}
	}
}

# Inform rival - someone likes you less due to FROMFROM
character_event = {
	id = risingsun.375
	desc = EVTDESC_RISINGSUN_375
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_375 # I see...
		
		prestige = -25
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			change_society_currency = -50
		}
	}
}

# Inform original character - you partially succeeded
character_event = {
	id = risingsun.376
	desc = EVTDESC_RISINGSUN_376
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_376 # I see...
		
		prestige = 25
		change_society_currency = 50
	}
}

# Average - nothing happens
character_event = {
	id = risingsun.377
	desc = EVTDESC_RISINGSUN_377
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_377 # I don't know...
		
		FROM = {
			character_event = { id = risingsun.378 }
		}
	}
}

# Inform original character - nothing noteworthy happened
character_event = {
	id = risingsun.378
	desc = EVTDESC_RISINGSUN_378
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_378 # I see...
	}
}

# Failure - the other member's opinion of you drops
character_event = {
	id = risingsun.379
	desc = EVTDESC_RISINGSUN_379
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_379 # You sound dishonest...
		
		event_target:rival_to_discredit = {
			character_event = { id = risingsun.380 }
		}
		FROM = {
			reverse_opinion = {
				who = ROOT
				modifier = opinion_dislike
			}
			character_event = { id = risingsun.381 }
		}
	}
}

# Inform rival - FROMFROM attempted to discredit you but failed
character_event = {
	id = risingsun.380
	desc = EVTDESC_RISINGSUN_380
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_380 # I see...
		
		prestige = 25
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			change_society_currency = 50
		}
	}
}

# Inform original character - you partially failed
character_event = {
	id = risingsun.381
	desc = EVTDESC_RISINGSUN_381
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_381 # I see...
		
		prestige = -25
		change_society_currency = -50
	}
}

# Critical failure - the other member befriends your rival and rivals you
character_event = {
	id = risingsun.382
	desc = EVTDESC_RISINGSUN_382
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_382 # I will help them against you!
		
		event_target:rival_to_discredit = {
			add_friend = ROOT
			character_event = { id = risingsun.383 }
		}
		add_rival = FROM
		FROM = {
			character_event = { id = risingsun.384 }
		}
	}
}

# Inform rival - new friend due to FROMFROM
character_event = {
	id = risingsun.383
	desc = EVTDESC_RISINGSUN_383
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_383 # Excellent!
		
		prestige = 50
		
		add_friend = FROM
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			change_society_currency = 100
		}
	}
}

# Inform the original character - new rival
character_event = {
	id = risingsun.384
	desc = EVTDESC_RISINGSUN_384
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_384 # Curses!
		
		prestige = -50
		
		add_rival = FROM
		
		if = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
			}
			change_society_currency = -100
		}
	}
}

### Strategy discussion

# Had a strategy discussion with other members - gain Martial if < 15 + education trait, otherwise prestige
character_event = {
	id = risingsun.385
	desc = EVTDESC_RISINGSUN_385
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	has_dlc = "Holy Fury"
	is_in_society = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
	}
	
	option = {
		trigger = {
			OR = {
				NOT = {
					martial = 10
				}
				AND = {
					trait = misguided_warrior
					NOT = {
						martial = 18
					}
				}
				AND = {
					trait = tough_soldier
					NOT = {
						martial = 21
					}
				}
				AND = {
					trait = skilled_tactician
					NOT = {
						martial = 24
					}
				}
				AND = {
					trait = brilliant_strategist
					NOT = {
						martial = 27
					}
				}
			}
		}
		
		name = EVTOPTA_RISINGSUN_385 # I learned some useful tricks!
		
		change_society_currency = 25
		change_martial = 1
	}
	
	option = {
		trigger = {
			OR = {
				martial = 10
				AND = {
					trait = misguided_warrior
					martial = 18
				}
				AND = {
					trait = tough_soldier
					martial = 21
				}
				AND = {
					trait = skilled_tactician
					martial = 24
				}
				AND = {
					trait = brilliant_strategist
					martial = 27
				}
			}
		}
		
		name = EVTOPTB_RISINGSUN_385 # People appreciated my input!
		
		change_society_currency = 25
		prestige = 25
	}
}

# 386 isn't a real number!

### Military advances discussion

# Discussed military advances and learned a few things
character_event = {
	id = risingsun.387
	desc = EVTDESC_RISINGSUN_387
	picture = GFX_evt_china_invades
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	has_dlc = "Holy Fury"
	is_in_society = yes
	
	trigger = {
		society_member_of = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_387 # I gained some valuable insights
		
		military_techpoints = 15
	}
}

##### The Very Best

### Start and travel progress

# Check how far we've progressed - six + one victories are needed
character_event = {
	id = risingsun.388
	hide_window = yes
	
	is_triggered_only = yes
	
	has_dlc = "Holy Fury"
	is_in_society = yes
	
	immediate = {
		if = {
			limit = {
				is_inaccessible_or_incapable_trigger = no
				is_landed = yes
				war = no
				NOT = {
					trait = treasure_fleet_preparation
				}
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = rising_sun_challenges_completed
							value = 6
						}
					}
				}
				random_society_member = {
					limit = {
						OR = {
							AND = {
								is_society_grandmaster = yes
								NOT = {
									character = ROOT
								}
							}
							AND = {
								society_rank == 3
								ROOT = {
									is_society_grandmaster = yes
								}
							}
						}
						same_society_as = ROOT
					}
					preferred_limit = {
						NOT = {
							any_rival = {
								character = ROOT
							}
						}
					}
					save_event_target_as = rising_sun_leader
				}
				random_list = {
					1 = {
						modifier = {
							factor = 0
							has_character_flag = defeated_the_sword_of_the_shifting_sands
						}
						set_character_flag = rising_sun_sword_of_the_shifting_sands
					}
					1 = {
						modifier = {
							factor = 0
							has_character_flag = defeated_the_sword_of_christ
						}
						set_character_flag = rising_sun_sword_of_christ
					}
					1 = {
						modifier = {
							factor = 0
							has_character_flag = defeated_the_sword_of_winter
						}
						set_character_flag = rising_sun_sword_of_winter
					}
					1 = {
						modifier = {
							factor = 0
							has_character_flag = defeated_the_sword_of_the_steppes
						}
						set_character_flag = rising_sun_sword_of_the_steppes
					}
					1 = {
						modifier = {
							factor = 0
							has_character_flag = defeated_the_sword_of_the_dragon
						}
						set_character_flag = rising_sun_sword_of_the_dragon
					}
					1 = {
						modifier = {
							factor = 0
							has_character_flag = defeated_the_sword_of_serpents
						}
						set_character_flag = rising_sun_sword_of_serpents
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.389 } # Ping
				}
			}
			else = {
				narrative_event = { id = risingsun.629 }
			}
		}
		else = {
			repeat_event = { id = risingsun.388 days = 180 random = 180 } # Try again later
		}
	}
}

# Ping the quest giver
character_event = {
	id = risingsun.389
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.390 } # Send the actual event
		}
	}
}

# You hear of a great swords(wo)man in a (hopefully) faraway land - prepare for a journey!
society_quest_event = {
	id = risingsun.390
	desc = EVTDESC_RISINGSUN_390
	is_in_society = yes
	only_capable = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_390 # Time to leave, then!
		
		log = "[Root.GetBestName] is going off to face one of the Six!"
		
		add_trait = travelling
		set_character_flag = do_not_disturb
		
		hidden_tooltip = {
			set_variable = {
				which = wotrs_travel_progress
				value = 0
			}
			if = {
				limit = {
					has_character_flag = rising_sun_sword_of_the_shifting_sands
				}
				914 = {
					save_event_target_as = champion_province
				}
			}
			else_if = {
				limit = {
					has_character_flag = rising_sun_sword_of_christ
				}
				328 = {
					save_event_target_as = champion_province
				}
			}
			else_if = {
				limit = {
					has_character_flag = rising_sun_sword_of_winter
				}
				287 = {
					save_event_target_as = champion_province
				}
			}
			else_if = {
				limit = {
					has_character_flag = rising_sun_sword_of_the_steppes
				}
				1457 = {
					save_event_target_as = champion_province
				}
			}
			else_if = {
				limit = {
					has_character_flag = rising_sun_sword_of_the_dragon
				}
				2882 = {
					save_event_target_as = champion_province
				}
			}
			else_if = {
				limit = {
					has_character_flag = rising_sun_sword_of_serpents
				}
				1365 = {
					save_event_target_as = target_province
				}
			}
			if = {
				limit = {
					NOT = {
						capital_scope = {
							distance = {
								where = event_target:champion_province
								value = 150
							}
						}
					}
				}
				set_variable = {
					which = wotrs_travel_distance
					value = 1
				}
			}
			else_if = {
				limit = {
					NOT = {
						capital_scope = {
							distance = {
								where = event_target:champion_province
								value = 300
							}
						}
					}
				}
				set_variable = {
					which = wotrs_travel_distance
					value = 2
				}
			}
			else_if = {
				limit = {
					NOT = {
						capital_scope = {
							distance = {
								where = event_target:champion_province
								value = 450
							}
						}
					}
				}
				set_variable = {
					which = wotrs_travel_distance
					value = 3
				}
			}
			else_if = {
				limit = {
					NOT = {
						capital_scope = {
							distance = {
								where = event_target:champion_province
								value = 600
							}
						}
					}
				}
				set_variable = {
					which = wotrs_travel_distance
					value = 4
				}
			}
			else_if = {
				limit = {
					NOT = {
						capital_scope = {
							distance = {
								where = event_target:champion_province
								value = 750
							}
						}
					}
				}
				set_variable = {
					which = wotrs_travel_distance
					value = 5
				}
			}
			else_if = {
				limit = {
					NOT = {
						capital_scope = {
							distance = {
								where = event_target:champion_province
								value = 900
							}
						}
					}
				}
				set_variable = {
					which = wotrs_travel_distance
					value = 6
				}
			}
			else_if = {
				limit = {
					NOT = {
						capital_scope = {
							distance = {
								where = event_target:champion_province
								value = 1050
							}
						}
					}
				}
				set_variable = {
					which = wotrs_travel_distance
					value = 7
				}
			}
			else_if = {
				limit = {
					NOT = {
						capital_scope = {
							distance = {
								where = event_target:champion_province
								value = 1200
							}
						}
					}
				}
				set_variable = {
					which = wotrs_travel_distance
					value = 8
				}
			}
			else_if = {
				limit = {
					NOT = {
						capital_scope = {
							distance = {
								where = event_target:champion_province
								value = 1350
							}
						}
					}
				}
				set_variable = {
					which = wotrs_travel_distance
					value = 9
				}
			}
			else = {
				set_variable = {
					which = wotrs_travel_distance
					value = 10
				}
			}
			character_event = { id = risingsun.391 days = 60 random = 30 } # Travel event selection
		}
	}
}

# Travel progress and event selection
character_event = {
	id = risingsun.391
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_incapable = no
				is_landed = yes
			}
			if = {
				limit = {
					is_variable_equal = {
						which = wotrs_travel_progress
						which = wotrs_travel_distance
					}
				}
				if = {
					limit = {
						has_character_flag = rising_sun_sword_of_the_shifting_sands
					}
					narrative_event = { id = risingsun.520 }
				}
				else_if = {
					limit = {
						has_character_flag = rising_sun_sword_of_christ
					}
					narrative_event = { id = risingsun.553 }
				}
				else_if = {
					limit = {
						has_character_flag = rising_sun_sword_of_winter
					}
					narrative_event = { id = risingsun.574 }
				}
				else_if = {
					limit = {
						has_character_flag = rising_sun_sword_of_the_steppes
					}
					narrative_event = { id = risingsun.587 }
				}
				else_if = {
					limit = {
						has_character_flag = rising_sun_sword_of_the_dragon
					}
					narrative_event = { id = risingsun.595 }
				}
				else_if = {
					limit = {
						has_character_flag = rising_sun_sword_of_serpents
					}
					narrative_event = { id = risingsun.611 }
				}
			}
			else = {
				change_variable = {
					which = wotrs_travel_progress
					value = 1
				}
				random_list = {
					2 = {
						character_event = { id = risingsun.392 } # Foreign commoner insults you
					}
					2 = {
						character_event = { id = risingsun.399 } # You come across people bathing
					}
					2 = {
						modifier = {
							factor = 0
							NOT = {
								any_independent_ruler = {
									any_realm_province = {
										NOT = {
											distance = {
												where = event_target:champion_province
												value = 500
											}
										}
										NOT = {
											religion_group = ROOT
										}
									}
								}
							}
						}
						character_event = { id = risingsun.409 } # Preacher
					}
					2 = {
						character_event = { id = risingsun.410 } # Low food
					}
					2 = {
						character_event = { id = risingsun.411 } # Difficult trek
					}
					2 = {
						character_event = { id = risingsun.412 } # Bandit ambush
					}
					2 = {
						character_event = { id = risingsun.421 } # Peasant children
					}
					2 = {
						character_event = { id = risingsun.426 } # Archery contest
					}
					2 = {
						character_event = { id = risingsun.431 } # Local cuisine
					}
					2 = {
						character_event = { id = risingsun.434 } # Challenged by youngling
					}
					2 = {
						character_event = { id = risingsun.436 } # Horse loses shoe
					}
					2 = {
						character_event = { id = risingsun.437 } # Local military technology
					}
					2 = {
						character_event = { id = risingsun.438 } # Asked to serve as a judge
					}
					2 = {
						modifier = {
							factor = 0 # Only if you have the proper DLC!
							NOR = {
								has_dlc = "Mystics"
								has_dlc = "Jade Dragon"
							}
						}
						character_event = { id = risingsun.461 } # Buy artifact?
					}
					2 = {
						character_event = { id = risingsun.463 } # Tips from a local warrior
					}
					2 = {
						modifier = {
							factor = 0
							trait = pneumonic
						}
						character_event = { id = risingsun.464 } # Rain
					}
					2 = {
						character_event = { id = risingsun.467 } # Rock slide
					}
					2 = {
						modifier = {
							factor = 0
							has_character_flag = wotrs_adventuring_party
						}
						modifier = {
							factor = 10
							has_character_flag = wotrs_black_riders
						}
						modifier = {
							factor = 0
							has_game_rule = {
								name = supernatural_events
								value = off
							}
						}
						character_event = { id = risingsun.470 } # Adventuring party
					}
					2 = {
						character_event = { id = risingsun.471 } # Shadowy figure
					}
					2 = {
						character_event = { id = risingsun.472 } # Hard to stay clean
					}
					2 = {
						character_event = { id = risingsun.473 } # Poetry
					}
					2 = {
						character_event = { id = risingsun.476 } # Become more ambitious
					}
					2 = {
						character_event = { id = risingsun.477 } # Become more content
					}
					2 = {
						modifier = {
							factor = 0
							NOT = {
								check_variable = {
									which = wotrs_travel_progress
									value = 3
								}
							}
						}
						modifier = {
							factor = 0.1
							NOT = {
								check_variable = {
									which = wotrs_travel_progress
									value = 5
								}
							}
						}
						modifier = {
							factor = 2
							check_variable = {
								which = wotrs_travel_progress
								value = 7
							}
						}
						character_event = { id = risingsun.478 } # Are we there yet?
					}
					2 = {
						character_event = { id = risingsun.479 } # Become more slothful
					}
					2 = {
						character_event = { id = risingsun.480 } # Gregarious
					}
					2 = {
						character_event = { id = risingsun.481 } # Just
					}
					2 = {
						character_event = { id = risingsun.482 } # Arbitrary
					}
					2 = {
						character_event = { id = risingsun.483 } # Local festival
					}
					2 = {
						modifier = {
							factor = 0
							has_game_rule = {
								name = supernatural_events
								value = off
							}
						}
						character_event = { id = risingsun.484 } # Eastern dragon
					}
					2 = {
						modifier = {
							factor = 0
							has_game_rule = {
								name = supernatural_events
								value = off
							}
						}
						character_event = { id = risingsun.485 } # Western dragon
					}
					2 = {
						modifier = {
							factor = 0
							has_character_flag = wotrs_black_riders
						}
						modifier = {
							factor = 10
							has_character_flag = wotrs_adventuring_party
						}
						modifier = {
							factor = 0
							has_game_rule = {
								name = supernatural_events
								value = off
							}
						}
						modifier = {
							factor = 10
							has_artifact = the_plus_one_ring
						}
						character_event = { id = risingsun.486 } # Black Riders
					}
					2 = {
						character_event = { id = risingsun.487 } # Prophet
					}
					2 = {
						modifier = {
							factor = 0
							controls_religion = yes
						}
						character_event = { id = risingsun.488 } # Become Shinto?
					}
					2 = {
						modifier = {
							factor = 0
							controls_religion = yes
						}
						character_event = { id = risingsun.489 } # Become Buddhist?
					}
					2 = {
						character_event = { id = risingsun.490 } # Become Jaapnese?
					}
					2 = {
						character_event = { id = risingsun.491 } # Become more Zealous
					}
					2 = {
						modifier = {
							factor = 0
							NOT = {
								trait = depressed
							}
						}
						character_event = { id = risingsun.492 } # Lose Depressed
					}
					2 = {
						character_event = { id = risingsun.493 } # Scholar
					}
					2 = {
						character_event = { id = risingsun.494 } # Shortcut didn't pan out
					}
					2 = {
						modifier = { # We don't want to overshoot...
							factor = 0
							is_variable_equal = {
								which = wotrs_travel_progress
								which = wotrs_travel_distance
							}
						}
						character_event = { id = risingsun.495 } # Found a shortcut
					}
					2 = {
						character_event = { id = risingsun.496 } # Cultists
					}
					2 = {
						character_event = { id = risingsun.504 } # Sword in the Stone
					}
					2 = {
						character_event = { id = risingsun.507 } # Stone circle
					}
					2 = {
						character_event = { id = risingsun.510 } # Bandit chief
					}
					2 = {
						character_event = { id = risingsun.517 } # Carvings
					}
					2 = {
						character_event = { id = risingsun.518 } # Less Greedy
					}
					2 = {
						modifier = {
							factor = 0
							NOT = {
								trait = stressed
							}
						}
						character_event = { id = risingsun.519 } # Lose Stressed
					}
					2 = {
						repeat_event = { id = risingsun.391 days = 60 random = 60 } # No event
					}
				}
			}
		}
		else = {
			repeat_event = { id = risingsun.391 days = 180 random = 180 } # Try again later
		}
	}
}

##### Shared travel events

### Foreign commoner insults you - cut them down?

# You are insulted by a foreign commoner - cut them down?
character_event = {
	id = risingsun.392
	desc = EVTDESC_RISINGSUN_392
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_392 # Just ignore him
		
		prestige = -25
		change_society_currency = -25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = proud
				NOT = {
					trait = kind
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_392 # Cut him down!
		
		prestige = 25
		change_society_currency = 25
		
		if = {
			limit = {
				trait = humble
			}
			random = {
				chance = 50
				remove_trait = humble
			}
		}
		if = {
			limit = {
				trait = kind
			}
			remove_trait = kind
		}
		if = {
			limit = {
				trait = patient
			}
			random = {
				chance = 50
				remove_trait = patient
			}
		}
		
		random_list = {
			50 = {
				character_event = { id = risingsun.393 days = 1 }
			}
			50 = {
				character_event = { id = risingsun.394 days = 1 }
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
				NOR = {
					trait = wroth
					trait = cruel
				}
			}
		}
	}
}

# Cut them down - you're asked to leave
character_event = {
	id = risingsun.393
	desc = EVTDESC_RISINGSUN_393
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_393 # Fine!
		
		prestige = -25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Cut them down - guards arrive
character_event = {
	id = risingsun.394
	desc = EVTDESC_RISINGSUN_394
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			wealth = 100
		}
		name = EVTOPTA_RISINGSUN_394 # I'll pay your fine!
		
		wealth = -100
		prestige = -25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 10
				trait = just
			}
			modifier = {
				factor = 0
				trait = arbitrary
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_394 # You defend him? DIE!
		
		random_list = {
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						combat_rating = 40
					}
				}
				character_event = { id = risingsun.395 days = 1 } # Fight goes well
			}
			25 = {
				modifier = {
					factor = 0.1
					combat_rating = 40
				}
				character_event = { id = risingsun.396 days = 1 } # Wounded
			}
			24 = {
				modifier = {
					factor = 0
					combat_rating = 40
				}
				character_event = { id = risingsun.397 days = 1 } # Maimed
			}
			1 = {
				modifier = {
					factor = 0
					combat_rating = 20
				}
				character_event = { id = risingsun.398 days = 1 } # Killed
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_394 # Time to flee!
		
		change_society_currency = -50
		prestige = -50
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		random = {
			chance = 15
			add_trait = wounded
		}
		
		if = {
			limit = {
				trait = brave
			}
			remove_trait = brave
		}
		else = {
			random = {
				chance = 25
				add_trait = craven
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = brave
			}
		}
	}
}

# Fight against guards goes well
character_event = {
	id = risingsun.395
	desc = EVTDESC_RISINGSUN_395
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_395 # Rabble!
		
		prestige = 25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Wounded fighting guards
character_event = {
	id = risingsun.396
	desc = EVTDESC_RISINGSUN_396
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_396 # That went well enough...
		
		prestige = 5
		add_trait = wounded
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Maimed fighting guards
character_event = {
	id = risingsun.397
	desc = EVTDESC_RISINGSUN_397
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_397 # They actually hurt me!
		
		prestige = -25
		add_maimed_trait_effect = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Killed fighting guards
character_event = {
	id = risingsun.398
	desc = EVTDESC_RISINGSUN_398
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_398 # This cannot be!
		
		prestige = -50
		
		death = {
			death_reason = death_rabble
		}
	}
}

### Come across attractive foreigners of your preferred sex taking a bath - could possibly gain lovers

# Walk through a forest hearing people out of sight - investigate?
character_event = {
	id = risingsun.399
	desc = EVTDESC_RISINGSUN_399
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_399 # I must investigate!
		
		character_event = { id = risingsun.400 days = 1 } # Direct approach
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				trait = paranoid
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_399 # I must investigate... discreetly!
		
		change_society_currency = -5
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						intrigue = 8
					}
				}
				character_event = { id = risingsun.401 days = 1 } # Sneaking goes well
			}
			50 = {
				modifier = {
					factor = 0
					intrigue = 20
				}
				character_event = { id = risingsun.402 days = 1 } # Sneaking goes poorly
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = brave
			}
		}
	}
	
	
	option = {
		name = EVTOPTC_RISINGSUN_399 # This is a waste of time...
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 0
		}
	}
}

# Investigate - direct approach
character_event = {
	id = risingsun.400
	desc = EVTDESC_RISINGSUN_400
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_400 # I'll be leaving now!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				NOT = {
					trait = shy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_400 # May I join you?
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					is_unattractive_trigger = yes
				}
				modifier = {
					factor = 2
					trait = gregarious
				}
				modifier = {
					factor = 2
					diplomacy = 12
				}
				modifier = {
					factor = 2
					is_smart_trigger = yes
				}
				character_event = { id = risingsun.405 days = 1 } # Positive reply
			}
			50 = {
				modifier = {
					factor = 0
					is_attractive_trigger = yes
				}
				modifier = {
					factor = 2
					trait = shy
				}
				modifier = {
					factor = 2
					trait = stutter
				}
				modifier = {
					factor = 2
					trait = lisp
				}
				modifier = {
					factor = 2
					is_dumb_trigger = yes
				}
				character_event = { id = risingsun.404 days = 1 } # Negative reply
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Successful sneaking
character_event = {
	id = risingsun.401
	desc = EVTDESC_RISINGSUN_401
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_401 # Well, I'll just leave now...
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				NOT = {
					trait = shy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_401 # Approach them
		
		character_event = { id = risingsun.403 days = 1 } # Make your presence known
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Got caught sneaking
character_event = {
	id = risingsun.402
	desc = EVTDESC_RISINGSUN_402
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_402 # I'll be leaving now!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				NOT = {
					trait = shy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_402 # May I join you?
		
		random_list = {
			25 = {
				modifier = {
					factor = 0
					is_unattractive_trigger = yes
				}
				modifier = {
					factor = 2
					trait = gregarious
				}
				modifier = {
					factor = 2
					diplomacy = 12
				}
				modifier = {
					factor = 2
					is_smart_trigger = yes
				}
				character_event = { id = risingsun.405 days = 1 } # Positive reply
			}
			75 = {
				modifier = {
					factor = 0
					is_attractive_trigger = yes
				}
				modifier = {
					factor = 2
					trait = shy
				}
				modifier = {
					factor = 2
					trait = stutter
				}
				modifier = {
					factor = 2
					trait = lisp
				}
				modifier = {
					factor = 2
					is_dumb_trigger = yes
				}
				character_event = { id = risingsun.404 days = 1 } # Negative reply
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Made your presence known sneaking
character_event = {
	id = risingsun.403
	desc = EVTDESC_RISINGSUN_403
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_403 # May I join you?
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					is_unattractive_trigger = yes
				}
				modifier = {
					factor = 2
					trait = gregarious
				}
				modifier = {
					factor = 2
					diplomacy = 12
				}
				modifier = {
					factor = 2
					is_smart_trigger = yes
				}
				character_event = { id = risingsun.405 days = 1 } # Positive reply
			}
			50 = {
				modifier = {
					factor = 0
					is_attractive_trigger = yes
				}
				modifier = {
					factor = 2
					trait = shy
				}
				modifier = {
					factor = 2
					trait = stutter
				}
				modifier = {
					factor = 2
					trait = lisp
				}
				modifier = {
					factor = 2
					is_dumb_trigger = yes
				}
				character_event = { id = risingsun.404 days = 1 } # Negative reply
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Told to go away
character_event = {
	id = risingsun.404
	desc = EVTDESC_RISINGSUN_404
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_404 # Fine!
		
		prestige = -10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Invited to join the bathers
character_event = {
	id = risingsun.405
	desc = EVTDESC_RISINGSUN_405
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_405 # Just enjoy the bath
		
		piety = 25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_405 # Try to tumble them!
		
		piety = -25
		
		random_list = {
			34 = {
				modifier = {
					factor = 2
					trait = gregarious
				}
				modifier = {
					factor = 2
					diplomacy = 12
				}
				modifier = {
					factor = 2
					is_smart_trigger = yes
				}
				modifier = {
					factor = 5
					trait = seducer
				}
				modifier = {
					factor = 5
					trait = seductress
				}
				character_event = { id = risingsun.406 days = 1 } # Success
			}
			33 = {
				character_event = { id = risingsun.407 days = 1 } # Partial success
			}
			33 = {
				modifier = {
					factor = 0
					is_attractive_trigger = yes
				}
				modifier = {
					factor = 2
					trait = shy
				}
				modifier = {
					factor = 2
					trait = stutter
				}
				modifier = {
					factor = 2
					trait = lisp
				}
				modifier = {
					factor = 2
					is_dumb_trigger = yes
				}
				character_event = { id = risingsun.408 days = 1 } # Failure
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
}

# Attempted tumble - success
character_event = {
	id = risingsun.406
	desc = EVTDESC_RISINGSUN_406
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random_province = {
			limit = {
				has_owner = yes
				NOT = {
					distance = {
						where = event_target:champion_province
						value = 500
					}
				}
			}
			save_event_target_as = lover_province
		}
		if = {
			limit = {
				is_female = no
				NOT = {
					trait = homosexual
				}
			}
			create_character = {
				age = 16
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_1
			}
			create_character = {
				age = 17
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_2
			}
			create_character = {
				age = 18
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_3
			}
			create_character = {
				age = 19
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_4
			}
			create_character = {
				age = 20
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_5
			}
		}
		else_if = {
			limit = {
				is_female = no
				trait = homosexual
			}
			create_character = {
				age = 16
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				save_event_target_as = wotrs_lover_1
			}
			create_character = {
				age = 17
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				save_event_target_as = wotrs_lover_2
			}
			create_character = {
				age = 18
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				save_event_target_as = wotrs_lover_3
			}
			create_character = {
				age = 19
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				save_event_target_as = wotrs_lover_4
			}
			create_character = {
				age = 20
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				save_event_target_as = wotrs_lover_5
			}
		}
		else_if = {
			limit = {
				is_female = yes
				NOT = {
					trait = homosexual
				}
			}
			create_character = {
				age = 16
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_1
			}
			create_character = {
				age = 17
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_2
			}
			create_character = {
				age = 18
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_3
			}
			create_character = {
				age = 19
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_4
			}
			create_character = {
				age = 20
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_5
			}
		}
		else_if = {
			limit = {
				is_female = yes
				trait = homosexual
			}
			create_character = {
				age = 16
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				save_event_target_as = wotrs_lover_1
			}
			create_character = {
				age = 17
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				save_event_target_as = wotrs_lover_2
			}
			create_character = {
				age = 18
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_3
			}
			create_character = {
				age = 19
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				save_event_target_as = wotrs_lover_4
			}
			create_character = {
				age = 20
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				save_event_target_as = wotrs_lover_5
			}
		}
		event_target:wotrs_lover_1 = {
			add_friend = event_target:wotrs_lover_2
			add_friend = event_target:wotrs_lover_3
			add_friend = event_target:wotrs_lover_4
			add_friend = event_target:wotrs_lover_5
			if = {
				limit = {
					trait = homosexual
				}
				add_lover = event_target:wotrs_lover_2
				add_lover = event_target:wotrs_lover_3
				add_lover = event_target:wotrs_lover_4
				add_lover = event_target:wotrs_lover_5
			}
		}
		event_target:wotrs_lover_2 = {
			add_friend = event_target:wotrs_lover_1
			add_friend = event_target:wotrs_lover_3
			add_friend = event_target:wotrs_lover_4
			add_friend = event_target:wotrs_lover_5
			if = {
				limit = {
					trait = homosexual
				}
				add_lover = event_target:wotrs_lover_1
				add_lover = event_target:wotrs_lover_3
				add_lover = event_target:wotrs_lover_4
				add_lover = event_target:wotrs_lover_5
			}
		}
		event_target:wotrs_lover_3 = {
			add_friend = event_target:wotrs_lover_1
			add_friend = event_target:wotrs_lover_2
			add_friend = event_target:wotrs_lover_4
			add_friend = event_target:wotrs_lover_5
			if = {
				limit = {
					trait = homosexual
				}
				add_lover = event_target:wotrs_lover_1
				add_lover = event_target:wotrs_lover_2
				add_lover = event_target:wotrs_lover_4
				add_lover = event_target:wotrs_lover_5
			}
		}
		event_target:wotrs_lover_4 = {
			add_friend = event_target:wotrs_lover_1
			add_friend = event_target:wotrs_lover_2
			add_friend = event_target:wotrs_lover_3
			add_friend = event_target:wotrs_lover_5
			if = {
				limit = {
					trait = homosexual
				}
				add_lover = event_target:wotrs_lover_1
				add_lover = event_target:wotrs_lover_2
				add_lover = event_target:wotrs_lover_3
				add_lover = event_target:wotrs_lover_5
			}
		}
		event_target:wotrs_lover_5 = {
			add_friend = event_target:wotrs_lover_1
			add_friend = event_target:wotrs_lover_2
			add_friend = event_target:wotrs_lover_3
			add_friend = event_target:wotrs_lover_4
			if = {
				limit = {
					trait = homosexual
				}
				add_lover = event_target:wotrs_lover_1
				add_lover = event_target:wotrs_lover_2
				add_lover = event_target:wotrs_lover_3
				add_lover = event_target:wotrs_lover_4
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_406 # It is good to be the TITLE!
		
		prestige = 25
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
			piety = -100
		}
		add_trait = lustful
		event_target:wotrs_lover_1 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		unprotected_sex_effect_event_target = yes
		event_target:wotrs_lover_2 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		unprotected_sex_effect_event_target = yes
		event_target:wotrs_lover_3 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		unprotected_sex_effect_event_target = yes
		event_target:wotrs_lover_4 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		unprotected_sex_effect_event_target = yes
		event_target:wotrs_lover_5 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		unprotected_sex_effect_event_target = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Attempted tumble - partial success
character_event = {
	id = risingsun.407
	desc = EVTDESC_RISINGSUN_407
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random_province = {
			limit = {
				has_owner = yes
				NOT = {
					distance = {
						where = event_target:champion_province
						value = 500
					}
				}
			}
			save_event_target_as = lover_province
		}
		if = {
			limit = {
				is_female = no
				NOT = {
					trait = homosexual
				}
			}
			create_character = {
				age = 16
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_1
			}
		}
		else_if = {
			limit = {
				is_female = no
				trait = homosexual
			}
			create_character = {
				age = 16
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				save_event_target_as = wotrs_lover_1
			}
		}
		else_if = {
			limit = {
				is_female = yes
				NOT = {
					trait = homosexual
				}
			}
			create_character = {
				age = 16
				female = no
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				remove_trait = homosexual
				save_event_target_as = wotrs_lover_1
			}
		}
		else_if = {
			limit = {
				is_female = yes
				trait = homosexual
			}
			create_character = {
				age = 16
				female = yes
				dynasty = none
				culture = event_target:lover_province
				religion = event_target:lover_province
				random_traits = yes
				trait = lustful
				trait = homosexual
				attributes = {
					intrigue = 5
					stewardship = 3
					learning = 1
					martial = 2
					diplomacy = 4
				}
			}
			new_character = {
				save_event_target_as = wotrs_lover_1
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_407 # Well, it could have been worse...
		
		prestige = 10
		
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		random = {
			chance = 25
			add_trait = lustful
		}
		
		event_target:wotrs_lover_1 = {
			save_event_target_as = sex_partner
			add_lover = ROOT
		}
		unprotected_sex_effect_event_target = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Attempted tumble - failure
character_event = {
	id = risingsun.408
	desc = EVTDESC_RISINGSUN_408
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_408 # Fine!
		
		prestige = -10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Foreign preacher - could gain sympathy if not Zealous, otherwise gain piety

# You meet a preacher
character_event = {
	id = risingsun.409
	desc = EVTDESC_RISINGSUN_409
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		random_independent_ruler = {
			limit = {
				any_realm_province = {
					NOT = {
						distance = {
							where = event_target:champion_province
							value = 500
						}
					}
					NOT = {
						religion_group = ROOT
					}
				}
			}
			random_realm_province = {
				limit = {
					NOT = {
						distance = {
							where = event_target:champion_province
							value = 500
						}
					}
					NOT = {
						religion_group = ROOT
					}
				}
				save_event_target_as = preacher_province
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = zealous
			}
		}
		name = EVTOPTB_RISINGSUN_409 # Your ways interest me
		
		piety = -25
		
		if = {
			limit = {
				event_target:preacher_province = {
					religion_group = christian
				}
			}
			add_trait = sympathy_christendom
		}
		else_if = {
			limit = {
				event_target:preacher_province = {
					religion_group = muslim
				}
			}
			add_trait = sympathy_islam
		}
		else_if = {
			limit = {
				event_target:preacher_province = {
					religion_group = jewish_group
				}
			}
			add_trait = sympathy_judaism
		}
		else_if = {
			limit = {
				event_target:preacher_province = {
					religion_group = pagan_group
				}
			}
			add_trait = sympathy_pagans
		}
		else_if = {
			limit = {
				event_target:preacher_province = {
					religion_group = zoroastrian_group
				}
			}
			add_trait = sympathy_zoroastrianism
		}
		else_if = {
			limit = {
				event_target:preacher_province = {
					religion_group = indian_group
				}
			}
			add_trait = sympathy_indian
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		trigger = {
			NOR = {
				trait = cynical
				trait = sympathy_christendom
				trait = sympathy_islam
				trait = sympathy_judaism
				trait = sympathy_pagans
				trait = sympathy_zoroastrianism
				trait = sympathy_indian
			}
		}
		
		piety = 25
		if = {
			limit = {
				NOT = {
					trait = zealous
				}
			}
			random = {
				chance = 25
				add_trait = zealous
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Low food - get less fat or less gluttonous

# Living on less food has made you less fat/less gluttonous
character_event = {
	id = risingsun.410
	desc = EVTDESC_RISINGSUN_410
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_410 # I used to east too much...
		
		if = {
			limit = {
				trait = gluttonous
			}
			remove_trait = gluttonous
		}
		else = {
			random = {
				chance = 25
				add_trait = temperate
			}
		}
		
		random_list = {
			25 = {
				# No weight loss
			}
			25 = {
				lose_weight_small_effect = yes
			}
			25 = {
				lose_weight_medium_effect = yes
			}
			25 = {
				lose_weight_large_effect = yes
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Difficult trek - get stronger if feeble and gain prestige

# Difficult trek
character_event = {
	id = risingsun.411
	desc = EVTDESC_RISINGSUN_411
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_411 # I am not as weak now!
		
		if = {
			limit = {
				trait = slothful
			}
			remove_trait = slothful
		}
		if = {
			limit = {
				trait = feeble
			}
			remove_trait = feeble
		}
		else_if = {
			limit = {
				is_strong_trigger = no
				is_weak_trigger = no
			}
			add_trait = robust
		}
		
		prestige = 10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Bandit ambush - fight, attempt to pay them off, or flee?

# Bandits surround you on the road - what do?
character_event = {
	id = risingsun.412
	desc = EVTDESC_RISINGSUN_412
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_412 # Fight them!
		
		change_society_currency = 25
		
		random_list = {
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						combat_rating = 40
					}
				}
				character_event = { id = risingsun.413 days = 1 } # Fight goes well
			}
			25 = {
				modifier = {
					factor = 0.1
					combat_rating = 40
				}
				character_event = { id = risingsun.414 days = 1 } # Wounded
			}
			24 = {
				modifier = {
					factor = 0
					combat_rating = 40
				}
				character_event = { id = risingsun.415 days = 1 } # Maimed
			}
			1 = {
				modifier = {
					factor = 0
					combat_rating = 20
				}
				character_event = { id = risingsun.416 days = 1 } # Killed
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_412 # Attempt to bribe them
		
		wealth = -100
		change_society_currency = -5
		
		random_list = {
			75 = {
				modifier = {
					factor = 0
					NOT = {
						diplomacy = 6
					}
				}
				character_event = { id = risingsun.417 days = 1 } # It worked
			}
			25 = {
				modifier = {
					factor = 0
					diplomacy = 15
				}
				character_event = { id = risingsun.418 days = 1 } # It didn't work
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_412 # Run!
		
		random_list = {
			50 = {
				character_event = { id = risingsun.419 days = 1 } # It goes well
			}
			50 = {
				character_event = { id = risingsun.420 days = 1 } # You are wounded
			}
		}
		
		prestige = -25
		change_society_currency = -25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = brave
			}
		}
	}
}

# Fought - it went well
character_event = {
	id = risingsun.413
	desc = EVTDESC_RISINGSUN_413
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_413 # Rabble!
		
		prestige = 25
		add_one_duel_experience_modifier = yes
		
		if = {
			limit = {
				trait = craven
			}
			remove_trait = craven
		}
		else = {
			random = {
				chance = 25
				add_trait = brave
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Fought - you were wounded
character_event = {
	id = risingsun.414
	desc = EVTDESC_RISINGSUN_414
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_414 # That went well enough...
		
		prestige = 10
		
		add_trait = wounded
		add_one_duel_experience_modifier = yes
		
		if = {
			limit = {
				trait = craven
			}
			remove_trait = craven
		}
		else = {
			random = {
				chance = 25
				add_trait = brave
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Fought - you were maimed
character_event = {
	id = risingsun.415
	desc = EVTDESC_RISINGSUN_415
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_415 # They actually hurt me!
		
		prestige = -25
		add_maimed_trait_effect = yes
		add_one_duel_experience_modifier = yes
		
		if = {
			limit = {
				trait = craven
			}
			remove_trait = craven
		}
		else = {
			random = {
				chance = 25
				add_trait = brave
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Fought - you were killed
character_event = {
	id = risingsun.416
	desc = EVTDESC_RISINGSUN_416
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_416 # Not like this!
		
		prestige = -50
		
		death = {
			death_reason = death_rabble
		}
	}
}

# Successfully paid them off
character_event = {
	id = risingsun.417
	desc = EVTDESC_RISINGSUN_417
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_417 # I'll be off, then
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Did not succeeded in paying them off - fight or flee?
character_event = {
	id = risingsun.418
	desc = EVTDESC_RISINGSUN_418
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_418 # Fight them!
		
		change_society_currency = 25
		
		random_list = {
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						combat_rating = 40
					}
				}
				character_event = { id = risingsun.413 days = 1 } # Fight goes well
			}
			25 = {
				modifier = {
					factor = 0.1
					combat_rating = 40
				}
				character_event = { id = risingsun.414 days = 1 } # Wounded
			}
			24 = {
				modifier = {
					factor = 0
					combat_rating = 40
				}
				character_event = { id = risingsun.415 days = 1 } # Maimed
			}
			1 = {
				modifier = {
					factor = 0
					combat_rating = 20
				}
				character_event = { id = risingsun.416 days = 1 } # Killed
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_418 # Run!
		
		prestige = -25
		change_society_currency = -25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = brave
			}
		}
	}
}

# Fled - it went well
character_event = {
	id = risingsun.419
	desc = EVTDESC_RISINGSUN_419
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_419 # Phew!
		
		if = {
			limit = {
				trait = brave
			}
			remove_trait = brave
		}
		else = {
			random = {
				chance = 25
				add_trait = craven
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Fled - you were wounded
character_event = {
	id = risingsun.420
	desc = EVTDESC_RISINGSUN_420
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_420 # Ow!
		
		add_trait = wounded
		
		if = {
			limit = {
				trait = brave
			}
			remove_trait = brave
		}
		else = {
			random = {
				chance = 25
				add_trait = craven
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Peasant children want a swordfighting lesson - what do you say?

# Peasant children want a lesson
character_event = {
	id = risingsun.421
	desc = EVTDESC_RISINGSUN_421
	picture = GFX_evt_child_sword
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_421 # Sure; I can teach you a few things
		
		change_society_currency = -10 # Peasant children being taught to use swords? What's next; true warriors wielding guns?
		
		random_list = {
			50 = {
				character_event = { id = risingsun.422 days = 1 } # They learn some things
			}
			25 = {
				character_event = { id = risingsun.423 days = 1 } # They're not able to learn anything useful
			}
			25 = {
				character_event = { id = risingsun.424 days = 1 } # They are utterly useless
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = proud
				NOT = {
					trait = kind
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_421 # I don't have time for this!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = slothful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_421 # Oh; I'll teach you a "lesson"!
		
		character_event = { id = risingsun.425 days = 1 } # They are taught a lesson
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
				NOR = {
					trait = wroth
					trait = cruel
				}
			}
		}
	}
}

# You taught them a lesson and they learned something
character_event = {
	id = risingsun.422
	desc = EVTDESC_RISINGSUN_422
	picture = GFX_evt_child_sword
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_422 # They were surprisingly good...
		
		prestige = 10
		add_one_duel_experience_modifier = yes
		
		if = {
			limit = {
				trait = proud
			}
			remove_trait = proud
		}
		else = {
			random = {
				chance = 25
				add_trait = humble
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# You taught them a lesson and they didn't learn anything
character_event = {
	id = risingsun.423
	desc = EVTDESC_RISINGSUN_423
	picture = GFX_evt_child_sword
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_423 # I don't know what I was expecting...
		
		prestige = -10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# You taught them a lesson and they were awful
character_event = {
	id = risingsun.424
	desc = EVTDESC_RISINGSUN_424
	picture = GFX_evt_child_sword
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_424 # Lackwits!
		
		prestige = -25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# You taught them a lesson about bothering their betters
character_event = {
	id = risingsun.425
	desc = EVTDESC_RISINGSUN_425
	picture = GFX_evt_child_sword
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_425 # That concludes today's lesson!
		
		prestige = 25
		
		if = {
			limit = {
				trait = humble
			}
			remove_trait = humble
		}
		else = {
			random = {
				chance = 25
				add_trait = proud
			}
		}
		
		if = {
			limit = {
				trait = kind
			}
			remove_trait = kind
		}
		else = {
			random = {
				chance = 25
				add_trait = cruel
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Local archery contest - compete?

# Archery contest - compete?
character_event = {
	id = risingsun.426
	desc = EVTDESC_RISINGSUN_426
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_426 # I'll compete!
		
		random_list = {
			50 = {
				modifier = {
					factor = 2
					trait = hunter
				}
				modifier = {
					factor = 2
					any_artifact = {
						has_flag = bow
					}
				}
				modifier = {
					factor = 2
					combat_rating = 60
				}
				modifier = {
					factor = 2
					combat_rating = 80
				}
				character_event = { id = risingsun.427 days = 1 } # You progress to the second round
			}
			50 = {
				modifier = {
					factor = 2
					NOT = {
						combat_rating = 40
					}
				}
				modifier = {
					factor = 2
					NOT = {
						combat_rating = 20
					}
				}
				character_event = { id = risingsun.430 days = 1 } # You lost
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_426 # No thanks!
		
		change_society_currency = -25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# You progress to the second round
character_event = {
	id = risingsun.427
	desc = EVTDESC_RISINGSUN_427
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_427 # Round 2: Fight!
		
		prestige = 10
		
		random_list = {
			50 = {
				modifier = {
					factor = 2
					trait = hunter
				}
				modifier = {
					factor = 2
					any_artifact = {
						has_flag = bow
					}
				}
				modifier = {
					factor = 2
					combat_rating = 80
				}
				modifier = {
					factor = 2
					combat_rating = 60
				}
				character_event = { id = risingsun.428 days = 1 } # You progress to the second round
			}
			50 = {
				modifier = {
					factor = 2
					NOT = {
						combat_rating = 40
					}
				}
				modifier = {
					factor = 2
					NOT = {
						combat_rating = 20
					}
				}
				character_event = { id = risingsun.430 days = 1 } # You lost
			}
		}
	}
}

# You progress to the final round
character_event = {
	id = risingsun.428
	desc = EVTDESC_RISINGSUN_428
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_428 # Let's do this!
		
		prestige = 25
		
		random_list = {
			50 = {
				character_event = { id = risingsun.429 days = 1 } # You won
			}
			50 = {
				character_event = { id = risingsun.430 days = 1 } # You lost
			}
		}
	}
}

# You won
character_event = {
	id = risingsun.429
	desc = EVTDESC_RISINGSUN_429
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_429 # Victory is mine!
		
		change_society_currency = 25
		wealth = 10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# You lost
character_event = {
	id = risingsun.430
	desc = EVTDESC_RISINGSUN_430
	picture = GFX_evt_longbowman
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_430 # Oh, well...
		
		change_society_currency = -5
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Local cuisine - can get fatter, gluttonous, or food poisioning/ill

# Sample local cuisine?
character_event = {
	id = risingsun.431
	desc = EVTDESC_RISINGSUN_431
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_431 # Sure!
		
		random_list = {
			50 = {
				character_event = { id = risingsun.432 days = 1 } # Gluttonous and fatter
			}
			50 = {
				character_event = { id = risingsun.433 days = 1 } # Ill
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = temperate
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_431 # Nah
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = gluttonous
			}
		}
	}
}

# You become more gluttonous and possibly fatter
character_event = {
	id = risingsun.432
	desc = EVTDESC_RISINGSUN_432
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_432 # FOOD!
		
		
		if = {
			limit = {
				trait = temperate
			}
			remove_trait = temperate
		}
		else = {
			random = {
				chance = 25
				add_trait = gluttonous
			}
		}
		
		random_list = {
			25 = {
				# No weight gain
			}
			25 = {
				gain_weight_small_effect = yes
			}
			25 = {
				gain_weight_medium_effect = yes
			}
			25 = {
				gain_weight_large_effect = yes
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# You become ill
character_event = {
	id = risingsun.433
	desc = EVTDESC_RISINGSUN_433
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_433 # I don't feel so well...
		
		prestige = -5
		
		if = {
			limit = {
				has_dlc = "Reapers"
			}
			add_trait = food_poisoning
		}
		else = {
			add_trait = ill
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Local youngling seeks to impress peers and challenges you to a duel - fight them?

# You are challenged!
character_event = {
	id = risingsun.434
	desc = EVTDESC_RISINGSUN_434
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_434 # A duel? Sure!
		
		character_event = { id = risingsun.435 days = 1 } # You won - what do you do?
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_434 # I don't have time for this...
		
		change_society_currency = -25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = craven
				}
			}
		}
	}
}

# You won - what now?
character_event = {
	id = risingsun.435
	desc = EVTDESC_RISINGSUN_435
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_435 # Praise your opponent and leave
		
		change_society_currency = -10
		
		if = {
			limit = {
				trait = cruel
			}
			remove_trait = cruel
		}
		else = {
			random = {
				chance = 25
				add_trait = kind
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = honest
			}
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_435 # Salute your opponent and leave
		
		prestige = 10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_435 # Humiliate your opponent and leave
		
		if = {
			limit = {
				trait = kind
			}
			remove_trait = kind
		}
		else = {
			random = {
				chance = 25
				add_trait = cruel
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTD_RISINGSUN_435 # Kill your opponent and leave
		
		add_trait = cruel
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = cruel
				}
			}
		}
	}
}

### Horse loses a shoe - travel delays

# You experience delays
character_event = {
	id = risingsun.436
	desc = EVTDESC_RISINGSUN_436
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_436 # Oh, well...
		
		hidden_tooltip = {
			change_variable = {
				which = wotrs_travel_progress
				value = -1
			}
			random = {
				chance = 25
				change_variable = {
					which = wotrs_travel_progress
					value = -1
				}
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Local military technology is impressive - gain tech points

# You gain some insights
character_event = {
	id = risingsun.437
	desc = EVTDESC_RISINGSUN_437
	picture = GFX_evt_machines_of_war
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_437 # I should remember this...
		
		military_techpoints = 50
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Asked to serve as an impartial judge in a local dispute - accept?

# Asked to serve as a judge
character_event = {
	id = risingsun.438
	desc = EVTDESC_RISINGSUN_438
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_438 # It would be an honor!
		
		clr_character_flag = wotrs_judge_bribe_1
		clr_character_flag = wotrs_judge_bribe_2
		
		character_event = { id = risingsun.439 days = 1 } # The first side makes its case
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_438 # I don't have time for this!
		
		prestige = -10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				NOT = {
					trait = slothful
				}
			}
		}
	}
}

# The first side makes its case
character_event = {
	id = risingsun.439
	desc = EVTDESC_RISINGSUN_439
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				intrigue = 15
			}
		}
		name = EVTOPTA_RISINGSUN_439 # I see...
		
		character_event = { id = risingsun.440 days = 1 } # The second side makes its case
	}
	
	option = {
		trigger = {
			intrigue = 15
		}
		name = EVTOPTB_RISINGSUN_439 # This story doesn't make sense
		
		character_event = { id = risingsun.440 days = 1 } # The second side makes its case
	}
}

# The second side makes its case
character_event = {
	id = risingsun.440
	desc = EVTDESC_RISINGSUN_440
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				intrigue = 10 # Lower; hopefully you'll catch one lie
			}
		}
		name = EVTOPTA_RISINGSUN_440 # I see...
		
		character_event = { id = risingsun.441 days = 1 } # First chance to make a judgement
	}
	
	option = {
		trigger = {
			intrigue = 10 # Lower; hopefully you'll catch one lie
		}
		name = EVTOPTB_RISINGSUN_440 # This story doesn't make sense
		
		character_event = { id = risingsun.441 days = 1 } # First chance to make a judgement
	}
}

# Ready to make your judgement?
character_event = {
	id = risingsun.441
	desc = EVTDESC_RISINGSUN_441
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_441 # I need more time
		
		character_event = { id = risingsun.445 days = 1 } # First bribe
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				intrigue = 10 # Spotted at least one lie
				trait = honest
				NOT = {
					trait = arbitrary
				}
			}
		}
	}
	
	option = {
		trigger = {
			intrigue = 15
		}
		name = EVTOPTB_RISINGSUN_441 # Side 1 is lying!
		
		character_event = { id = risingsun.442 days = 1 } # Rule against side 1
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				intrigue = 15 # Spotted both lies
				trait = honest
				NOT = {
					trait = arbitrary
				}
			}
		}
	}
	
	option = {
		trigger = {
			intrigue = 10
		}
		name = EVTOPTC_RISINGSUN_441 # Side 2 is lying!
		
		character_event = { id = risingsun.443 days = 1 } # Rule against side 1
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				intrigue = 15 # Spotted both lies
				trait = honest
				NOT = {
					trait = arbitrary
				}
			}
		}
	}
	
	option = {
		trigger = {
			intrigue = 15
		}
		name = EVTOPTD_RISINGSUN_441 # Both of you are lying!
		
		character_event = { id = risingsun.444 days = 1 } # Rule against both of them
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = arbitrary
			}
		}
	}
}

# Revealed side 1 as liars
character_event = {
	id = risingsun.442
	desc = EVTDESC_RISINGSUN_442
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_442 # It was the right move...
		
		prestige = 5
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Revealed side 2 as liars
character_event = {
	id = risingsun.443
	desc = EVTDESC_RISINGSUN_443
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_443 # It was the right move...
		
		prestige = 5
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Revealed both sides as liars
character_event = {
	id = risingsun.444
	desc = EVTDESC_RISINGSUN_444
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_444 # Justice is served!
		
		prestige = 25
		
		if = {
			limit = {
				trait = arbitrary
			}
			remove_trait = arbitrary
		}
		else = {
			random = {
				chance = 25
				add_trait = just
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}
	
# The first side offers a bribe
character_event = {
	id = risingsun.445
	desc = EVTDESC_RISINGSUN_445
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_445 # A bribe? I accept!
		
		wealth = 15
		set_character_flag = wotrs_judge_bribe_1
		
		character_event = { id = risingsun.447 days = 1 } # Second bribe
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_445 # I will not be bribed!
		
		character_event = { id = risingsun.447 days = 1 } # Second bribe
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				trait = honest
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_445 # I will expose this immeidately!
		
		character_event = { id = risingsun.446 days = 1 } # Expose side 1
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = arbitrary
			}
		}
	}
}

# Revealed first side as trying to bribe you
character_event = {
	id = risingsun.446
	desc = EVTDESC_RISINGSUN_446
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_446 # It was the right move...
		
		prestige = 5
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# The second side offers a bribe
character_event = {
	id = risingsun.447
	desc = EVTDESC_RISINGSUN_447
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_447 # A bribe? I accept!
		
		wealth = 10
		set_character_flag = wotrs_judge_bribe_2
		
		character_event = { id = risingsun.449 days = 1 } # Time to make your judgement
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_447 # I will not be bribed!
		
		character_event = { id = risingsun.449 days = 1 } # Time to make your judgement
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				trait = honest
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_447 # I will expose this immeidately!
		
		character_event = { id = risingsun.448 days = 1 } # Expose side 2
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = arbitrary
			}
		}
	}
}

# Revealed second side as trying to bribe you
character_event = {
	id = risingsun.448
	desc = EVTDESC_RISINGSUN_448
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_448 # It was the right move...
		
		prestige = 5
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Time to make your judgement
character_event = {
	id = risingsun.449
	desc = EVTDESC_RISINGSUN_449
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_449 # Side 1 is in the wrong!
		
		if = {
			limit = {
				NOR = {
					has_character_flag = wotrs_judge_bribe_1
					has_character_flag = wotrs_judge_bribe_2
				}
			}
			character_event = { id = risingsun.450 days = 1 } # Judgement
		}
		else_if = {
			limit = {
				has_character_flag = wotrs_judge_bribe_1
				NOT = {
					has_character_flag = wotrs_judge_bribe_2
				}
			}
			character_event = { id = risingsun.451 days = 1 } # Judgement
		}
		else_if = {
			limit = {
				has_character_flag = wotrs_judge_bribe_2
				NOT = {
					has_character_flag = wotrs_judge_bribe_1
				}
			}
			character_event = { id = risingsun.452 days = 1 } # Judgement
		}
		else = {
			character_event = { id = risingsun.453 days = 1 } # Judgement
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				NOT = {
					intrigue = 15
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_449 # Side 2 is in the wrong!
		
		if = {
			limit = {
				NOR = {
					has_character_flag = wotrs_judge_bribe_1
					has_character_flag = wotrs_judge_bribe_2
				}
			}
			character_event = { id = risingsun.454 days = 1 } # Judgement
		}
		else_if = {
			limit = {
				has_character_flag = wotrs_judge_bribe_2
				NOR = {
					has_character_flag = wotrs_judge_bribe_1
				}
			}
			character_event = { id = risingsun.455 days = 1 } # Judgement
		}
		else_if = {
			limit = {
				has_character_flag = wotrs_judge_bribe_1
				NOR = {
					has_character_flag = wotrs_judge_bribe_2
				}
			}
			character_event = { id = risingsun.456 days = 1 } # Judgement
		}
		else = {
			character_event = { id = risingsun.457 days = 1 } # Judgement
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				OR = {
					intrigue = 15
					NOT = {
						intrigue = 10
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_449 # Both are in the wrong
		
		if = {
			limit = {
				NOR = {
					has_character_flag = wotrs_judge_bribe_1
					has_character_flag = wotrs_judge_bribe_2
				}
			}
			character_event = { id = risingsun.458 days = 1 } # Judgement
		}
		else_if = {
			limit = {
				OR = {
					AND = {
						has_character_flag = wotrs_judge_bribe_1
						NOT = {
							has_character_flag = wotrs_judge_bribe_2
						}
					}
					AND = {
						has_character_flag = wotrs_judge_bribe_2
						NOT = {
							has_character_flag = wotrs_judge_bribe_1
						}
					}
				}
			}
			character_event = { id = risingsun.459 days = 1 } # Judgement
		}
		else = {
			character_event = { id = risingsun.460 days = 1 } # Judgement
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = arbitrary
			}
		}
	}
}

# Made a judgement against side 1 - no bribe accepted
character_event = {
	id = risingsun.450
	desc = EVTDESC_RISINGSUN_450
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_450 # It was the right move...
		
		prestige = 5
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 1 - accepted bribe from side 1 and not side 2
character_event = {
	id = risingsun.451
	desc = EVTDESC_RISINGSUN_451
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_451 # It was the right move...
		
		prestige = 5
		
		if = {
			limit = {
				trait = just
			}
			remove_trait = just
		}
		else = {
			random = {
				chance = 25
				add_trait = arbitrary
			}
		}
		if = {
			limit = {
				trait = honest
			}
			remove_trait = honest
		}
		else = {
			random = {
				chance = 25
				add_trait = deceitful
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 1 - accepted bribe from side 2 and not side 1
character_event = {
	id = risingsun.452
	desc = EVTDESC_RISINGSUN_452
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_452 # It was the right move...
		
		prestige = 5
		
		if = {
			limit = {
				trait = just
			}
			remove_trait = just
		}
		else = {
			random = {
				chance = 25
				add_trait = arbitrary
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 1 - accepted bribe from both
character_event = {
	id = risingsun.453
	desc = EVTDESC_RISINGSUN_453
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_453 # It was the right move...
		
		prestige = 5
		
		if = {
			limit = {
				trait = just
			}
			remove_trait = just
		}
		else = {
			random = {
				chance = 25
				add_trait = arbitrary
			}
		}
		if = {
			limit = {
				trait = honest
			}
			remove_trait = honest
		}
		else = {
			random = {
				chance = 25
				add_trait = deceitful
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 2 - no bribe accepted
character_event = {
	id = risingsun.454
	desc = EVTDESC_RISINGSUN_454
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_454 # It was the right move...
		
		prestige = 5
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 2 - accepted bribe from side 2 and not side 1
character_event = {
	id = risingsun.455
	desc = EVTDESC_RISINGSUN_455
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_455 # It was the right move...
		
		prestige = 5
		
		if = {
			limit = {
				trait = just
			}
			remove_trait = just
		}
		else = {
			random = {
				chance = 25
				add_trait = arbitrary
			}
		}
		if = {
			limit = {
				trait = honest
			}
			remove_trait = honest
		}
		else = {
			random = {
				chance = 25
				add_trait = deceitful
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 2 - accepted bribe from side 1 and not side 2
character_event = {
	id = risingsun.456
	desc = EVTDESC_RISINGSUN_456
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_456 # It was the right move...
		
		prestige = 5
		
		if = {
			limit = {
				trait = just
			}
			remove_trait = just
		}
		else = {
			random = {
				chance = 25
				add_trait = arbitrary
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Made a judgement against side 2 - accepted bribe from both
character_event = {
	id = risingsun.457
	desc = EVTDESC_RISINGSUN_457
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_457 # It was the right move...
		
		prestige = 5
		
		if = {
			limit = {
				trait = just
			}
			remove_trait = just
		}
		else = {
			random = {
				chance = 25
				add_trait = arbitrary
			}
		}
		if = {
			limit = {
				trait = honest
			}
			remove_trait = honest
		}
		else = {
			random = {
				chance = 25
				add_trait = deceitful
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Ruled against both of them - no bribe
character_event = {
	id = risingsun.458
	desc = EVTDESC_RISINGSUN_458
	picture = GFX_evt_bribe_declined
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_458 # You are both liars!
		
		prestige = 25
		change_society_currency = 25
		
		if = {
			limit = {
				trait = arbitrary
			}
			remove_trait = arbitrary
		}
		else = {
			add_trait = just
		}
		
		if = {
			limit = {
				trait = deceitful
			}
			remove_trait = deceitful
		}
		else = {
			add_trait = honest
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Ruled against both of them - accepted one bribe
character_event = {
	id = risingsun.459
	desc = EVTDESC_RISINGSUN_459
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_459 # You are both liars!
		
		if = {
			limit = {
				trait = honest
			}
			remove_trait = honest
		}
		else = {
			add_trait = deceitful
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Ruled against both of them - accepted both bribes
character_event = {
	id = risingsun.460
	desc = EVTDESC_RISINGSUN_460
	picture = GFX_evt_bribe_accepted
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_460 # You are both liars!
		
		prestige = 25
		if = {
			limit = {
				trait = honest
			}
			remove_trait = honest
		}
		else = {
			add_trait = deceitful
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Poor foreign noble offers to sell you a low tier artifact - accept?

# Offered to buy an artifact
character_event = {
	id = risingsun.461
	desc = EVTDESC_RISINGSUN_461
	picture = GFX_evt_pagan_artifacts
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_461 # I'll buy it
		
		wealth = -25
		
		character_event = { id = risingsun.462 days = 1 } # Got something
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_461 # No thanks!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = charitable
			}
		}
	}
}

# Bought something
character_event = {
	id = risingsun.462
	desc = EVTDESC_RISINGSUN_462
	picture = GFX_evt_pagan_artifacts
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = the_lily_crown
		clr_character_flag = noble_scepter
		clr_character_flag = engraved_sword
		clr_character_flag = engraved_dagger
		clr_character_flag = silver_bracelets
		clr_character_flag = collar_of_pearls
		clr_character_flag = circlet_of_twilight
		clr_character_flag = silver_staff
		clr_character_flag = iron_crown
		clr_character_flag = engraved_crown
		clr_character_flag = ceremonial_axe
		clr_character_flag = sword_tier_1_new
		clr_character_flag = scimitar_tier_1_new
		clr_character_flag = lance_tier_1_new
		clr_character_flag = axe_tier_1_new
		clr_character_flag = mace_tier_1_new
		clr_character_flag = bow_tier_1_new
		clr_character_flag = armor_tier_1
		clr_character_flag = horse_armor_tier_1
		random_list = {
			1 = {
				set_character_flag = the_lily_crown
			}
			1 = {
				set_character_flag = noble_scepter
			}
			1 = {
				set_character_flag = engraved_sword
			}
			1 = {
				set_character_flag = engraved_dagger
			}
			1 = {
				set_character_flag = silver_bracelets
			}
			1 = {
				set_character_flag = collar_of_pearls
			}
			1 = {
				set_character_flag = circlet_of_twilight
			}
			1 = {
				set_character_flag = silver_staff
			}
			1 = {
				set_character_flag = iron_crown
			}
			1 = {
				set_character_flag = engraved_crown
			}
			1 = {
				set_character_flag = ceremonial_axe
			}
			1 = {
				set_character_flag = sword_tier_1_new
			}
			1 = {
				set_character_flag = scimitar_tier_1_new
			}
			1 = {
				set_character_flag = lance_tier_1_new
			}
			1 = {
				set_character_flag = axe_tier_1_new
			}
			1 = {
				set_character_flag = mace_tier_1_new
			}
			1 = {
				set_character_flag = bow_tier_1_new
			}
			1 = {
				set_character_flag = armor_tier_1
			}
			1 = {
				set_character_flag = horse_armor_tier_1
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_463 # I hope I can find a use for this...
		
		if = {
			limit = {
				has_character_flag = the_lily_crown
			}
			add_artifact = the_lily_crown
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = noble_scepter
			}
			add_artifact = noble_scepter
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = engraved_sword
			}
			add_artifact = engraved_sword
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = engraved_dagger
			}
			add_artifact = engraved_dagger
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = silver_bracelets
			}
			add_artifact = silver_bracelets
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = collar_of_pearls
			}
			add_artifact = collar_of_pearls
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = circlet_of_twilight
			}
			add_artifact = circlet_of_twilight
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = silver_staff
			}
			add_artifact = silver_staff
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = iron_crown
			}
			add_artifact = iron_crown
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = engraved_crown
			}
			add_artifact = engraved_crown
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = ceremonial_axe
			}
			add_artifact = ceremonial_axe
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = sword_tier_1_new
			}
			add_artifact = sword_tier_1_new
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = scimitar_tier_1_new
			}
			add_artifact = scimitar_tier_1_new
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = lance_tier_1_new
			}
			add_artifact = lance_tier_1_new
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = axe_tier_1_new
			}
			add_artifact = axe_tier_1_new
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = mace_tier_1_new
			}
			add_artifact = mace_tier_1_new
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = bow_tier_1_new
			}
			add_artifact = bow_tier_1_new
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = armor_tier_1
			}
			add_artifact = armor_tier_1
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		else_if = {
			limit = {
				has_character_flag = horse_armor_tier_1
			}
			add_artifact = horse_armor_tier_1
			new_artifact = {
				set_creation_date = "-1.1.1"
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Skilled local warrior offers to give you a few quick tips for some money - accept?

# The offer is made
character_event = {
	id = risingsun.463
	desc = EVTDESC_RISINGSUN_463
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_463 # Sure!
		
		wealth = -100
		
		increase_duel_exp_modifier_effect = yes
		random = {
			chance = 50
			increase_duel_exp_modifier_effect = yes
		}
		random = {
			chance = 25
			increase_duel_exp_modifier_effect = yes
		}
		random = {
			chance = 10
			increase_duel_exp_modifier_effect = yes
		}
		random = {
			chance = 5
			increase_duel_exp_modifier_effect = yes
		}
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_463 # No thanks!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = charitable
			}
		}
	}
}

### Rain makes travel difficult - press on (might get Pneumonia/Ill) or accept delays?

# Stay where you are or press on?
character_event = {
	id = risingsun.464
	desc = EVTDESC_RISINGSUN_464
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_464 # Keep going
		
		random_list = {
			50 = {
				character_event = { id = risingsun.465 days = 1 } # It goes well
			}
			50 = {
				character_event = { id = risingsun.466 days = 1 } # Pneumonia/Ill
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_464 # Wait it out
		
		hidden_tooltip = {
			change_variable = {
				which = wotrs_travel_distance
				value = -1
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = brave
				NOT = {
					trait = slothful
				}
			}
		}
	}
}

# Pressed on - all went well
character_event = {
	id = risingsun.465
	desc = EVTDESC_RISINGSUN_465
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_465 # Onwards!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Pressed on  - Pneumonia/Ill
character_event = {
	id = risingsun.466
	desc = EVTDESC_RISINGSUN_466
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_466 # I don't feel so good...
		
		add_trait = pneumonic
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Rock slide - fall back and get delayed, or risk getting injured?

# Press on or circle back?
character_event = {
	id = risingsun.467
	desc = EVTDESC_RISINGSUN_467
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_467 # Keep going
		
		random_list = {
			50 = {
				modifier = {
					factor = 10
					is_strong_trigger = yes
				}
				character_event = { id = risingsun.468 days = 1 } # It goes well
			}
			50 = {
				modifier = {
					factor = 10
					is_weak_trigger = yes
				}
				character_event = { id = risingsun.469 days = 1 } # Injured
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_467 # Circle back
		
		hidden_tooltip = {
			change_variable = {
				which = wotrs_travel_distance
				value = -1
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = brave
				NOT = {
					trait = slothful
				}
			}
		}
	}
}

# Pressed on - it went well
character_event = {
	id = risingsun.468
	desc = EVTDESC_RISINGSUN_468
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_468 # Onwards!
		
		prestige = 10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Pressed on - injured
character_event = {
	id = risingsun.469
	desc = EVTDESC_RISINGSUN_469
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_469 # Ow!
		
		add_trait = wounded
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Meet an "adventuring party"

# Adventuring party
character_event = {
	id = risingsun.470
	desc = EVTDESC_RISINGSUN_470
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		set_character_flag = wotrs_adventuring_party
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_470 # Good luck on your quest!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = kind
				has_character_flag = wotrs_black_riders
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = wotrs_black_riders
		}
		name = EVTOPTB_RISINGSUN_470 # I think there are some people looking for you...
		
		if = {
			limit = {
				trait = cruel
			}
			remove_trait = cruel
		}
		else = {
			add_trait = kind
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
}

### See shadowy figures at night - might become paranoid

# You spot a shadowy figure
character_event = {
	id = risingsun.471
	desc = EVTDESC_RISINGSUN_471
	picture = GFX_evt_shadow
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = paranoid
			}
		}
		name = EVTOPTA_RISINGSUN_471 # Who goes there?
		
		random = {
			chance = 5
			add_trait = paranoid
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		trigger = {
			trait = paranoid
		}
		name = EVTOPTB_RISINGSUN_471 # They are here for me!
		
		prestige = -10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Life on the road makes it hard to stay clean - could gain Uncouth/lose Groomed

# Is it really worth being clean?
character_event = {
	id = risingsun.472
	desc = EVTDESC_RISINGSUN_472
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_472 # Yes!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_472 # No!
		
		if = {
			limit = {
				trait = groomed
			}
			remove_trait =  groomed
		}
		else = {
			add_trait = uncouth
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

### Locals would like to hear some poetry - might gain Poet or embarrass yourself

# Share some poetry?
character_event = {
	id = risingsun.473
	desc = EVTDESC_RISINGSUN_473
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_473 # Yes!
		
		random_list = {
			50 = {
				modifier = {
					factor = 10
					is_smart_trigger = yes
				}
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					learning = 16
				}
				modifier = {
					factor = 2
					learning = 12
				}
				character_event = { id = risingsun.474 days = 1 } # It goes well
			}
			50 = {
				modifier = {
					factor = 10
					is_dumb_trigger = yes
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 8
					}
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 4
					}
				}
				character_event = { id = risingsun.475 days = 1 } # It goes poorly
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = slothful
				NOT = {
					trait = poet
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_473 # No!
		
		prestige = -10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = diligent
			}
		}
	}
}

# Your work was appreciated
character_event = {
	id = risingsun.474
	desc = EVTDESC_RISINGSUN_474
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_474 # That went well!
		
		if = {
			limit = {
				NOT = {
					trait = poet
				}
			}
			random = {
				chance = 25
				add_trait = poet
			}
		}
		
		prestige = 25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Your work was unappreciated
character_event = {
	id = risingsun.475
	desc = EVTDESC_RISINGSUN_475
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_475 # They failed to grasp my genius!
		
		prestige = -10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### The quest is important, as are all goals - become more ambitious

# Became more ambitious
character_event = {
	id = risingsun.476
	desc = EVTDESC_RISINGSUN_476
	picture = GFX_evt_powerful_ruler
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_476 # I should have it all!
		
		prestige = 10
		
		if = {
			limit = {
				trait = content
			}
			remove_trait = content
		}
		else = {
			add_trait = ambitious
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### The quest has made you re-think your life goals - become less ambitious

# Became less ambitious
character_event = {
	id = risingsun.477
	desc = EVTDESC_RISINGSUN_477
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_477 # Other goals are not worthy of my time!
		
		prestige = 10
		
		if = {
			limit = {
				trait = ambitious
			}
			remove_trait = ambitious
		}
		else = {
			add_trait = content
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### The journey is taxing your patience - become less patient

# You become less patient
character_event = {
	id = risingsun.478
	desc = EVTDESC_RISINGSUN_478
	picture = GFX_evt_powerful_ruler
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_478 # Are we there yet?
		
		prestige = -10
		
		if = {
			limit = {
				trait = patient
			}
			remove_trait = patient
		}
		else = {
			add_trait = wroth
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Being able to take it easy during the journey has changed you - become less diligent

# You become less diligent
character_event = {
	id = risingsun.479
	desc = EVTDESC_RISINGSUN_479
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_479 # I should take it easy more often
		
		prestige = -10
		
		if = {
			limit = {
				trait = diligent
			}
			remove_trait = diligent
		}
		else = {
			add_trait = slothful
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Having had to interact with foreigners has made you more gregarious

# You become less shy
character_event = {
	id = risingsun.480
	desc = EVTDESC_RISINGSUN_480
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_480 # I have learned a thing or two!
		
		prestige = 10
		
		if = {
			limit = {
				trait = shy
			}
			remove_trait = shy
		}
		else = {
			add_trait = gregarious
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Local laws are different and wrong - become more Just

# You become more just
character_event = {
	id = risingsun.481
	desc = EVTDESC_RISINGSUN_481
	picture = GFX_evt_china_golden_age
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_481 # I must enforce proper laws back home...
		
		prestige = 10
		
		if = {
			limit = {
				trait = arbitrary
			}
			remove_trait = arbitrary
		}
		else = {
			add_trait = just
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Local laws are different and you question whether yours are better - become more Arbitrary

# You become more arbitrary
character_event = {
	id = risingsun.482
	desc = EVTDESC_RISINGSUN_482
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_482 # Our laws might be wrong...
		
		prestige = -10
		
		if = {
			limit = {
				trait = just
			}
			remove_trait = just
		}
		else = {
			add_trait = arbitrary
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Visit town as a local festival is underway - might become more Proud or more Humble

# Humble or Proud?
character_event = {
	id = risingsun.483
	desc = EVTDESC_RISINGSUN_483
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				trait = proud
			}
		}
		name = EVTOPTA_RISINGSUN_483 # Our festivals are better!
		
		if = {
			limit = {
				trait = humble
			}
			remove_trait = humble
		}
		else = {
			add_trait = proud
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		trigger = {
			NOT = {
				trait = humble
			}
		}
		name = EVTOPTB_RISINGSUN_483 # This is rather nice!
		
		if = {
			limit = {
				trait = proud
			}
			remove_trait = proud
		}
		else = {
			add_trait = humble
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Spot an Eastern dragon - gain prestige

# Eastern dragon
character_event = {
	id = risingsun.484
	desc = EVTDESC_RISINGSUN_484
	picture = GFX_evt_chinese_mythology
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_484 # I believe the proper response is "Auspicious!"?
		
		prestige = 25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Spot a Western dragon - gain prestige

# Western dragon
character_event = {
	id = risingsun.485
	desc = EVTDESC_RISINGSUN_485
	picture = GFX_evt_chinese_mythology
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_485 # Wondrous, but perhaps a bit worrying...
		
		prestige = 25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Black Riders

# Black Riders
character_event = {
	id = risingsun.486
	desc = EVTDESC_RISINGSUN_486
	picture = GFX_evt_riders_night_hf
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		set_character_flag = wotrs_black_riders
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_486 # I don't know what you speak of...
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
				has_character_flag = wotrs_adventuring_party
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = wotrs_adventuring_party
		}
		name = EVTOPTB_RISINGSUN_486 # I think I've seen those guys!
		
		if = {
			limit = {
				trait = kind
			}
			remove_trait = kind
		}
		else = {
			add_trait = cruel
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				trait = scholar
				learning = 15
			}
		}
		name = EVTOPTC_RISINGSUN_486 # Perhaps you should look in Zeeland?
		
		prestige = 5
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
}

### A Wild Prophet appeared!

# You meet with the Prophet
character_event = {
	id = risingsun.487
	desc = EVTDESC_RISINGSUN_487
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				trait = lunatic
				has_global_flag = sunrise_invasion_happened
			}
		}
		name = EVTOPTA_RISINGSUN_487 # What an odd man...
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		trigger = {
			trait = lunatic
			NOT = {
				has_global_flag = sunrise_invasion_happened
			}
		}
		name = EVTOPTB_RISINGSUN_487 # The truth has been revealed!
		
		prestige = 25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		trigger = {
			has_global_flag = sunrise_invasion_happened
			NOT = {
				has_global_flag = inca_defeated
			}
		}
		name = EVTOPTC_RISINGSUN_487 # I know of what you speak!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		trigger = {
			has_global_flag = sunrise_invasion_happened
			has_global_flag = inca_defeated
		}
		name = EVTOPTD_RISINGSUN_487 # We already did this...
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Being on a quest for the WotRS makes you consider becoming Shinto

# Become Shinto?
character_event = {
	id = risingsun.488
	desc = EVTDESC_RISINGSUN_488
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_488 # Yes - openly!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		religion = shinto
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					true_religion = shinto
				}
				trait = zealous
			}
			modifier = {
				factor = 0.1
				NOT = {
					true_religion = shinto
				}
			}
			modifier = {
				factor = 0.1
				NOT = {
					true_religion = shinto
				}
				NOT = {
					trait = cynical
				}
			}
			modifier = {
				factor = 0
				trait = proud
			}
			modifier = {
				factor = 0
				NOT = {
					culture_group = japonic
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_488 # Yes - secretly!
		
		set_secret_religion = shinto
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
			}
			modifier = {
				factor = 0.1
				NOT = {
					trait = cynical
				}
			}
			modifier = {
				factor = 0
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_488 # No!
		
		piety = 25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
				true_religion = shinto
			}
		}
	}
}

### Being on a quest for the WotRS makes you consider becoming Buddhist

# Become Buddhist?
character_event = {
	id = risingsun.489
	desc = EVTDESC_RISINGSUN_489
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_489 # Yes - openly!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		religion = buddhist
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					true_religion = buddhist
				}
				trait = zealous
			}
			modifier = {
				factor = 0.1
				NOT = {
					true_religion = buddhist
				}
			}
			modifier = {
				factor = 0.1
				NOT = {
					true_religion = buddhist
				}
				NOT = {
					trait = cynical
				}
			}
			modifier = {
				factor = 0
				trait = proud
			}
			modifier = {
				factor = 0.1
				NOT = {
					culture_group = japonic
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_489 # Yes - secretly!
		
		set_secret_religion = buddhist
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
			}
			modifier = {
				factor = 0.1
				NOT = {
					trait = cynical
				}
			}
			modifier = {
				factor = 0
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_489 # No!
		
		piety = 25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = zealous
				true_religion = buddhist
			}
		}
	}
}

### Being on a quest for the WotRS makes you consider becoming Japanese

# Become Japanese?
character_event = {
	id = risingsun.490
	desc = EVTDESC_RISINGSUN_490
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_490 # Yes!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		culture = japanese
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOR = {
					culture = yamato
					culture = emishi
					culture = wako
				}
			}
			modifier = {
				factor = 0
				trait = proud
			}
			modifier = {
				factor = 0
				NOT = {
					culture_group = japonic
				}
			}
			modifier = {
				factor = 0
				NOR = {
					religion = shinto
					religion = buddhist
				}
				NOR = {
					culture = yamato
					culture = emishi
					culture = wako
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_490 # No!
		
		prestige = 25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
		}
	}
}

### Get convinced of righteousness of current quest - become more Zealous

# You become more Zealous
character_event = {
	id = risingsun.491
	desc = EVTDESC_RISINGSUN_491
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_491 # I must succeeded in the name of Root.Religion.GetHighGod
		
		if = {
			limit = {
				trait = cynical
			}
			remove_trait = cynical
		}
		else = {
			add_trait = zealous
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Being on the road has reinvigorated you - lose Depressed

# Depressed no longer
character_event = {
	id = risingsun.492
	desc = EVTDESC_RISINGSUN_492
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_492 # Life isn't so bad...
		
		remove_trait = depressed
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Foreign scholar offers insights in exchange for money

# Scholar offers insights
character_event = {
	id = risingsun.493
	desc = EVTDESC_RISINGSUN_493
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			wealth = 100
		}
		name = EVTOPTA_RISINGSUN_493 # Sounds good!
		
		wealth = -100
		
		random_list = {
			25 = {
				culture_techpoints = 25
			}
			25 = {
				economy_techpoints = 25
			}
			25 = {
				military_techpoints = 25
			}
			25 = {
				culture_techpoints = 10
				economy_techpoints = 10
				military_techpoints = 10
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				is_dumb_trigger = yes
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_493 # Not interested!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = charitable
			}
			modifier = {
				factor = 0
				is_smart_trigger = yes
			}
		}
	}
}

### Got lost while trying to take a shortcut - experience travel delays

# You got lost
character_event = {
	id = risingsun.494
	desc = EVTDESC_RISINGSUN_494
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_494 # Curses!
		
		hidden_tooltip = {
			change_variable = {
				which = wotrs_travel_distance
				value = -1
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Successfully took a shortcut - gain extra travel progress

# You got ahead
character_event = {
	id = risingsun.495
	desc = EVTDESC_RISINGSUN_495
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_495 # Great!
		
		hidden_tooltip = {
			change_variable = {
				which = wotrs_travel_distance
				value = 1
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Come across cultists at an altar - attack?

# You spot cultists - attack?
character_event = {
	id = risingsun.496
	desc = EVTDESC_RISINGSUN_496
	picture = GFX_evt_magic_ritual
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_496 # Attack!
		
		change_society_currency = 25
		
		random_list = {
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						combat_rating = 40
					}
				}
				random_list = {
					50 = {
						character_event = { id = risingsun.497 days = 1 } # Fight goes well, but the cultists weren't evil
					}
					50 = {
						character_event = { id = risingsun.498 days = 1 } # Fight goes well
					}
				}
			}
			25 = {
				modifier = {
					factor = 0.1
					combat_rating = 40
				}
				random_list = {
					50 = {
						character_event = { id = risingsun.499 days = 1 } # Wounded, and the cultists weren't evil
					}
					50 = {
						character_event = { id = risingsun.500 days = 1 } # Wounded
					}
				}
			}
			24 = {
				modifier = {
					factor = 0
					combat_rating = 40
				}
				random_list = {
					50 = {
						character_event = { id = risingsun.501 days = 1 } # Maimed, and the cultists weren't evil
					}
					50 = {
						character_event = { id = risingsun.502 days = 1 } # Maimed
					}
				}
			}
			1 = {
				modifier = {
					factor = 0
					combat_rating = 20
				}
				character_event = { id = risingsun.503 days = 1 } # Killed
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_496 # Ignore them!
		
		prestige = -25
		change_society_currency = -25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = brave
			}
		}
	}
}

# Fighting goes well, but villagers tell you the cultists weren't evil
character_event = {
	id = risingsun.497
	desc = EVTDESC_RISINGSUN_497
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_497 # How was I supposed to know that?
		
		prestige = -25
		add_one_duel_experience_modifier = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Fighting goes well, and nearby villagers thank you
character_event = {
	id = risingsun.498
	desc = EVTDESC_RISINGSUN_498
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_498 # I only did what was right!
		
		prestige = 25
		add_one_duel_experience_modifier = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Wounded, and villagers tell you the cultists weren't evil
character_event = {
	id = risingsun.499
	desc = EVTDESC_RISINGSUN_499
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_499 # How was I supposed to know that?
		
		prestige = -25
		add_trait = wounded
		add_one_duel_experience_modifier = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Wounded, and nearby villagers thank you
character_event = {
	id = risingsun.500
	desc = EVTDESC_RISINGSUN_500
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_500 # I only did what was right!
		
		prestige = 25
		add_trait = wounded
		add_one_duel_experience_modifier = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Maimed, and villagers tell you the cultists weren't evil
character_event = {
	id = risingsun.501
	desc = EVTDESC_RISINGSUN_501
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_501 # How was I supposed to know that?
		
		prestige = -25
		add_maimed_trait_effect = yes
		add_one_duel_experience_modifier = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Maimed, and nearby villagers thank you
character_event = {
	id = risingsun.502
	desc = EVTDESC_RISINGSUN_502
	picture = GFX_evt_noble_haughty_talking_to_peasants
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_502 # I only did what was right!
		
		prestige = 25
		add_maimed_trait_effect = yes
		add_one_duel_experience_modifier = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Killed
character_event = {
	id = risingsun.503
	desc = EVTDESC_RISINGSUN_503
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_503 # Not like this!
		
		prestige = -50
		
		death = {
			death_reason = death_rabble
		}
	}
}

### Come across a sword stuck in a stone - attempt to pull it out?

# Find the sword
character_event = {
	id = risingsun.504
	desc = EVTDESC_RISINGSUN_504
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_504 # Attempt to pull it out
		
		if = {
			limit = {
				NOR = {
					has_landed_title = k_england
					has_landed_title = e_britannia
				}
			}
			character_event = { id = risingsun.505 days =  1 } # Sword doesn't come out
		}
		else = {
			character_event = { id = risingsun.506 days =  1 } # Sword comes out
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = content
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_504 # Ignore it!
		
		prestige = -10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = ambitious
			}
		}
	}
}

# Sword didn't budge
character_event = {
	id = risingsun.505
	desc = EVTDESC_RISINGSUN_505
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_505 # How odd...
		
		prestige = -25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# You pulled the sword out
character_event = {
	id = risingsun.506
	desc = EVTDESC_RISINGSUN_506
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_506 # I should put this back...
		
		prestige = 25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Come across a stone circle - investigate?

# Stone circle discovered
character_event = {
	id = risingsun.507
	desc = EVTDESC_RISINGSUN_507
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_507 # I should investigate
		
		random_list = {
			50 = {
				character_event = { id = risingsun.508 days = 1 } # Boring stone circle
			}
			50 = {
				character_event = { id = risingsun.509 days = 1 } # Interesting stone circle
			}
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_507 # Nah!
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Stone circle is boring
character_event = {
	id = risingsun.508
	desc = EVTDESC_RISINGSUN_508
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_508 # This was a waste of time...
		
		prestige = -5
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Stone circle gives you a minor insight
character_event = {
	id = risingsun.509
	desc = EVTDESC_RISINGSUN_509
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_509 # Interesting...
		
		add_one_duel_experience_modifier = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Hear of a local bandit chief - hunt them down?

# You hear of a bandit chief - hunt them down?
character_event = {
	id = risingsun.510
	desc = EVTDESC_RISINGSUN_510
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_510 # I should help!
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					intrigue = 16
				}
				character_event = { id = risingsun.511 days = 3 } # No luck
			}
			50 = {
				modifier = {
					factor = 0
					NOT = {
						intrigue = 8
					}
				}
				character_event = { id = risingsun.512 days = 1 } # Found the bandits
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = arbitrary
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_510 # This isn't my job...
		
		prestige = -10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
			}
		}
	}
}

# Failed to find the bandit encampment
character_event = {
	id = risingsun.511
	desc = EVTDESC_RISINGSUN_511
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_511 # They are too good at hiding...
		
		prestige = -10
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# Found the bandit encampment - attack it or leave?
character_event = {
	id = risingsun.512
	desc = EVTDESC_RISINGSUN_512
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_512 # Attack!
		
		change_society_currency = 25
		
		random_list = {
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						combat_rating = 40
					}
				}
				character_event = { id = risingsun.513 days = 1 } # Fight goes well
			}
			25 = {
				modifier = {
					factor = 0.1
					combat_rating = 40
				}
				character_event = { id = risingsun.514 days = 1 } # Wounded
			}
			24 = {
				modifier = {
					factor = 0
					combat_rating = 40
				}
				character_event = { id = risingsun.515 days = 1 } # Maimed
			}
			1 = {
				modifier = {
					factor = 0
					combat_rating = 20
				}
				character_event = { id = risingsun.516 days = 1 } # Killed
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_512 # Ignore them!
		
		prestige = -25
		change_society_currency = -25
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = brave
			}
		}
	}
}

# You kill the bandits
character_event = {
	id = risingsun.513
	desc = EVTDESC_RISINGSUN_513
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_513 # All in a day's work!
		
		prestige = 25
		wealth = 25
		add_one_duel_experience_modifier = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# You kill the bandits but get wounded
character_event = {
	id = risingsun.514
	desc = EVTDESC_RISINGSUN_514
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_514 # They fought well...
		
		prestige = 10
		wealth = 25
		add_trait = wounded
		add_one_duel_experience_modifier = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# You kill the bandits but get maimed
character_event = {
	id = risingsun.515
	desc = EVTDESC_RISINGSUN_515
	picture = GFX_evt_bandits
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_515 # Curses!
		
		prestige = -25
		wealth = 25
		add_trait = wounded
		add_one_duel_experience_modifier = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

# The bandits kill you
character_event = {
	id = risingsun.516
	desc = EVTDESC_RISINGSUN_516
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_516 # Not like this!
		
		death = {
			death_reason = death_rabble
		}
	}
}

### Come across ancient carvings - might gain some duel insights

# Found insights
character_event = {
	id = risingsun.517
	desc = EVTDESC_RISINGSUN_517
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_517 # This is actually helpful!
		
		increase_duel_exp_modifier_effect = yes
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Being on the road without your valuables teaches you to be less Greedy

# Become less Greedy
character_event = {
	id = risingsun.518
	desc = EVTDESC_RISINGSUN_518
	picture = GFX_evt_china_stable
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_518 # I don't need money that much...
		
		if = {
			limit = {
				trait = greedy
			}
			remove_trait = greedy
		}
		else = {
			add_trait = charitable
		}
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

### Being on a quest makes you lose Stressed

# Lost Stressed
character_event = {
	id = risingsun.519
	desc = EVTDESC_RISINGSUN_519
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_519 # This is relaxing!
		
		remove_trait = stressed
		
		character_event = { id = risingsun.391 days = 60 random = 60 } # Back to main travel event
	}
}

##### Challengers and outcomes

### The Sword of the Shifting Sands

# You arrive and start asking around
narrative_event = {
	id = risingsun.520
	title = EVTTITLE_RISINGSUN_520
	desc = EVTDESC_RISINGSUN_520
	picture = GFX_evt_west_african_ruler
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_520 # I should ask around...
		
		if = {
			limit = {
				ai = no
			}
			character_event = { id = risingsun.521 days = 1 random = 1 } # Map
		}
		else = {
			character_event = { id = risingsun.525 days = 1 random = 1 } # Go directly to selecting from all options
		}
	}
}

# Option A - buy a map
character_event = {
	id = risingsun.521
	desc = EVTDESC_RISINGSUN_521
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_521 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = risingsun.526 days = 1 } # Setting off
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_521 # Maybe later
		
		character_event = { id = risingsun.522 days = 1 random = 1 } # Young boy
	}
}

# Option B - the young boy
character_event = {
	id = risingsun.522
	desc = EVTDESC_RISINGSUN_522
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_522 # Sounds good!
		
		wealth = -5
		
		character_event = { id = risingsun.529 days = 1 } # Setting off
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_522 # Maybe later
		
		character_event = { id = risingsun.523 days = 1 random = 1 } # Old man
	}
}

# Option C - the old man
character_event = {
	id = risingsun.523
	desc = EVTDESC_RISINGSUN_523
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_523 # Sounds good!
		
		wealth = -25
		
		character_event = { id = risingsun.538 days = 1 } # Setting off
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_523 # Maybe later
		
		character_event = { id = risingsun.524 days = 1 random = 1 } # Veiled woman
	}
}

# Option D - the veiled woman
character_event = {
	id = risingsun.524
	desc = EVTDESC_RISINGSUN_524
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		set_character_flag = met_sotss
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_524 # Sounds good!
		
		character_event = { id = risingsun.543 days = 1 } # Setting off
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_524 # Maybe later
		
		character_event = { id = risingsun.525 days = 1 } # Just pick something already!
	}
}

# Which option do you pick?
character_event = {
	id = risingsun.525
	desc = EVTDESC_RISINGSUN_525
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_525 # Let's go with the map!
		
		wealth = -500
		
		character_event = { id = risingsun.526 days = 1 } # Setting off
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_525 # Let's go with the boy!
		
		wealth = -5
		
		character_event = { id = risingsun.529 days = 1 } # Setting off
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = greedy
			}
			modifier = {
				factor = 10
				trait = trusting
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_525 # Let's go with the old man!
		
		wealth = -25
		
		character_event = { id = risingsun.538 days = 1 } # Setting off
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = physician
			}
		}
	}
	
	option = {
		name = EVTOPTD_RISINGSUN_525 # Let's go with the veiled woman!
		
		character_event = { id = risingsun.544 days = 1 } # Setting off
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				OR = {
					AND = {
						is_female = no
						NOT = {
							trait = homosexual
						}
					}
					AND = {
						is_female = yes
						trait = homosexual
					}
					NOR = {
						trait = chaste
						trait = celibate
					}
				}
			}
		}
	}
}

# Went with the map - setting off
character_event = {
	id = risingsun.526
	desc = EVTDESC_RISINGSUN_526
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_526 # This had better be a good map...
		
		character_event = { id = risingsun.527 days = 7 random = 7 } # Delay if necessary or go to the oasis
	}
}

# Went with the map - delay and go to the oasis
character_event = {
	id = risingsun.527
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_incapable = no
			}
			narrative_event = { id = risingsun.528 } # The Sword of the Shifting Sands revealed
		}
		else = {
			repeat_event = { id = risingsun.528 days = 180 random = 180 } # Try again later
		}
	}
}

# You arrive at the oasis and find the veiled woman waiting for you
narrative_event = {
	id = risingsun.528
	title = EVTTITLE_RISINGSUN_528
	picture = GFX_evt_duel_scene
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			has_character_flag = met_sotss
		}
		text = EVTDESCA_RISINGSUN_528
	}
	desc = {
		trigger = {
			NOT = {
				has_character_flag = met_sotss
			}
		}
		text = EVTDESCB_RISINGSUN_528
	}
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 21
					female = yes
					culture = maghreb_arabic # Berber
					religion = sunni
					random_traits = no
					attributes = {
						diplomacy = 5
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 6
					}
					trait = brilliant_strategist
					trait = duelist
					trait = lustful
					trait = kind
					trait = fair
				}
				new_character = {
					if = {
						limit = {
							ROOT = {
								is_female = yes
							}
						}
						add_trait = homosexual
					}
					give_nickname = nick_sword_of_the_shifting_sands
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = sword_of_the_shifting_sands
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					#set_character_flag = special_marshal
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_528 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		log = "[Root.GetBestName] is fighting one of the Six!"
		event_target:sword_of_the_shifting_sands = {
			save_event_target_as = combatant_2
		}
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Went with the young boy - setting off
character_event = {
	id = risingsun.529
	desc = EVTDESC_RISINGSUN_529
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_529 # He seems trustworthy!
		
		character_event = { id = risingsun.530 days = 7 random = 7 } # Ambush!
	}
}

# Went with the young boy - he leads you into an ambush
character_event = {
	id = risingsun.530
	desc = EVTDESC_RISINGSUN_530
	picture = GFX_evt_moors
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_530 # Traitor!
		
		random_list = {
			25 = {
				modifier = {
					factor = 0
					NOT = {
						combat_rating = 40
					}
				}
				character_event = { id = risingsun.531 days = 1 } # You easily defeat the bandits
			}
			25 = {
				modifier = {
					factor = 0.1
					NOT = {
						combat_rating = 40
					}
				}
				modifier = {
					factor = 0.1
					combat_rating = 60
				}
				character_event = { id = risingsun.532 days = 1 } # You deafeat the bandits but are wounded
			}
			25 = {
				modifier = {
					factor = 0.1
					combat_rating = 40
				}
				modifier = {
					factor = 0
					combat_rating = 60
				}
				character_event = { id = risingsun.533 days = 1 } # You deafeat the bandits but are maimed
			}
			25 = {
				modifier = {
					factor = 0
					combat_rating = 40
				}
				character_event = { id = risingsun.534 days = 1 } # The bandits kill you
			}
		}
	}
}

# Defeated the bandits - go on alone or return to the city?
character_event = {
	id = risingsun.531
	desc = EVTDESC_RISINGSUN_531
	picture = GFX_evt_moors
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_531 # Go on alone
		
		prestige = 25
		
		random_list = {
			50 = {
				modifier = {
					factor = 0.1
					is_smart_trigger = yes
				}
				character_event = { id = risingsun.535 days = 1 } # You get lost in the desert and die
			}
			50 = {
				modifier = {
					factor = 0.1
					is_dumb_trigger = yes
				}
				character_event = { id = risingsun.536 days = 1 } # You make it to the oasis
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_smart_trigger = yes
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_531 # Fall back and try a different approach
		
		custom_tooltip = {
			text = go_to_the_city
		}
		
		prestige = 25
		
		character_event = { id = risingsun.543 days = 1 } # Buy the map or go home?
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_dumb_trigger = yes
			}
		}
	}
}

# Defeated the bandits, but got wounded - go on alone or return to the city?
character_event = {
	id = risingsun.532
	desc = EVTDESC_RISINGSUN_532
	picture = GFX_evt_moors
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_532 # Go on alone
		
		prestige = 10
		add_trait = wounded
		
		random_list = {
			50 = {
				modifier = {
					factor = 0.1
					is_smart_trigger = yes
				}
				character_event = { id = risingsun.535 days = 1 } # You get lost in the desert and die
			}
			50 = {
				modifier = {
					factor = 0.1
					is_dumb_trigger = yes
				}
				character_event = { id = risingsun.536 days = 1 } # You make it to the oasis
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_smart_trigger = yes
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_532 # Fall back and try a different approach
		
		custom_tooltip = {
			text = go_to_the_city
		}
		
		prestige = 10
		add_trait = wounded
		
		character_event = { id = risingsun.543 days = 1 } # Buy the map or go home?
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_dumb_trigger = yes
			}
		}
	}
}

# Defeated the bandits, but got maimed - go on alone or return to the city?
character_event = {
	id = risingsun.533
	desc = EVTDESC_RISINGSUN_533
	picture = GFX_evt_moors
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_533 # Go on alone
		
		prestige = -10
		add_maimed_trait_effect = yes
		
		random_list = {
			50 = {
				modifier = {
					factor = 0.1
					is_smart_trigger = yes
				}
				character_event = { id = risingsun.535 days = 1 } # You get lost in the desert and die
			}
			50 = {
				modifier = {
					factor = 0.1
					is_dumb_trigger = yes
				}
				character_event = { id = risingsun.536 days = 1 } # You make it to the oasis
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_smart_trigger = yes
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_533 # Fall back and try a different approach
		
		custom_tooltip = {
			text = go_to_the_city
		}
		
		prestige = -10
		add_maimed_trait_effect = yes
		
		character_event = { id = risingsun.543 days = 1 } # Buy the map or go home?
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_dumb_trigger = yes
			}
		}
	}
}

# Died to the bandits
character_event = {
	id = risingsun.534
	desc = EVTDESC_RISINGSUN_534
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_534 # Not like this!
		
		prestige = -50
		
		death = {
			death_reason = death_rabble
		}
	}
}

# Went on alone but got lost - death
character_event = {
	id = risingsun.535
	desc = EVTDESC_RISINGSUN_535
	picture = GFX_evt_sand_desert
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_535 # Not like this!
		
		prestige = -50
		
		death = {
			death_reason = death_desert
		}
	}
}

# Wend on alone - delay or go to the oasis
character_event = {
	id = risingsun.536
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_incapable = no
			}
			narrative_event = { id = risingsun.537 } # The Sword of the Shifting Sands revealed
		}
		else = {
			repeat_event = { id = risingsun.536 days = 180 random = 180 } # Try again later
		}
	}
}

# You arrive at the oasis and find the veiled woman waiting for you
narrative_event = {
	id = risingsun.537
	title = EVTTITLE_RISINGSUN_537
	picture = GFX_evt_duel_scene
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			has_character_flag = met_sotss
		}
		text = EVTDESCA_RISINGSUN_537
	}
	desc = {
		trigger = {
			NOT = {
				has_character_flag = met_sotss
			}
		}
		text = EVTDESCB_RISINGSUN_537
	}
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 21
					female = yes
					culture = maghreb_arabic # Berber
					religion = sunni
					random_traits = no
					attributes = {
						diplomacy = 5
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 6
					}
					trait = brilliant_strategist
					trait = duelist
					trait = lustful
					trait = kind
					trait = fair
				}
				new_character = {
					if = {
						limit = {
							ROOT = {
								is_female = yes
							}
						}
						add_trait = homosexual
					}
					give_nickname = nick_sword_of_the_shifting_sands
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = sword_of_the_shifting_sands
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					#set_character_flag = special_marshal
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_537 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		log = "[Root.GetBestName] is fighting one of the Six!"
		event_target:sword_of_the_shifting_sands = {
			save_event_target_as = combatant_2
		}
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Went with the old man - setting off
character_event = {
	id = risingsun.538
	desc = EVTDESC_RISINGSUN_538
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_538 # With age comes wisdom!
		
		character_event = { id = risingsun.539 days = 7 random = 7 } # The old man dies!
	}
}

# Went with the old man - old man dies - go back or continue?
character_event = {
	id = risingsun.539
	desc = EVTDESC_RISINGSUN_539
	picture = GFX_evt_sand_desert
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_539 # Go on alone
		
		random_list = {
			50 = {
				modifier = {
					factor = 0.1
					is_smart_trigger = yes
				}
				character_event = { id = risingsun.540 days = 1 } # You get lost in the desert and die
			}
			50 = {
				modifier = {
					factor = 0.1
					is_dumb_trigger = yes
				}
				character_event = { id = risingsun.541 days = 1 } # You make it to the oasis
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_smart_trigger = yes
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_539 # Fall back and try a different approach
		
		custom_tooltip = {
			text = go_to_the_city
		}
		
		character_event = { id = risingsun.543 days = 1 } # Buy the map or go home?
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_dumb_trigger = yes
			}
		}
	}
}

# Went on alone but got lost - death
character_event = {
	id = risingsun.540
	desc = EVTDESC_RISINGSUN_540
	picture = GFX_evt_sand_desert
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_540 # Not like this!
		
		prestige = -50
		
		death = {
			death_reason = death_desert
		}
	}
}

# Went on alone - delay or go to the oasis
character_event = {
	id = risingsun.541
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_incapable = no
			}
			narrative_event = { id = risingsun.542 } # The Sword of the Shifting Sands revealed
		}
		else = {
			repeat_event = { id = risingsun.541 days = 180 random = 180 } # Try again later
		}
	}
}

# You arrive at the oasis and find the veiled woman waiting for you
narrative_event = {
	id = risingsun.542
	title = EVTTITLE_RISINGSUN_542
	picture = GFX_evt_duel_scene
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			has_character_flag = met_sotss
		}
		text = EVTDESCA_RISINGSUN_542
	}
	desc = {
		trigger = {
			NOT = {
				has_character_flag = met_sotss
			}
		}
		text = EVTDESCB_RISINGSUN_542
	}
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 21
					female = yes
					culture = maghreb_arabic # Berber
					religion = sunni
					random_traits = no
					attributes = {
						diplomacy = 5
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 6
					}
					trait = brilliant_strategist
					trait = duelist
					trait = lustful
					trait = kind
					trait = fair
				}
				new_character = {
					if = {
						limit = {
							ROOT = {
								is_female = yes
							}
						}
						add_trait = homosexual
					}
					give_nickname = nick_sword_of_the_shifting_sands
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = sword_of_the_shifting_sands
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					#set_character_flag = special_marshal
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_542 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		log = "[Root.GetBestName] is fighting one of the Six!"
		event_target:sword_of_the_shifting_sands = {
			save_event_target_as = combatant_2
		}
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Fell back to the city - get the map or go home?
character_event = {
	id = risingsun.543
	desc = EVTDESC_RISINGSUN_543
	picture = GFX_evt_west_african_ruler
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_543 # I guess I have no choice...
		
		wealth = -500
		
		character_event = { id = risingsun.526 days = 1 } # Setting off
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_543 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Went with the veiled woman - setting off
character_event = {
	id = risingsun.544
	desc = EVTDESC_RISINGSUN_544
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_544 # She seems intriguing!
		
		character_event = { id = risingsun.545 days = 7 random = 7 } # Propositioned
	}
}

# Went with the veiled woman - propositioned
character_event = {
	id = risingsun.545
	desc = EVTDESC_RISINGSUN_545
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				AND = {
					is_female = no
					NOT = {
						trait = homosexual
					}
				}
				AND = {
					is_female = yes
					trait = homosexual
				}
			}
		}
		name = EVTOPTA_RISINGSUN_545 # Don't mind if I do...
		
		set_character_flag = slept_with_sotss
		
		character_event = { id = risingsun.546 days = 1 } # Slept with the veiled woman
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					trait = chaste
					trait = celibate
				}
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				AND = {
					is_female = no
					NOT = {
						trait = homosexual
					}
				}
				AND = {
					is_female = yes
					trait = homosexual
				}
			}
		}
		name = EVTOPTB_RISINGSUN_545 # I'm not interested
		
		character_event = { id = risingsun.547 days = 1 } # Did not sleep with the SotSS
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				AND = {
					is_female = no
					trait = homosexual
				}
				AND = {
					is_female = yes
					NOR = {
						trait = homosexual
					}
				}
			}
		}
		name = EVTOPTC_RISINGSUN_545 # I'm extremely not interested
		
		character_event = { id = risingsun.547 days = 1 } # Did not sleep with the SotSS
	}
}

# Slept with the veiled woman
character_event = {
	id = risingsun.546
	desc = EVTDESC_RISINGSUN_546
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_546 # Onwards!
		
		character_event = { id = risingsun.548 days = 1 } # Delay or go to the oasis
	}
}

# Did not sleep with the veiled woman
character_event = {
	id = risingsun.547
	desc = EVTDESC_RISINGSUN_547
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_547 # Onwards!
		
		character_event = { id = risingsun.548 days = 1 } # Delay or go to the oasis
	}
}

# Delay or go to the oasis
character_event = {
	id = risingsun.548
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_incapable = no
			}
			narrative_event = { id = risingsun.549 } # The Sword of the Shifting Sands revealed
		}
		else = {
			repeat_event = { id = risingsun.548 days = 180 random = 180 } # Try again later
		}
	}
}

# Arrived at the oasis - the veiled woman reveals that she is the SotSS
narrative_event = {
	id = risingsun.549
	desc = EVTDESC_RISINGSUN_549
	title = EVTTITLE_RISINGSUN_549
	picture = GFX_evt_duel_scene
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 21
					female = yes
					culture = maghreb_arabic # Berber
					religion = sunni
					random_traits = no
					attributes = {
						diplomacy = 5
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 6
					}
					trait = brilliant_strategist
					trait = duelist
					trait = lustful
					trait = kind
					trait = fair
				}
				new_character = {
					if = {
						limit = {
							ROOT = {
								is_female = yes
							}
						}
						add_trait = homosexual
					}
					give_nickname = nick_sword_of_the_shifting_sands
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = sword_of_the_shifting_sands
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					#set_character_flag = special_marshal
					if = {
						limit = {
							ROOT = {
								has_character_flag = slept_with_sotss
							}
						}
						save_event_target_as = sex_partner
						ROOT = {
							unprotected_sex_effect_event_target = yes
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_549 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		log = "[Root.GetBestName] is fighting one of the Six!"
		event_target:sword_of_the_shifting_sands = {
			save_event_target_as = combatant_2
		}
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = risingsun.550
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			character_event = { id = risingsun.551 days = 1 } # You won
		}
		else = {
			character_event = { id = risingsun.552 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = risingsun.551
	desc = EVTDESC_RISINGSUN_551
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] won against one of the Six!"
		change_variable = {
			which = rising_sun_challenges_completed
			value = 1
		}
		event_target:sword_of_the_shifting_sands = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_551 # Well fought, and farewell!
		
		event_target:sword_of_the_shifting_sands = {
			leave_court_effect = yes
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					has_character_flag = slept_with_sotss
					trait = cruel
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_551 # I could use a woman like you at my side!
		
		event_target:sword_of_the_shifting_sands = {
			if = {
				limit = {
					has_character_flag = slept_with_sotss
				}
				add_lover = ROOT
			}
			set_character_flag = special_marshal
			set_character_flag = special_rising_sun_character # Prevents her from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # She's one of the challenge characters, so of course she's proven herself...
			join_society = warriors_of_the_rising_sun
			society_rank_up = 1
			move_character = ROOT
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_551 # And this is the price of defeat!
		
		event_target:sword_of_the_shifting_sands = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = cruel
				}
			}
		}
	}
}

# You lost
character_event = {
	id = risingsun.552
	desc = EVTDESC_RISINGSUN_552
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] lost to one of the Six!"
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_552 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_552 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		event_target:sword_of_the_shifting_sands = {
			if = {
				limit = {
					has_dlc = "Jade Dragon"
				}
				if = {
					limit = {
						ROOT = {
							is_chinese_emperor_trigger = yes
						}
					}
					detract_grace_major_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_close_relative = {
								dynasty = PREV
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_medium_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_dynasty_member = {
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_minor_effect = yes
				}
			}
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_the_shifting_sands
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = brave
				}
			}
		}
	}
}

### The Sword of Christ

# You arrive and start asking around
narrative_event = {
	id = risingsun.553
	title = EVTTITLE_RISINGSUN_553
	desc = EVTDESC_RISINGSUN_553
	picture = GFX_evt_prospering_province
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_553 # Time to look around!
		
		if = {
			limit = {
				ai = no
			}
			character_event = { id = risingsun.554 days = 1 random = 1 } # Herald
		}
		else = {
			character_event = { id = risingsun.557 } # Go directly to event selection
		}
	}
}

# Option A - pay a herald to spread the word
character_event = {
	id = risingsun.554
	desc = EVTDESC_RISINGSUN_554
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_554 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = risingsun.558 days = 1 } # Herald departs
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_554 # Maybe later
		
		character_event = { id = risingsun.555 days = 1 random = 1 } # Monks
	}
}

# Option B - monks
character_event = {
	id = risingsun.555
	desc = EVTDESC_RISINGSUN_555
	picture = GFX_evt_monastery_monks
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_555 # Speak with the monks
		
		if = {
			limit = {
				religion_group = christian
			}
			character_event = { id = risingsun.560 days = 1 } # Speak with monks - Christian
		}
		else = {
			character_event = { id = risingsun.561 days = 1 } # Speak with monks - not Christian
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_555 # Maybe later
		
		character_event = { id = risingsun.556 days = 1 random = 1 } # Brothel
	}
}

# Option C - check the brothel
character_event = {
	id = risingsun.556
	desc = EVTDESC_RISINGSUN_556
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_556 # Go inside
		
		character_event = { id = risingsun.563 days = 1 } # Enter the brothel
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_556 # Maybe later
		
		character_event = { id = risingsun.557 days = 1 random = 1 } # Make a choice!
	}
}

# Which option do you pick?
character_event = {
	id = risingsun.557
	desc = EVTDESC_RISINGSUN_557
	picture = GFX_evt_prospering_province
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_557 # The herald
		
		wealth = -500
		
		character_event = { id = risingsun.558 days = 1 } # Herald departs
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_557 # Speak with the monks
		
		if = {
			limit = {
				religion_group = christian
			}
			character_event = { id = risingsun.560 days = 1 } # Speak with monks - Christian
		}
		else = {
			character_event = { id = risingsun.561 days = 1 } # Speak with monks - not Christian
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_557 # Brothel
		
		character_event = { id = risingsun.563 days = 1 } # Enter the brothel
	}
}

# Paid a herald - the herald sets off
character_event = {
	id = risingsun.558
	desc = EVTDESC_RISINGSUN_558
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_558 # He'd better hurry...
		
		character_event = { id = risingsun.559 days = 7 random = 7 } # Herald returns
	}
}

# Wait a while or fire the challenge
character_event = {
	id = risingsun.559
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_incapable = no
			}
			narrative_event = { id = risingsun.570 } # The Sword of Christ arrives
		}
		else = {
			repeat_event = { id = risingsun.559 days = 180 random = 180 } # Try again later
		}
	}
}

# Went to the monks - already Christian, so they help you
character_event = {
	id = risingsun.560
	desc = EVTDESC_RISINGSUN_560
	picture = GFX_evt_monastery_monks
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_560 # You'd better hurry...
		
		character_event = { id = risingsun.559 days = 7 random = 7 } # Time for the duel
	}
}

# Went to the monks - they request conversion in exchange for their help
character_event = {
	id = risingsun.561
	desc = EVTDESC_RISINGSUN_561
	picture = GFX_evt_monastery_monks
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				any_province = {
					has_owner = yes
					religion_group = christian
					NOT = {
						distance = {
							where = event_target:champion_province
							value = 250
						}
					}
				}
			}
			set_character_flag = wotrs_christian_province_found
			random_province = {
				limit = {
					has_owner = yes
					religion_group = christian
					NOT = {
						distance = {
							where = event_target:champion_province
							value = 250
						}
					}
				}
				save_event_target_as = wotrs_christian_province
			}
		}
		else = {
			set_character_flag = wotrs_christian_province_not_found
		}
	}
	
	option = {
		trigger = {
			NOT = {
				trait = zealous
			}
			controls_religion = no
		}
		name = EVTOPTA_RISINGSUN_561 # Fine; I'll convert!
		
		if = {
			limit = {
				has_character_flag = wotrs_christian_province_found
			}
			religion = event_target:wotrs_christian_province
		}
		else = {
			religion = catholic
		}
		
		character_event = { id = risingsun.559 days = 7 random = 7 } # Time for the duel
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = proud
			}
			modifier = {
				factor = 0.1
				NOT = {
					trait = cynical
				}
			}
			modifier = {
				factor = 0.1
				NOT = {
					trait = sympathy_christendom
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_561 # NEVER!
		
		piety = 50
		random = {
			chance = 25
			add_trait = zealous
		}
		
		character_event = { id = risingsun.562 days = 1 } # Go with the herald or go home?
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
}

# You refuse to convert - go with the herald or go home?
character_event = {
	id = risingsun.562
	desc = EVTDESC_RISINGSUN_562
	picture = GFX_evt_monastery_monks
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_562 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = risingsun.558 days = 1 } # Herald departs
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_562 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Brothel - pay a prostitute and ask her
character_event = {
	id = risingsun.563
	desc = EVTDESC_RISINGSUN_563
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_563 # Sounds like a plan!
		
		wealth = -25
		
		character_event = { id = risingsun.564 days = 1 } # So what is the plan exactly?
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					trait = chaste
					trait = celibate
				}
				NAND = {
					is_female = no
					trait = homosexual # It still makes sense in this case!
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_563 # I think not!
		
		character_event = { id = risingsun.562 days = 1 } # Go with the herald or go home?
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					trait = homosexual # Even if you're a male homosexual the other option works
					trait = lustful
				}
			}
		}
	}
}

# Paid a prostitute - just ask her the question or sleep with her first?
character_event = {
	id = risingsun.564
	desc = EVTDESC_RISINGSUN_564
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOR = {
				AND = {
					is_female = no
					trait = homosexual
				}
				AND = {
					is_female = yes
					NOT = {
						trait = homosexual
					}
				}
			}
		}
		
		name = EVTOPTA_RISINGSUN_564 # I'm actually just interested in you answering a question...
		
		random_list = { # Reasonably likely, but you might still have been misinformed
			75 = {
				character_event = { id = risingsun.565 days = 1 } # You get help
			}
			25 = {
				character_event = { id = risingsun.566 days = 1 } # You don't get help
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
				OR = {
					AND = {
						is_female = yes
						trait = homosexual
					}
					AND = {
						is_female = no
						NOT = {
							trait = homosexual
						}
					}
				}
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				AND = {
					is_female = yes
					trait = homosexual
				}
				AND = {
					is_female = no
					NOT = {
						trait = homosexual
					}
				}
			}
		}
		
		if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		if = {
			limit = {
				trait = chaste
			}
		}
		else = {
			random = {
				chance = 25
				add_trait = lustful
			}
		}
		
		name = EVTOPTB_RISINGSUN_564 # Well, I *did* pay her, so...
		
		random_list = { # A bit unlikely, since you are taking advantage of her and she might be reluctant to help even if she knows
			10 = {
				modifier = {
					factor = 0.1
					is_unattractive_trigger = yes
				}
				modifier = {
					factor = 3
					OR = {
						trait = seducer
						trait = seductress
					}
				}
				modifier = {
					factor = 0.1
					trait = cruel
				}
				character_event = { id = risingsun.567 days = 1 } # You get help
			}
			90 = {
				modifier = {
					factor = 0.5
					is_attractive_trigger = yes
				}
				character_event = { id = risingsun.568 days = 1 } # You don't get help
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
				trait = celibate
			}
		}
	}
}

# Asked the question - got help
character_event = {
	id = risingsun.565
	desc = EVTDESC_RISINGSUN_565
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_565 # She'd better hurry...
		
		character_event = { id = risingsun.559 days = 7 random = 7 } # Time for the duel
	}
}

# Asked her - no help - go with the herald or go home?
character_event = {
	id = risingsun.566
	desc = EVTDESC_RISINGSUN_566
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_566 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = risingsun.558 days = 1 } # Herald departs
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_566 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Slept with her and asked - got help
character_event = {
	id = risingsun.567
	desc = EVTDESC_RISINGSUN_567
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random = {
			chance = 15
			character_event = { id = risingsun.569 days = 7 } # Lover's pox
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_567 # She'd better hurry...
		
		character_event = { id = risingsun.559 days = 7 random = 7 } # Time for the duel
	}
}

# Slept with her and asked - no help - go with the herald or go home?
character_event = {
	id = risingsun.568
	desc = EVTDESC_RISINGSUN_568
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		random = {
			chance = 15
			character_event = { id = risingsun.569 days = 7 } # Lover's pox
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_568 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = risingsun.558 days = 1 } # Herald departs
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_568 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Lover's pox
character_event = {
	id = risingsun.569
	desc = EVTDESC_RISINGSUN_569
	picture = GFX_evt_stressed_ruler
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_569 # Um, oops?
		
		prestige = -25
		
		add_trait = lovers_pox
	}
}

# The Sword of Christ arrives
narrative_event = {
	id = risingsun.570
	title = EVTTITLE_RISINGSUN_570
	desc = EVTDESC_RISINGSUN_570
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 35
					female = no
					culture = italian
					religion = catholic
					random_traits = no
					attributes = {
						diplomacy = 9
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 7
					}
					trait = brilliant_strategist
					trait = duelist
					trait = brave
					trait = diligent
					trait = humble
					trait = zealous
				}
				new_character = {
					give_nickname = nick_sword_of_christ
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = sword_of_christ
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					if = {
						limit = {
							has_global_flag = christian_crusades_unlocked
						}
						add_trait = crusader
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_570 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		log = "[Root.GetBestName] is fighting one of the Six!"
		event_target:sword_of_christ = {
			save_event_target_as = combatant_2
		}
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = risingsun.571
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			character_event = { id = risingsun.572 days = 1 } # You won
		}
		else = {
			character_event = { id = risingsun.573 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = risingsun.572
	desc = EVTDESC_RISINGSUN_572
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] won against one of the Six!"
		change_variable = {
			which = rising_sun_challenges_completed
			value = 1
		}
		event_target:sword_of_christ = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_572 # Well fought, and farewell!
		
		event_target:sword_of_christ = {
			leave_court_effect = yes
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				NOT = {
					trait = zealous
				}
				religion = catholic
			}
		}
		name = EVTOPTB_RISINGSUN_572 # I could use a man like you at my side!
		
		event_target:sword_of_christ = {
			add_friend = ROOT
			set_character_flag = special_rising_sun_character # Prevents him from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # He's one of the challenge characters, so of course he's proven herself...
			join_society = warriors_of_the_rising_sun
			society_rank_up = 1
			move_character = ROOT
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_572 # And this is the price of defeat!
		
		event_target:sword_of_christ = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = cruel
				}
			}
		}
	}
}

# You lost
character_event = {
	id = risingsun.573
	desc = EVTDESC_RISINGSUN_573
	picture = GFX_evt_dueling_knights_hf
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] lost to one of the Six!"
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_573 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_573 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		event_target:sword_of_christ = {
			if = {
				limit = {
					has_dlc = "Jade Dragon"
				}
				if = {
					limit = {
						ROOT = {
							is_chinese_emperor_trigger = yes
						}
					}
					detract_grace_major_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_close_relative = {
								dynasty = PREV
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_medium_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_dynasty_member = {
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_minor_effect = yes
				}
			}
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_christ
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = brave
				}
			}
		}
	}
}

### The Sword of Winter

# You arrive and start asking around
narrative_event = {
	id = risingsun.574
	title = EVTTITLE_RISINGSUN_574
	desc = EVTDESC_RISINGSUN_574
	picture = GFX_evt_vikings_arriving_oldgods
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_574 # Time to look around!
		
		character_event = { id = risingsun.575 days = 1 random = 1 } #  You find a guide
	}
}

# You find a guide to take you to the Sword
character_event = {
	id = risingsun.575
	desc = EVTDESC_RISINGSUN_575
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_575 # Take me to her at once!
		
		character_event = { id = risingsun.576 days = 7 random = 7 }
	}
}

# Wait a while or fire the challenge
character_event = {
	id = risingsun.576
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_incapable = no
			}
			narrative_event = { id = risingsun.577 } # Arrived at the Sword of Winter's location
		}
		else = {
			repeat_event = { id = risingsun.576 days = 180 random = 180 } # Try again later
		}
	}
}

# Arrive at the Sword's location - she asks that you prove yourself against her warriors first
narrative_event = {
	id = risingsun.577
	title = EVTTITLE_RISINGSUN_577
	desc = EVTDESC_RISINGSUN_577
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_577 # I will take them all on!
		
		random_list = {
			25 = {
				modifier = {
					factor = 0
					NOT =  {
						combat_rating = 40
					}
				}
				character_event = { id = risingsun.579 days = 1 } # You defeat the warriors easily
			}
			25 = {
				modifier = {
					factor = 0.1
					NOT =  {
						combat_rating = 40
					}
				}
				modifier = {
					factor = 0.1
					combat_rating = 60
				}
				character_event = { id = risingsun.580 days = 1 } # You defeat the warriors, but they wound you
			}
			25 = {
				modifier = {
					factor = 0.1
					combat_rating = 40
				}
				modifier = {
					factor = 0
					combat_rating = 60
				}
				character_event = { id = risingsun.581 days = 1 } # You defeat the warriors, but they maim you
			}
			25 = {
				modifier = {
					factor = 0
					combat_rating = 40
				}
				character_event = { id = risingsun.582 days = 1 } # The warriors kill you
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_577 # Are you too much of a coward to fight me yourself?
		
		narrative_event = { id = risingsun.578 days = 1 } # Go directly to duel
	}
}

# Refused to fight her warriors first - go to actual duel
narrative_event = {
	id = risingsun.578
	title = EVTTITLE_RISINGSUN_578
	desc = EVTDESC_RISINGSUN_578
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 65
					female = yes
					culture = norse
					religion = norse_pagan
					random_traits = no
					attributes = {
						diplomacy = 9
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 7
					}
					trait = brilliant_strategist
					trait = duelist
					trait = brave
					trait = shieldmaiden
					trait = ambitious
					trait = viking
				}
				new_character = {
					give_nickname = nick_sword_of_winter
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = sword_of_winter
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					add_random_tattoo_effect = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_578 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		log = "[Root.GetBestName] is fighting one of the Six!"
		event_target:sword_of_winter = {
			save_event_target_as = combatant_2
		}
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Fought warriors - easy victory
character_event = {
	id = risingsun.579
	desc = EVTDESC_RISINGSUN_579
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_579 # Let's hope you prove more of a challenge!
		
		add_one_duel_experience_modifier = yes
		add_one_duel_experience_modifier = yes
		
		prestige = 25
		
		narrative_event = { id = risingsun.583 days = 1 } # The actual duel
	}
}

# Fought warriors - wounded
character_event = {
	id = risingsun.580
	desc = EVTDESC_RISINGSUN_580
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_580 # They fought well, but not well enough!
		
		add_one_duel_experience_modifier = yes
		add_one_duel_experience_modifier = yes
		
		prestige = 10
		add_trait = wounded
		
		narrative_event = { id = risingsun.583 days = 1 } # The actual duel
	}
}

# Fought warriors - maimed
character_event = {
	id = risingsun.581
	desc = EVTDESC_RISINGSUN_581
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_581 # Well, this isn't looking great...
		
		add_one_duel_experience_modifier = yes
		add_one_duel_experience_modifier = yes
		
		prestige = -10
		add_maimed_trait_effect = yes
		
		narrative_event = { id = risingsun.583 days = 1 } # The actual duel
	}
}

# Fought warriors - killed
character_event = {
	id = risingsun.582
	desc = EVTDESC_RISINGSUN_582
	picture = GFX_evt_bloody_man
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_582 # Not like this!
		
		prestige = -50
		
		death = {
			death_reason = death_duel
		}
	}
}

# Duel againt the Sword of Winter
narrative_event = {
	id = risingsun.583
	title = EVTTITLE_RISINGSUN_583
	desc = EVTDESC_RISINGSUN_583
	picture = GFX_evt_matriarchy_throne_room
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 65
					female = yes
					culture = norse
					religion = norse_pagan
					random_traits = no
					attributes = {
						diplomacy = 9
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 7
					}
					trait = brilliant_strategist
					trait = duelist
					trait = brave
					trait = shieldmaiden
					trait = ambitious
					trait = viking
				}
				new_character = {
					give_nickname = nick_sword_of_winter
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = sword_of_winter
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
					add_random_tattoo_effect = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_583 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		log = "[Root.GetBestName] is fighting one of the Six!"
		event_target:sword_of_winter = {
			save_event_target_as = combatant_2
		}
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = risingsun.584
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			character_event = { id = risingsun.585 days = 1 } # You won
		}
		else = {
			character_event = { id = risingsun.586 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = risingsun.585
	desc = EVTDESC_RISINGSUN_585
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] won against one of the Six!"
		change_variable = {
			which = rising_sun_challenges_completed
			value = 1
		}
		event_target:sword_of_winter = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_585 # Well fought, and farewell!
		
		event_target:sword_of_winter = {
			leave_court_effect = yes
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_585 # I could use a woman like you at my side!
		
		event_target:sword_of_winter = {
			add_friend = ROOT
			set_character_flag = special_marshal
			set_character_flag = special_rising_sun_character # Prevents her from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # She's one of the challenge characters, so of course she's proven herself...
			join_society = warriors_of_the_rising_sun
			society_rank_up = 1
			move_character = ROOT
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_585 # And this is the price of defeat!
		
		event_target:sword_of_winter = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = cruel
				}
			}
		}
	}
}

# You lost
character_event = {
	id = risingsun.586
	desc = EVTDESC_RISINGSUN_586
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] lost to one of the Six!"
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_586 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_586 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		event_target:sword_of_winter = {
			if = {
				limit = {
					has_dlc = "Jade Dragon"
				}
				if = {
					limit = {
						ROOT = {
							is_chinese_emperor_trigger = yes
						}
					}
					detract_grace_major_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_close_relative = {
								dynasty = PREV
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_medium_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_dynasty_member = {
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_minor_effect = yes
				}
			}
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_winter
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = brave
				}
			}
		}
	}
}

### The Sword of the Steppes

# You arrive in the steppes and realize that there's no convenient town
narrative_event = {
	id = risingsun.587
	title = EVTTITLE_RISINGSUN_587
	desc = EVTDESC_RISINGSUN_587
	picture = GFX_evt_nomad_camp
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_587 # I didn't think this through...
		
		character_event = { id = risingsun.588 days = 1 random = 1 } # Spot the rider
	}
}

# Riding around somewhat aimlessly you spot another rider in the distance
character_event = {
	id = risingsun.588
	desc = EVTDESC_RISINGSUN_588
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_588 # I should approach them!
		
		character_event = { id = risingsun.589 days = 1 } # Reach the rider
	}
}

# You discover that the rider was looking for you in particular
character_event = {
	id = risingsun.589
	desc = EVTDESC_RISINGSUN_589
	picture = GFX_evt_rider_adventure
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_589 # Lead on!
		
		character_event = { id = risingsun.590 days = 7 random = 7 } # Go to the Sword of the Steppes or wait
	}
}

# Wait a while or go to the duel
character_event = {
	id = risingsun.590
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_incapable = no
			}
			narrative_event = { id = risingsun.591 } # The Sword of the Steppes
		}
		else = {
			repeat_event = { id = risingsun.590 days = 180 random = 180 } # Try again later
		}
	}
}

# Arrive at the Sword of the Steppes
narrative_event = {
	id = risingsun.591
	title = EVTTITLE_RISINGSUN_591
	desc = EVTDESC_RISINGSUN_591
	picture = GFX_evt_steppe_mercenaries
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 30
					female = no
					culture = turkish
					religion = tengri_pagan
					random_traits = no
					attributes = {
						diplomacy = 9
						martial = 10
						stewardship = 5
						intrigue = 8
						learning = 7
					}
					trait = brilliant_strategist
					trait = duelist
					trait = brave
					trait = falconer
					trait = cruel
				}
				new_character = {
					give_nickname = nick_sword_of_the_steppes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = sword_of_the_steppes
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_591 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		log = "[Root.GetBestName] is fighting one of the Six!"
		event_target:sword_of_the_steppes = {
			save_event_target_as = combatant_2
		}
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = risingsun.592
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			character_event = { id = risingsun.593 days = 1 } # You won
		}
		else = {
			character_event = { id = risingsun.594 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = risingsun.593
	desc = EVTDESC_RISINGSUN_593
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] won against one of the Six!"
		change_variable = {
			which = rising_sun_challenges_completed
			value = 1
		}
		event_target:sword_of_the_steppes = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_593 # Well fought, and farewell!
		
		event_target:sword_of_the_steppes = {
			leave_court_effect = yes
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_593 # I could use a man like you at my side!
		
		event_target:sword_of_the_steppes = {
			add_friend = ROOT
			set_character_flag = special_marshal
			set_character_flag = special_rising_sun_character # Prevents her from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # She's one of the challenge characters, so of course she's proven herself...
			join_society = warriors_of_the_rising_sun
			society_rank_up = 1
			move_character = ROOT
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_593 # And this is the price of defeat!
		
		event_target:sword_of_the_steppes = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = cruel
				}
			}
		}
	}
}

# You lost
character_event = {
	id = risingsun.594
	desc = EVTDESC_RISINGSUN_594
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] lost to one of the Six!"
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_594 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_594 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		event_target:sword_of_the_steppes = {
			if = {
				limit = {
					has_dlc = "Jade Dragon"
				}
				if = {
					limit = {
						ROOT = {
							is_chinese_emperor_trigger = yes
						}
					}
					detract_grace_major_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_close_relative = {
								dynasty = PREV
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_medium_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_dynasty_member = {
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_minor_effect = yes
				}
			}
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_the_steppes
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = brave
				}
			}
		}
	}
}

### The Sword of the Dragon

# You arrive and start asking around
narrative_event = {
	id = risingsun.595
	title = EVTTITLE_RISINGSUN_595
	desc = EVTDESC_RISINGSUN_595
	picture = GFX_evt_china_stable
	border = GFX_event_narrative_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_595 # Let's see how this works...
		
		character_event = { id = risingsun.596 days = 1 random = 1 } # Bribery or bureaucracy?
	}
}

# Bureaucratic process - bribe someone or start filling in forms?
character_event = {
	id = risingsun.596
	desc = EVTDESC_RISINGSUN_596
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_596 # Sounds like a deal!
		
		wealth = -500
		change_society_currency = -25 # Bribery
		
		character_event = { id = risingsun.597 days = 1 } # Bribe accepted
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
			}
			modifier = {
				factor = 0
				is_smart_trigger = yes
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_596 # I'll take the test
		
		character_event = { id = risingsun.599 days = 1 } # The test begins
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_dumb_trigger = yes
				NOT = {
					trait = greedy
				}
			}
		}
	}
}

# You bribed someone
character_event = {
	id = risingsun.597
	desc = EVTDESC_RISINGSUN_597
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_597 # Money solves all problems!
		
		character_event = { id = risingsun.598 days = 7 random = 7 } # Go to the Sword of the Dragon or wait
	}
}

# Wait a while or fire the challenge
character_event = {
	id = risingsun.598
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_incapable = no
			}
			narrative_event = { id = risingsun.607 } # The Sword of the Dragon
		}
		else = {
			repeat_event = { id = risingsun.598 days = 180 random = 180 } # Try again later
		}
	}
}

# Form A - diplomacy
character_event = {
	id = risingsun.599
	desc = EVTDESC_RISINGSUN_599
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_599 # I've got this!
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						diplomacy = 8
					}
				}
				set_character_flag = form_a_good
			}
			50 = {
				modifier = {
					factor = 0
					diplomacy = 16
				}
				set_character_flag = form_a_bad
			}
		}
		
		character_event = { id = risingsun.600 days = 1 } # Next test!
	}
}

# Form B - martial
character_event = {
	id = risingsun.600
	desc = EVTDESC_RISINGSUN_600
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_600 # I've got this!
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						martial = 8
					}
				}
				set_character_flag = form_b_good
			}
			50 = {
				modifier = {
					factor = 0
					martial = 16
				}
				set_character_flag = form_b_bad
			}
		}
		
		character_event = { id = risingsun.601 days = 1 } # Next test!
	}
}

# Form C - stewardship
character_event = {
	id = risingsun.601
	desc = EVTDESC_RISINGSUN_601
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_601 # I've got this!
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						stewardship = 8
					}
				}
				set_character_flag = form_c_good
			}
			50 = {
				modifier = {
					factor = 0
					stewardship = 16
				}
				set_character_flag = form_c_bad
			}
		}
		
		character_event = { id = risingsun.602 days = 1 } # Next test!
	}
}

# Form D - intrigue
character_event = {
	id = risingsun.602
	desc = EVTDESC_RISINGSUN_602
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_602 # I've got this!
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						intrigue = 8
					}
				}
				set_character_flag = form_d_good
			}
			50 = {
				modifier = {
					factor = 0
					intrigue = 16
				}
				set_character_flag = form_d_bad
			}
		}
		
		character_event = { id = risingsun.603 days = 1 } # Next test!
	}
}

# Form E - learning
character_event = {
	id = risingsun.603
	desc = EVTDESC_RISINGSUN_603
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_603 # I've got this!
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						learning = 8
					}
				}
				set_character_flag = form_e_good
			}
			50 = {
				modifier = {
					factor = 0
					learning = 16
				}
				set_character_flag = form_e_bad
			}
		}
		
		character_event = { id = risingsun.604 days = 1 } # Determine the outcome
	}
}

# Determine the outcome
character_event = {
	id = risingsun.604
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			50 = {
				modifier = {
					factor = 0
					has_character_flag = form_a_bad
					has_character_flag = form_b_bad
					has_character_flag = form_c_bad
					has_character_flag = form_d_bad
					has_character_flag = form_e_bad
				}
				modifier = {
					factor = 2
					has_character_flag = form_a_good
				}
				modifier = {
					factor = 2
					has_character_flag = form_b_good
				}
				modifier = {
					factor = 2
					has_character_flag = form_c_good
				}
				modifier = {
					factor = 2
					has_character_flag = form_d_good
				}
				modifier = {
					factor = 2
					has_character_flag = form_e_good
				}
				character_event = { id = risingsun.605 } # You passed
			}
			50 = {
				modifier = {
					factor = 0
					has_character_flag = form_a_good
					has_character_flag = form_b_good
					has_character_flag = form_c_good
					has_character_flag = form_d_good
					has_character_flag = form_e_good
				}
				modifier = {
					factor = 2
					has_character_flag = form_a_bad
				}
				modifier = {
					factor = 2
					has_character_flag = form_b_bad
				}
				modifier = {
					factor = 2
					has_character_flag = form_c_bad
				}
				modifier = {
					factor = 2
					has_character_flag = form_d_bad
				}
				modifier = {
					factor = 2
					has_character_flag = form_e_bad
				}
				character_event = { id = risingsun.606 } # You failed
			}
		}
	}
}

# You fill in the forms correctly and they send for the Sword of the Dragon
character_event = {
	id = risingsun.605
	desc = EVTDESC_RISINGSUN_605
	picture = GFX_evt_chinese_bureaucrat
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_605 # That went quite well!
		
		prestige = 25
		
		character_event = { id = risingsun.598 days = 7 random = 7 } # Delay or go to the duel
	}
}

# You fill in the forms incorrectly - bribe someone or go home?
character_event = {
	id = risingsun.606
	desc = EVTDESC_RISINGSUN_606
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_606 # Sounds like a deal!
		
		wealth = -500
		
		character_event = { id = risingsun.598 days = 7 random = 7 } # Delay or go to the duel
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_606 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# The Sword of the Dragon arrives
narrative_event = {
	id = risingsun.607
	title = EVTTITLE_RISINGSUN_607
	desc = EVTDESC_RISINGSUN_607
	picture = GFX_evt_china_expansionist
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 50
					female = no
					culture = han
					religion = taoist
					random_traits = no
					attributes = {
						diplomacy = 4
						martial = 10
						stewardship = 6
						intrigue = 4
						learning = 10
					}
					trait = brilliant_strategist
					trait = duelist
					trait = eunuch
					trait = scholar
					trait = erudite
				}
				new_character = {
					give_nickname = nick_sword_of_the_dragon
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = sword_of_the_dragon
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_607 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		log = "[Root.GetBestName] is fighting one of the Six!"
		event_target:sword_of_the_dragon = {
			save_event_target_as = combatant_2
		}
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = risingsun.608
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			character_event = { id = risingsun.609 days = 1 } # You won
		}
		else = {
			character_event = { id = risingsun.610 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = risingsun.609
	desc = EVTDESC_RISINGSUN_609
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] won against one of the Six!"
		change_variable = {
			which = rising_sun_challenges_completed
			value = 1
		}
		event_target:sword_of_the_dragon = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_609 # Well fought, and farewell!
		
		event_target:sword_of_the_dragon = {
			leave_court_effect = yes
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_609 # I could use a man like you at my side!
		
		event_target:sword_of_the_dragon = {
			add_friend = ROOT
			set_character_flag = special_marshal
			set_character_flag = special_rising_sun_character # Prevents her from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # She's one of the challenge characters, so of course she's proven herself...
			join_society = warriors_of_the_rising_sun
			society_rank_up = 1
			move_character = ROOT
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_609 # And this is the price of defeat!
		
		event_target:sword_of_the_dragon = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = cruel
				}
			}
		}
	}
}

# You lost
character_event = {
	id = risingsun.610
	desc = EVTDESC_RISINGSUN_610
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] lost to one of the Six!"
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_610 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_610 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		event_target:sword_of_the_dragon = {
			if = {
				limit = {
					has_dlc = "Jade Dragon"
				}
				if = {
					limit = {
						ROOT = {
							is_chinese_emperor_trigger = yes
						}
					}
					detract_grace_major_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_close_relative = {
								dynasty = PREV
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_medium_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_dynasty_member = {
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_minor_effect = yes
				}
			}
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_the_dragon
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = brave
				}
			}
		}
	}
}

### The Sword of Serpents

# You arrive and start asking around
narrative_event = {
	id = risingsun.611
	title = EVTTITLE_RISINGSUN_611
	desc = EVTDESC_RISINGSUN_611
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_611 # I should ask around...
		
		character_event = { id = risingsun.612 days = 1 random = 1 } # Told to go to the ruin
	}
}

# After asking around for a while you're told to seek out a ruin in the jungles
character_event = {
	id = risingsun.612
	desc = EVTDESC_RISINGSUN_612
	picture = GFX_evt_dharmic_pilgrims
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_612 # Off I go, then!
		
		character_event = { id = risingsun.613 days = 7 random = 7 } # Wait or go to the ruin
	}
}

# Wait a while or go to the Sword of Serpents' ruin
character_event = {
	id = risingsun.613
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_incapable = no
			}
			narrative_event = { id = risingsun.614 } # Arriving at the ruin
		}
		else = {
			repeat_event = { id = risingsun.613 days = 180 random = 180 } # Try again later
		}
	}
}

# The Sword of Serpents welcomes you and tells you to make your way past his challenges
narrative_event = {
	id = risingsun.614
	title = EVTTITLE_RISINGSUN_614
	desc = EVTDESC_RISINGSUN_614
	picture = GFX_evt_lunatic
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_614 # If I must...
		
		character_event = { id = risingsun.615 days = 1 } # Cobras
	}
}

# Challenge 1 - cobras
character_event = {
	id = risingsun.615
	desc = EVTDESC_RISINGSUN_615
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_615 # I guess I have to...
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					OR = {
						intrigue = 16
						combat_rating = 60
						is_smart_trigger = yes
					}
				}
				character_event = { id = risingsun.616 days = 1 } # You have died!
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						intrigue = 16
						combat_rating = 20
					}
					is_dumb_trigger = yes
				}
				character_event = { id = risingsun.617 days = 1 } # You get past the challenge!
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_615 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Died to the cobras
character_event = {
	id = risingsun.616
	desc = EVTDESC_RISINGSUN_616
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_616 # This cannot be!
		
		prestige = -50
		
		death = {
			death_reason = death_accident_snakes
		}
	}
}

# Made it past the cobras
character_event = {
	id = risingsun.617
	desc = EVTDESC_RISINGSUN_617
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_617 # Next challenge!
		
		prestige = 25
		
		character_event = { id = risingsun.618 days = 1 }
	}
}

# Challenge 2 - pressure plates
character_event = {
	id = risingsun.618
	desc = EVTDESC_RISINGSUN_618
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_618 # I guess I have to...
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					OR = {
						intrigue = 16
						combat_rating = 60
						is_smart_trigger = yes
					}
				}
				character_event = { id = risingsun.619 days = 1 } # You have died!
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						intrigue = 16
						combat_rating = 20
					}
					is_dumb_trigger = yes
				}
				character_event = { id = risingsun.620 days = 1 } # You get past the challenge!
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_618 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Died to the pressure plates
character_event = {
	id = risingsun.619
	desc = EVTDESC_RISINGSUN_619
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_619 # This cannot be!
		
		prestige = -50
		
		death = {
			death_reason = death_accident
		}
	}
}

# Got past the pressure plates
character_event = {
	id = risingsun.620
	desc = EVTDESC_RISINGSUN_620
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_620 # Next challenge!
		
		prestige = 25
		
		character_event = { id = risingsun.621 days = 1 }
	}
}

# Challenge 3 - labyrinth
character_event = {
	id = risingsun.621
	desc = EVTDESC_RISINGSUN_621
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_621 # I guess I have to...
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					OR = {
						intrigue = 16
						learning = 16
						is_smart_trigger = yes
					}
				}
				character_event = { id = risingsun.622 days = 1 } # You have died!
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						intrigue = 16
						learning = 16
					}
					is_dumb_trigger = yes
				}
				character_event = { id = risingsun.623 days = 1 } # You get past the challenge!
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_621 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Got lost in the labyrinth and died of starvation
character_event = {
	id = risingsun.622
	desc = EVTDESC_RISINGSUN_622
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_622 # This cannot be!
		
		prestige = -50
		
		death = {
			death_reason = death_missing
		}
	}
}

# Got through the labyrinth
character_event = {
	id = risingsun.623
	desc = EVTDESC_RISINGSUN_623
	picture = GFX_evt_cathedral_indian_group
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_623 # Next challenge!
		
		prestige = 25
		
		narrative_event = { id = risingsun.624 days = 1 }
	}
}

# You reach the Sword of Serpents
narrative_event = {
	id = risingsun.624
	title = EVTTITLE_RISINGSUN_624
	desc = EVTDESC_RISINGSUN_624
	picture = GFX_evt_lunatic
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 50
					female = no
					culture = rajput
					religion = hindu
					random_traits = no
					attributes = {
						diplomacy = 4
						martial = 8
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = brilliant_strategist
					trait = duelist
					trait = lunatic
					trait = kshatriya
					trait = paranoid
				}
				new_character = {
					give_nickname = nick_sword_of_serpents
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = sword_of_serpents
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_624 # I challenge you!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		log = "[Root.GetBestName] is fighting one of the Six!"
		event_target:sword_of_serpents = {
			save_event_target_as = combatant_2
		}
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
}

# Check outcome
character_event = {
	id = risingsun.625
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			character_event = { id = risingsun.626 days = 1 } # You won
		}
		else = {
			character_event = { id = risingsun.627 days = 1 } # You lost
		}
	}
}

# You won
character_event = {
	id = risingsun.626
	desc = EVTDESC_RISINGSUN_626
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] won against one of the Six!"
		change_variable = {
			which = rising_sun_challenges_completed
			value = 1
		}
		event_target:sword_of_serpents = {
			set_character_flag = not_the_very_best # Can't get the quest chain
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_626 # Well fought, and farewell!
		
		event_target:sword_of_serpents = {
			leave_court_effect = yes
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_626 # I could use a man like you at my side!
		
		event_target:sword_of_serpents = {
			add_friend = ROOT
			set_character_flag = special_marshal
			set_character_flag = special_rising_sun_character # Prevents her from getting kicked due to wrong religion
			set_character_flag = proved_myself_to_mentor # She's one of the challenge characters, so of course she's proven herself...
			join_society = warriors_of_the_rising_sun
			society_rank_up = 1
			move_character = ROOT
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_626 # And this is the price of defeat!
		
		event_target:sword_of_serpents = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = cruel
				}
			}
		}
	}
}

# You lost
character_event = {
	id = risingsun.627
	desc = EVTDESC_RISINGSUN_627
	picture = GFX_evt_duel_scene
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] lost to one of the Six!"
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_627 # Well fought, and farewell!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		character_event = { id = risingsun.628 days = 180 random = 90 } # Return home
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = brave
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_627 # I'd rather die than live a failure!
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		event_target:sword_of_serpents = {
			if = {
				limit = {
					has_dlc = "Jade Dragon"
				}
				if = {
					limit = {
						ROOT = {
							is_chinese_emperor_trigger = yes
						}
					}
					detract_grace_major_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_close_relative = {
								dynasty = PREV
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_medium_effect = yes
				}
				else_if = {
					limit = {
						ROOT = {
							any_dynasty_member = {
								is_chinese_emperor_trigger = yes
							}
						}
					}
					detract_grace_minor_effect = yes
				}
			}
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:sword_of_serpents
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					trait = brave
				}
			}
		}
	}
}

### Returned home

# You're back home between sub-chains (or after failing)
character_event = {
	id = risingsun.628
	desc = EVTDESC_RISINGSUN_628
	picture = GFX_evt_relaxed_ruler
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_628 # It is good to be home
		
		remove_trait = travelling
		
		if = {
			limit = {
				NOT = {
					has_character_flag = not_the_very_best # Failure
				}
			}
			character_event = { id = risingsun.388 days = 365 random = 365 } # Continue on to the next challenge
		}
		
		clr_character_flag = do_not_disturb
	}
}

### The final opponent - The Unknown Master

# The Unknown Master arrives to challenge you
narrative_event = {
	id = risingsun.629
	title = EVTTITLE_RISINGSUN_629
	desc = EVTDESC_RISINGSUN_629
	picture = GFX_evt_china_expansionist
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		k_papal_state = {
			holder_scope = {
				create_character = {
					age = 80
					female = no
					culture = japanese
					religion = shinto
					random_traits = no
					attributes = {
						diplomacy = 6
						martial = 12
						stewardship = 4
						intrigue = 4
						learning = 6
					}
					trait = brilliant_strategist
					trait = duelist
					trait = brave
					trait = just
					trait = honest
					trait = content
					trait = diligent
				}
				new_character = {
					give_nickname = nick_the_unknown_master
					add_scarred_high_effect = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					# This is a harder challenge than the rest!
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					add_one_duel_experience_modifier = yes
					save_event_target_as = the_unknown_master
					set_character_flag = ai_flag_refuse_concubinage
					set_character_flag = ai_flag_refuse_marriage
					set_character_flag = ai_flag_refuse_conversion
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_629 # We fight to the death!
		
		# Go to Duel
		# Go directly to Duel
		# Do not pass "Go"
		# Do not collect 200 gold
		
		save_event_target_as = combatant_1
		set_character_flag = wotrs_the_very_best_duel
		log = "[Root.GetBestName] is fighting the Unknown Master!"
		event_target:the_unknown_master = {
			save_event_target_as = combatant_2
		}
		character_event = {	id = HFP.10100 } # The duel is fought!
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_629 # I'd rather fail the quest!
		
		custom_tooltip = {
			text = fail_the_quest
		}
		
		if = {
			limit = {
				trait = brave
			}
			remove_trait = brave
		}
		add_trait = craven
		
		prestige = -1000 # You quit at the very end!
		change_society_currency = -1000 # You clearly lack Honor!
		set_character_flag = not_the_very_best # You are a failure!
		
		hidden_tooltip = {
			event_target:the_unknown_master = {
				leave_court_and_die_effect = yes
			}
		}
		
		character_event = { id = risingsun.635} # Fail quest
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		ai_chance = {
			factor = 0 # The AI should fight the last duel, come what may!
		}
	}
}

# Check outcome
character_event = {
	id = risingsun.630
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_character_flag = wotrs_the_very_best_duel_won
			}
			narrative_event = { id = risingsun.631 days = 1 } # You won
		}
		else = {
			narrative_event = { id = risingsun.633 days = 1 } # You lost
		}
	}
}

### You are victorious against the Unknown Master!

# Victory is yours!
narrative_event = {
	id = risingsun.631
	title = EVTTITLE_RISINGSUN_631
	desc = EVTDESC_RISINGSUN_631
	picture = GFX_evt_china_expansionist
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] won against the Unknown Master!"
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_631 # I salute you!
		
		prestige = 500
		
		set_character_flag = i_am_the_very_best
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.632 } # Inform the society
		}
		
		event_target:the_unknown_master = {
			death = {
				death_reason = death_duel
				killer = ROOT
			}
		}
		
		if = { 
			limit = { 
				is_female = no 
			}
			create_bloodline = {
				type = the_very_best_bloodline
			}
		}
		if = { 
			limit = { 
				is_female = yes 
			}
			create_bloodline = {
				type = the_very_best_bloodline
				inheritance = matrilineal
			}
		}
	}
}

# Inform everyone in the WotRS
character_event = {
	id = risingsun.632
	desc = EVTDESC_RISINGSUN_632
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_632 # Impressive!
	}
}

### You have lost against the Unknown Master

# You are defeated!
narrative_event = {
	id = risingsun.633
	title = EVTTITLE_RISINGSUN_633
	desc = EVTDESC_RISINGSUN_633
	picture = GFX_evt_bloody_man
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetBestName] lost to the Unknown Master!"
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_633 # So it ends...
		
		any_society_member = {
			limit = {
				society_member_of = warriors_of_the_rising_sun
				ai = no
			}
			character_event = { id = risingsun.634 } # Inform the society
		}
		
		death = {
			death_reason = death_duel
			killer = event_target:the_unknown_master
		}
		hidden_tooltip = {
			event_target:the_unknown_master = {
				leave_court_and_die_effect = yes
			}
		}
	}
}

### You have failed in your quest!

# Inform others that you failed
character_event = {
	id = risingsun.634
	desc = EVTDESC_RISINGSUN_634
	picture = GFX_evt_china_diplomatic_incident
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_634 # Pathetic!
	}
}

# You failed (hidden)
character_event = {
	id = risingsun.635
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				any_rival = {
					character = ROOT
				}
			}
			save_event_target_as = rising_sun_leader
		}
		
		event_target:rising_sun_leader = {
			character_event = { id = risingsun.636 }
		}
	}
}

# Ping other member
character_event = {
	id = risingsun.636
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			letter_event = { id = risingsun.637 }
		}
	}
}

# You failed!
letter_event = {
	id = risingsun.637
	desc = EVTDESC_RISINGSUN_637
	border = GFX_event_letter_frame_war

	portrait = event_target:rising_sun_leader
	
	is_triggered_only = yes

	trigger = {
		has_quest = quest_the_very_best
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_637 # Dishonor on me!
		
		prestige = -500
		set_character_flag = not_the_very_best # You can't go on this quest again!

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}
		clr_quest = quest_the_very_best
		detract_society_currency_major_effect = yes
	}
}

##### Misc

# Make the AI join
#(fired from on_five_year_pulse)
# Root = Character
# From = Society
character_event = {
    id = risingsun.638
    picture = GFX_evt_battle
    border = GFX_event_normal_frame_war
    hide_window = yes
    only_independent = yes
    has_dlc = "Holy Fury"
    
    is_triggered_only = yes

    trigger = {
        is_alive = yes
    }

    immediate = {
        #Make others join a warrior lodge...
        any_realm_lord = {
            limit = {
                ai = yes
				OR = {
					religion = shinto
					AND = {
						OR = {
							religion = buddhist
							religion_group = christian
						}
						culture_group = japonic
					}
					religion = ryukyuan_pagan
					religion = ryukyuan_pagan_reformed
				}
                is_in_society = no
                has_secret_religion_trait_trigger = no
                is_adult = yes
                NOT = { block_general_event_trigger = yes }
				higher_tier_than = BARON
				NOT = { character = ROOT }
            }
            score_value = { #Prioritizes selecting some kind of warrior...
                value = 10
                warrior_recruit_score = yes
            }
            count = 2
			if = {
				limit = {
					NOR = {
						religion = ryukyuan_pagan
						religion = ryukyuan_pagan_reformed
					}
				}
				character_event = { id = risingsun.639 }
			}
			else = {
				random = {
					chance = 25
					character_event = { id = risingsun.639 }
				}
			}
        }
		any_realm_character = {
            limit = {
                ai = yes
				OR = {
					religion = shinto
					AND = {
						OR = {
							religion = buddhist
							religion_group = christian
						}
						culture_group = japonic
					}
					religion = ryukyuan_pagan
					religion = ryukyuan_pagan_reformed
				}
                is_in_society = no
                has_secret_religion_trait_trigger = no
                is_adult = yes
                NOT = { block_general_event_trigger = yes }
            }
            score_value = { #Prioritizes selecting some kind of warrior...
                value = 10
                warrior_recruit_score = yes
            }
            count = 1
			if = {
				limit = {
					NOR = {
						religion = ryukyuan_pagan
						religion = ryukyuan_pagan_reformed
					}
				}
				character_event = { id = risingsun.639 }
			}
			else = {
				random = {
					chance = 25
					character_event = { id = risingsun.639 }
				}
			}
        }

        #And maybe join yourself?
        if = {
            limit = {
                ai = yes
				OR = {
					religion = shinto
					AND = {
						OR = {
							religion = buddhist
							religion_group = christian
						}
						culture_group = japonic
					}
					religion = ryukyuan_pagan
					religion = ryukyuan_pagan_reformed
				}
                is_in_society = no
                has_secret_religion_trait_trigger = no
                is_adult = yes
                NOT = { block_general_event_trigger = yes }
            }
            log = "[Root.GetTitledName] joins the Warriors of the Rising Sun!"
			if = {
				limit = {
					NOR = {
						religion = ryukyuan_pagan
						religion = ryukyuan_pagan_reformed
					}
				}
				character_event = { id = risingsun.639 }
			}
			else = {
				random = {
					chance = 25
					character_event = { id = risingsun.639 }
				}
			}
        }
    }
}

### Follow-up: If was eligible, AI joins WotRS
character_event = {
    id = risingsun.639
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        join_society = warriors_of_the_rising_sun

        if = {
            limit = {
                NOT = {
                    society = {
                        any_society_member = {
                            is_society_grandmaster = yes
                        }
                    }
                }
            }
            log = "[This.Society.GetName] is a society without a grandmaster and I am trying to be set as the grandmaster."
            set_society_grandmaster = yes # Set character as Grand Master (if there was none)
            add_society_currency_massive_effect = yes
        }
    }
}

### Get a new Student mission completion

# You succeeded (hidden)
character_event = {
	id = risingsun.640
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				NOR = {
					any_rival = {
						character = ROOT
					}
					ROOT = {
						quest_target = {
							character = PREV
						}
					}
				}
			}
			save_event_target_as = rising_sun_leader
		}
		
		event_target:rising_sun_leader = {
			character_event = { id = risingsun.641 }
		}
	}
}

# Ping congratulating person
character_event = {
	id = risingsun.641
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			letter_event = { id = risingsun.642 }
		}
	}
}

# You succeeded!
letter_event = {
	id = risingsun.642
	border = GFX_event_letter_frame_war
	desc = EVTDESC_RISINGSUN_642

	portrait = event_target:rising_sun_leader
	
	is_triggered_only = yes

	trigger = {
		has_quest = quest_rising_sun_get_student
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_642 # I will train them to the best of my ability!
		
		clr_quest = quest_rising_sun_get_student
		add_society_currency_medium_effect = yes
	}
}

### Build Castle mission completion

# You succeeded (hidden)
character_event = {
	id = risingsun.643
	is_triggered_only = yes
	hide_window = yes
	
	trigger = {
		has_quest = quest_rising_sun_castle_construction
		FROM = {
			holding_type = castle
		}
		NOT = { has_character_flag = rising_sun_castle_construction_ongoing } # Flag to avoid doubling of letter events when finishing two buildings at the same time
	}
	
	immediate = {
		set_character_flag = rising_sun_castle_construction_ongoing
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				NOR = {
					any_rival = {
						character = ROOT
					}
					ROOT = {
						quest_target = {
							character = PREV
						}
					}
				}
			}
			save_event_target_as = rising_sun_leader
		}
		
		event_target:rising_sun_leader = {
			character_event = { id = risingsun.644 }
		}
	}
}


# Ping
character_event = {
	id = risingsun.644
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			letter_event = { id = risingsun.645 }
		}
	}
}

letter_event = {
	id = risingsun.645
	desc = EVTDESC_RISINGSUN_645
	border = GFX_event_letter_frame_war

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_645
		clr_quest = quest_rising_sun_castle_construction
		add_society_currency_major_effect = yes		
	}
	after = {
		clr_character_flag = rising_sun_castle_construction_ongoing
	}
}