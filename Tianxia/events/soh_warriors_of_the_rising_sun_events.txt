# Warriors of the Rising Sun events

namespace = risingsun

##### Society joining

# From on_character_ask_to_join_society - TODO
character_event = {
    id = risingsun.1
	hide_window = yes
	
    is_triggered_only = yes
	
    trigger = {
    	FROM = { leader = { society_member_of = warriors_of_the_rising_sun } }
    }
    immediate = {
    	FROM = { leader = { character_event = { id = risingsun.2 } } }
    }
}

# Ping event
character_event = {
    id = risingsun.2
	hide_window = yes
	
    is_triggered_only = yes
	
    immediate = {
    	FROM = { letter_event = { id = risingsun.3 } }
    }
}

# Welcome letter
letter_event = {
    id = risingsun.3
    desc = EVTDESC_RISINGSUN_3
    border = GFX_event_letter_frame_war

    is_triggered_only = yes
	
	immediate = { set_character_flag = society_join_block }
	
    option = { 
        name = EVTOPTA_RISINGSUN_3

        join_society = warriors_of_the_rising_sun
		
		clr_character_flag = society_join_block
    }
}

##### Missions

### Mission assignment

# Mission assignment event (hidden)
character_event = {
	id = risingsun.4
	hide_window = yes

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		is_society_grandmaster = no
		has_any_quest = no
		NOT = { is_inaccessible_trigger = yes }
		NOT = { has_character_modifier = quest_cooldown_timer }
	}

	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				NOT = {
					any_rival = {
						character = ROOT
					}
				}
			}
			save_event_target_as = rising_sun_leader
		}
		if = {
			limit = { is_landed = yes }
			capital_scope = { save_event_target_as = home_capital } #For some distance checks...
		}
		
		random_list = {
			1000 = {
				modifier = {
					factor = 0.05
					ai = yes # Better for the AI to not always have a mentor
				}
				modifier = {
					factor = 0
					NAND = {
						society_rank == 1
						NOR = {
							any_opinion_modifier_target = {
								reverse_has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_mentor
								}
							}
							has_character_flag = proved_myself_to_mentor
						}
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.5 } # Find a mentor
				}
			}
			20 = {
				modifier = {
					factor = 0
					society_rank == 1
				}
				modifier = {
					factor = 0.1
					society_rank >= 3
				}
				modifier = {
					factor = 0
					NOT = {
						any_society_member = {
							is_in_society = warriors_of_the_rising_sun
							society_rank == 1
							NOR = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_mentor
									}
								}
								has_character_flag = proved_myself_to_mentor
							}
						}
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.7 } # Take on a(nother) student
				}
			}
			20 = {
				modifier = {
					factor = 0
					NOT = {
						society = {
							any_society_member = {
								is_in_society = warriors_of_the_rising_sun
								ai = yes
								age = 16
								NOT = { character = ROOT }
								is_inaccessible_or_incapable_trigger = no
								NOT = { has_character_modifier = bedridden_illness }
								NOT = { has_character_modifier = severe_illness }
								NOT = { has_character_flag = call_to_legend_active }
								NOT = {
									has_opinion_modifier = {
										modifier = opinion_rising_sun_student
										who = ROOT
									}
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.9 } # Duel someone
				}
			}
			5 = {
				modifier = {
					factor = 0
					NOT = {
					society = {
							any_society_member = {
								is_in_society = warriors_of_the_rising_sun
								ai = yes
								age = 16
								NOT = { character = ROOT }
								is_inaccessible_or_incapable_trigger = no
								NOT = { has_character_modifier = bedridden_illness }
								NOT = { has_character_modifier = severe_illness }
								NOT = { has_character_flag = call_to_legend_active }
								NOT = {
									has_opinion_modifier = {
										modifier = opinion_rising_sun_student
										who = ROOT
									}
								}
								any_rival = {
									character = ROOT
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.14 } # Duel a rival - to the death!
				}
			}
			20 = {
				modifier = {
					factor = 0
					NOT = {
						society_currency >= 100 # If you can't declare the war, don't bother
					}
				}
				modifier = {
					factor = 0
					NAND = {
						war = no
						is_playable = yes
						OR = {
							any_independent_ruler = { # Either an independent ruler
								is_tributary = no
								war = no
								NOT = {
									any_realm_lord = {
										character = ROOT
									}
								}
								any_realm_title = {
									location = {
										OR = {
											AND = { #Either you can travel via water to them...
												is_coastal = yes
												can_naval_path_to = { target = event_target:home_capital distance < 1000 }
											}
											AND = {
												#Or they are accessible via land...
												event_target:home_capital = { is_coastal = no }
												can_land_path_to = { target = event_target:home_capital distance < 1000 }
											}
											AND = { #Or not a coastal place...
												is_coastal = no
												can_land_path_to = { target = event_target:home_capital distance < 1000 }
											}
										}
									}
								}
								NOT = {
									has_truce = ROOT
								}
								# Not too uneven a fight
								relative_power = {
									who = ROOT
									power = 0.9 # A slight advantage is permissible
								}
								NOT = {
									relative_power = {
										who = ROOT
										power = 2.0 # And we don't want a far too powerful target
									}
								}
								OR = {
									NOT = {
										is_in_society = warriors_of_the_rising_sun
									}
									ROOT = {
										root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
									}
								}
							}
							AND = {
								independent = no
								liege = { # Or a vassal of our liege
									any_vassal = {
										war = no
										any_realm_title = {
											location = {
												OR = {
													AND = { #Either you can travel via water to them...
														is_coastal = yes
														can_naval_path_to = { target = event_target:home_capital distance < 1000 }
													}
													AND = {
														#Or they are accessible via land...
														event_target:home_capital = { is_coastal = no }
														can_land_path_to = { target = event_target:home_capital distance < 1000 }
													}
													AND = { #Or not a coastal place...
														is_coastal = no
														can_land_path_to = { target = event_target:home_capital distance < 1000 }
													}
												}
											}
										}
										NOT = {
											has_truce = ROOT
										}
										# Not too uneven a fight
										relative_power = {
											who = ROOT
											power = 0.9 # A slight advantage is permissible
										}
										NOT = {
											relative_power = {
												who = ROOT
												power = 2.0 # And we don't want a far too powerful target
											}
										}
										OR = {
											NOT = {
												is_in_society = warriors_of_the_rising_sun
											}
											ROOT = {
												root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
											}
										}
									}
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.16 } # Win a War of Honor
				}
			}
			5 = {
				modifier = {
					factor = 0
					NOT = {
						society_currency >= 100 # If you can't declare the war, don't bother
					}
				}
				modifier = {
					factor = 0
					NAND = {
						war = no
						is_playable = yes
						any_rival = {
							is_playable = yes
							OR = {
								same_liege = ROOT
								AND = {
									independent = yes
									is_tributary = no
									NOT = {
										any_realm_lord = {
											character = ROOT
										}
									}
								}
							}
							NOT = {
								has_truce = ROOT
							}
							any_realm_title = {
								location = {
									OR = {
										AND = { #Either you can travel via water to them...
											is_coastal = yes
											can_naval_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = {
											#Or they are accessible via land...
											event_target:home_capital = { is_coastal = no }
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = { #Or not a coastal place...
											is_coastal = no
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
									}
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.18 } # Win a War of Honor - against a rival
				}
			}
			10 = {
				modifier = {
					factor = 0
					NAND = {
						is_playable = yes
						any_demesne_province = {
							num_of_empty_holdings = 1
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.20 } # Build a castle
				}
			}
			10 = {
				modifier = {
					factor = 0
					NAND = {
						has_dlc = "Way of Life"
						is_playable = yes
						OR = {
							has_focus = focus_business # Warriors don't trade!
							has_focus = focus_seduction # Dishonest
							has_focus = focus_intrigue # Dishonest
							has_focus = focus_scholarship # Scholarship is not important
							has_focus = focus_theology # Religious matters are not to be the priority
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.22 } # Switch to the War focus
				}
			}
			1 = {
				modifier = {
					factor = 0
					war = yes
				}
				modifier = {
					factor = 0
					NAND = {
						is_playable = yes
						society_rank >= 2
						NOT = {
							any_society_member = {
								is_in_society = warriors_of_the_rising_sun
								has_quest = quest_the_very_best
							}
						}
						combat_rating = 50 # Anything else would be far too low
					}
				}
				modifier = {
					factor = 0
					any_owned_bloodline = {
						has_bloodline_flag = the_very_best
					}
				}
				modifier = {
					factor = 0.1
					ai = yes
				}
				modifier = {
					factor = 0.1
					NOT = {
						combat_rating = 75
					}
				}
				modifier = {
					factor = 0.25
					NOT = {
						combat_rating = 100
					}
				}
				modifier = {
					factor = 0
					has_character_flag = not_the_very_best # Already failed
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.25 } # Become the very best (like no one ever was!)
				}
			}
			75 = { # AI bypasses missions at times
				trigger = {
					ai = yes
				}
				random_list = {
					70 = {
						modifier = {
							factor = 0.9
							society_influence >= 30
						}
						modifier = {
							factor = 0.9
							society_influence >= 40
						}
						modifier = {
							factor = 0.8
							society_influence >= 50
						}
						modifier = {
							factor = 0.7
							society_influence >= 70
						}
						modifier = {
							factor = 0.6
							society_influence >= 80
						}
						modifier = {
							factor = 0.5
							society_influence >= 90
						}
						add_mission_succeed_influence_effect = yes
					}
					30 = {
						add_mission_fail_influence_effect = yes
					}
				}
			}
			200 = {
				trigger = {
					ai = yes
				}
				# Do nothing
			}
		}
	}
}

### Mission - get a mentor

# Ping
character_event = {
	id = risingsun.5
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.6 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.6
	desc = EVTDESC_RISINGSUN_6

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes

	trigger = {
		society_rank == 1
		NOR = {
			any_opinion_modifier_target = {
				reverse_has_opinion_modifier = {
					who = ROOT
					modifier = opinion_rising_sun_mentor
				}
			}
			has_character_flag = proved_myself_to_mentor
		}
	}

	option = {
		name = ACCEPT
		set_quest = quest_rising_sun_get_mentor
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Mission = get a student

# Ping
character_event = {
	id = risingsun.7
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.8 }
		}
	}
}

society_quest_event = {
	id = risingsun.8
	desc = EVTDESC_RISINGSUN_8

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes

	trigger = {
		society_rank >= 2
		NOR = {
			any_opinion_modifier_target = {
				reverse_has_opinion_modifier = {
					who = ROOT
					modifier = opinion_rising_sun_mentor
				}
			}
			has_character_flag = proved_myself_to_mentor
		}
	}

	option = {
		name = ACCEPT
		set_quest = quest_rising_sun_get_student
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Duel someone

# Ping
character_event = {
	id = risingsun.9
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.10 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.10
	desc = EVTDESC_RISINGSUN_10

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes

	trigger = {
		any_society_member = {
			is_in_society = warriors_of_the_rising_sun
			ai = yes
			age = 16
			NOT = { character = ROOT }
			is_inaccessible_or_incapable_trigger = no
			NOT = { has_character_modifier = bedridden_illness }
			NOT = { has_character_modifier = severe_illness }
			NOT = { has_character_flag = call_to_legend_active }
			NOT = {
				has_opinion_modifier = {
					modifier = opinion_rising_sun_student
					who = ROOT
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = { #best case (someone within diplo-range, not sick, not seriously injured already)...
				any_society_member = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					is_maimed_trigger = no
					has_medium_disability_trigger = no #limits the character to some extent
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
					is_within_diplo_range = ROOT
				}
			}

			any_society_member = {
				limit = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					is_maimed_trigger = no
					has_medium_disability_trigger = no #limits the character to some extent
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
					is_within_diplo_range = ROOT
				}
				# TODO: Change these preferred_limits to score_values
				preferred_limit = {
					NOT = {
						any_rival = {
							character = ROOT
						}
					}
				}
				score_value = { #Prioritizes selecting some kind of warrior...
	                value = 10
	                matching_soldier_score = yes
	            }
	            save_event_target_as = duel_target
			}
			
		}
		else_if = { #second best choice (same, but outside of diplo-range)...
			limit = {
				any_society_member = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					has_medium_disability_trigger = no #limits the character to some extent
					is_maimed_trigger = no #has a maimed trait
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
				}
			}
			any_society_member = {
				limit = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					has_medium_disability_trigger = no #limits the character to some extent
					is_maimed_trigger = no #has a maimed trait
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
				}
				# TODO: Change these preferred_limits to score_values
				preferred_limit = {
					NOT = {
						any_rival = {
							character = ROOT
						}
					}
				}
				score_value = { #Prioritizes selecting some kind of warrior...
	                value = 10
	                matching_soldier_score = yes
	            }
	            save_event_target_as = duel_target
			}
		}
		else_if = { #third best option (now also injured or old folks allowed)...
			limit = {
				any_society_member = {
					same_society_as = ROOT
	                ai = yes
					age = 16
	                NOT = { character = ROOT }
		            is_inaccessible_or_incapable_trigger = no
	                NOT = { has_character_modifier = bedridden_illness }
		            NOT = { has_character_modifier = severe_illness }
		            NOT = { has_character_flag = call_to_legend_active }
	            }
			}
			any_society_member = {
				limit = {
					same_society_as = ROOT
					ai = yes
					age = 16
	                NOT = { character = ROOT }
		            is_inaccessible_or_incapable_trigger = no
	                NOT = { has_character_modifier = bedridden_illness }
		            NOT = { has_character_modifier = severe_illness }
		            NOT = { has_character_flag = call_to_legend_active }
				}
				# TODO: Change these preferred_limits to score_values
				preferred_limit = {
					NOT = {
						any_rival = {
							character = ROOT
						}
					}
				}
				score_value = { #Prioritizes selecting some kind of warrior...
	                value = 10
	                matching_soldier_score = yes
	            }
	            save_event_target_as = duel_target
			}
		}
	}
	
	quest_target = event_target:duel_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:duel_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_duel_honor
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}


# Hidden Cleanup event for (prematurely) dead quest targets...
character_event = {
	id = risingsun.11
	hide_window = yes
	has_dlc = "Holy Fury"

	is_triggered_only = yes # TODO

	trigger = { 
		is_quest_target = yes
	}

	immediate = {
		any_quester_targeting_this = {
			limit = {
				OR = {
					has_quest = quest_rising_sun_duel_honor
					has_quest = quest_rising_sun_duel_deadly
				}
			}
			character_event = { id = risingsun.12 days = 15 } # Clears duel mission
		}
		any_quester_targeting_this = {
			limit = {
				OR = {
					has_quest = quest_rising_sun_war_of_honor
					has_quest = quest_rising_sun_war_of_honor_rival
				}
			}
			character_event = { id = risingsun.12 days = 15 } # Clears war mission
		}
	}
}

# Notification "I have failed my mission duel <dead character>..."
character_event = {
    id = risingsun.12
    picture = GFX_evt_battle
    border = GFX_event_normal_frame_war
    has_dlc = "Holy Fury"

    is_triggered_only = yes

    desc = {
    	text = EVTDESC_RISINGSUN_12_DUEL
    	trigger = {
			OR = {
				has_quest = quest_rising_sun_duel_honor
				has_quest = quest_rising_sun_duel_deadly
			}
			NOT = { has_quest = quest_rising_sun_war_of_honor	}
			NOT = { has_quest = quest_rising_sun_war_of_honor_rival	}
    	}
    }
    desc = {
    	text = EVTDESC_RISINGSUN_12_WAR
    	trigger = {
			OR = {
				has_quest = quest_rising_sun_war_of_honor
				has_quest = quest_rising_sun_war_of_honor_rival
			}
			NOT = { has_quest = quest_rising_sun_duel_honor	}
			NOT = { has_quest = quest_rising_sun_duel_deadly	}
    	}
    }
    trigger = {
    	OR = {
	    	has_quest = quest_rising_sun_duel_honor
	    	has_quest = quest_rising_sun_duel_deadly
	    	has_quest = quest_rising_sun_war_of_honor
	    	has_quest = quest_rising_sun_war_of_honor_rival
    	}
    }

    notification = yes

    option = { #Alas
        name = ALAS
        character_event = { id = risingsun.13 days = 1 } # ACTUAL cleanup
    }
}

character_event = { #*Actual* clean up, because the event above can't handle all the instant stuff
    id = risingsun.13
    hide_window = yes
    is_triggered_only = yes
    immediate = {
    	if = {
        	limit = {
				OR = {
					has_quest = quest_rising_sun_duel_honor
					has_quest = quest_rising_sun_duel_deadly
				}
        	}
        	add_character_modifier = {
				name = quest_cooldown_timer
				hidden = yes
				days = 1000
			}
        }

        clr_quest = { id = quest_rising_sun_duel_honor failure = yes }
        clr_quest = { id = quest_rising_sun_duel_deadly failure = yes }
        clr_character_flag = deadly_duel@FROM	
    }
}

### Duel a rival - to the death!

# Ping
character_event = {
	id = risingsun.14
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.15 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.15
	desc = EVTDESC_RISINGSUN_15

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		society = {
			any_society_member = {
				is_in_society = warriors_of_the_rising_sun
				ai = yes
				age = 16
				NOT = { character = ROOT }
				is_inaccessible_or_incapable_trigger = no
				NOT = { has_character_modifier = bedridden_illness }
				NOT = { has_character_modifier = severe_illness }
				NOT = { has_character_flag = call_to_legend_active }
				NOT = {
					has_opinion_modifier = {
						modifier = opinion_rising_sun_student
						who = ROOT
					}
				}
				any_rival = {
					character = ROOT
				}
			}
		}
	}
	
	immediate = {
		any_rival = {
			limit = {
				is_inaccessible_or_incapable_trigger = no
				NOT = { has_character_modifier = bedridden_illness }
				NOT = { has_character_modifier = severe_illness }
				is_adult = yes
				ai = yes
				ROOT = { capital_scope = { distance = { where = PREV distance < 1000 } } }
			}
			# TODO: Change these preferred_limits to score_values
			preferred_limit = {
				is_in_society = warriors_of_the_rising_sun
			}
			score_value = { #Prioritizes selecting some kind of character you wouldn't get along with...
				value = 10
				potential_rival_score = yes
			}
			score_value = { #Extra weight for characters you've encountered before...
				value = 10
				disliked_target_selection_score = yes
			}
			save_event_target_as = duel_target
			break = yes
		}
	}
	
	quest_target = event_target:duel_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:duel_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_duel_deadly
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Win a War of Honor

# Ping
character_event = {
	id = risingsun.16
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.17 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.17
	desc = EVTDESC_RISINGSUN_17

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		war = no
		is_playable = yes
		OR = {
			any_independent_ruler = { # Either an independent ruler
				is_tributary = no
				war = no
				any_realm_title = {
					location = {
						OR = {
							AND = { #Either you can travel via water to them...
								is_coastal = yes
								can_naval_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = {
								#Or they are accessible via land...
								event_target:home_capital = { is_coastal = no }
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = { #Or not a coastal place...
								is_coastal = no
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
						}
					}
				}
				NOT = {
					has_truce = ROOT
				}
				# Not too uneven a fight
				relative_power = {
					who = ROOT
					power = 0.9 # A slight advantage is permissible
				}
				NOT = {
					relative_power = {
						who = ROOT
						power = 2.0 # And we don't want a far too powerful target
					}
				}
				OR = {
					NOT = {
						is_in_society = warriors_of_the_rising_sun
					}
					ROOT = {
						root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
					}
				}
			}
			AND = {
				independent = no
				liege = { # Or a vassal of our liege
					any_vassal = {
						war = no
						any_realm_title = {
							location = {
								OR = {
									AND = { #Either you can travel via water to them...
										is_coastal = yes
										can_naval_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = {
										#Or they are accessible via land...
										event_target:home_capital = { is_coastal = no }
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = { #Or not a coastal place...
										is_coastal = no
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
								}
							}
						}
						NOT = {
							has_truce = ROOT
						}
						# Not too uneven a fight
						relative_power = {
							who = ROOT
							power = 0.9 # A slight advantage is permissible
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 2.0 # And we don't want a far too powerful target
							}
						}
						OR = {
							NOT = {
								is_in_society = warriors_of_the_rising_sun
							}
							ROOT = {
								root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
							}
						}
					}
				}
			}
		}
	}

	immediate = {
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						any_independent_ruler = { # Either an independent ruler
							is_tributary = no
							war = no
							NOT = {
								any_realm_lord = {
									character = ROOT
								}
							}
							any_realm_title = {
								location = {
									OR = {
										AND = { #Either you can travel via water to them...
											is_coastal = yes
											can_naval_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = {
											#Or they are accessible via land...
											event_target:home_capital = { is_coastal = no }
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = { #Or not a coastal place...
											is_coastal = no
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
									}
								}
							}
							NOT = {
								has_truce = ROOT
							}
							# Not too uneven a fight
							relative_power = {
								who = ROOT
								power = 0.9 # A slight advantage is permissible
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 2.0 # And we don't want a far too powerful target
								}
							}
							OR = {
								NOT = {
									is_in_society = warriors_of_the_rising_sun
								}
								ROOT = {
									root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
								}
							}
						}
					}
				}
				any_independent_ruler = { # Either an independent ruler
					limit = {
						is_tributary = no
						war = no
						NOT = {
							any_realm_lord = {
								character = ROOT
							}
						}
						any_realm_title = {
							location = {
								OR = {
									AND = { #Either you can travel via water to them...
										is_coastal = yes
										can_naval_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = {
										#Or they are accessible via land...
										event_target:home_capital = { is_coastal = no }
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = { #Or not a coastal place...
										is_coastal = no
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
								}
							}
						}
						NOT = {
							has_truce = ROOT
						}
						# Not too uneven a fight
						relative_power = {
							who = ROOT
							power = 0.9 # A slight advantage is permissible
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 2.0 # And we don't want a far too powerful target
							}
						}
						OR = {
							NOT = {
								is_in_society = warriors_of_the_rising_sun
							}
							ROOT = {
								root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
							}
						}
					}
					# TODO: Change these preferred_limits to score_values
					preferred_limit = {
						relative_power = {
							who = ROOT
							power = 0.9
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 1.2
							}
						}
					}
					preferred_limit = {
						relative_power = {
							who = ROOT
							power = 1.2
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 1.5
							}
						}
					}
					preferred_limit = {
						relative_power = {
							who = ROOT
							power = 1.5
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 1.8
							}
						}
					}
					save_event_target_as = war_target
				}
			}
			50 = {
				modifier = {
					factor = 0
					independent = yes
				}
				modifier = {
					factor = 0
					NOT = {
						liege = { # Or a vassal of our liege
							any_vassal = {
								war = no
								any_realm_title = {
									location = {
										OR = {
											AND = { #Either you can travel via water to them...
												is_coastal = yes
												can_naval_path_to = { target = event_target:home_capital distance < 1000 }
											}
											AND = {
												#Or they are accessible via land...
												event_target:home_capital = { is_coastal = no }
												can_land_path_to = { target = event_target:home_capital distance < 1000 }
											}
											AND = { #Or not a coastal place...
												is_coastal = no
												can_land_path_to = { target = event_target:home_capital distance < 1000 }
											}
										}
									}
								}
								NOT = {
									has_truce = ROOT
								}
								# Not too uneven a fight
								relative_power = {
									who = ROOT
									power = 0.9 # A slight advantage is permissible
								}
								NOT = {
									relative_power = {
										who = ROOT
										power = 2.0 # And we don't want a far too powerful target
									}
								}
								OR = {
									NOT = {
										is_in_society = warriors_of_the_rising_sun
									}
									ROOT = {
										root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
									}
								}
							}
						}
					}
				}
				liege = { # Or a vassal of our liege
					any_vassal = {
						limit = {
							war = no
							any_realm_title = {
								location = {
									OR = {
										AND = { #Either you can travel via water to them...
											is_coastal = yes
											can_naval_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = {
											#Or they are accessible via land...
											event_target:home_capital = { is_coastal = no }
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = { #Or not a coastal place...
											is_coastal = no
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
									}
								}
							}
							NOT = {
								has_truce = ROOT
							}
							# Not too uneven a fight
							relative_power = {
								who = ROOT
								power = 0.9 # A slight advantage is permissible
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 2.0 # And we don't want a far too powerful target
								}
							}
							OR = {
								NOT = {
									is_in_society = warriors_of_the_rising_sun
								}
								ROOT = {
									root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
								}
							}
						}
						# TODO: Change these preferred_limits to score_values
						preferred_limit = {
							relative_power = {
								who = ROOT
								power = 0.9
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 1.2
								}
							}
						}
						preferred_limit = {
							relative_power = {
								who = ROOT
								power = 1.2
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 1.5
								}
							}
						}
						preferred_limit = {
							relative_power = {
								who = ROOT
								power = 1.5
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 1.8
								}
							}
						}
						save_event_target_as = war_target
					}
				}
			}
		}
	}
	
	quest_target = event_target:war_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:war_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_war_of_honor
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Win a War of Honor - against a rival

# Ping
character_event = {
	id = risingsun.18
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.19 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.19
	desc = EVTDESC_RISINGSUN_19

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		is_playable = yes
		any_rival = {
			is_playable = yes
			OR = {
				same_liege = ROOT
				AND = {
					is_tributary = no
					independent = yes
					NOT = {
						any_realm_lord = {
							character = ROOT
						}
					}
				}
			}
			NOT = {
				has_truce = ROOT
			}
			any_realm_title = {
				location = {
					OR = {
						AND = { #Either you can travel via water to them...
							is_coastal = yes
							can_naval_path_to = { target = event_target:home_capital distance < 1000 }
						}
						AND = {
							#Or they are accessible via land...
							event_target:home_capital = { is_coastal = no }
							can_land_path_to = { target = event_target:home_capital distance < 1000 }
						}
						AND = { #Or not a coastal place...
							is_coastal = no
							can_land_path_to = { target = event_target:home_capital distance < 1000 }
						}
					}
				}
			}
		}
	}
	
	immediate = {
		any_rival = {
			limit = {
				is_playable = yes
				OR = {
					same_liege = ROOT
					AND = {
						independent = yes
						NOT = {
							any_realm_lord = {
								character = ROOT
							}
						}
					}
				}
				NOT = {
					has_truce = ROOT
				}
				any_realm_title = {
					location = {
						OR = {
							AND = { #Either you can travel via water to them...
								is_coastal = yes
								can_naval_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = {
								#Or they are accessible via land...
								event_target:home_capital = { is_coastal = no }
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = { #Or not a coastal place...
								is_coastal = no
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
						}
					}
				}
			}
			# TODO: Change these preferred_limits to score_values
			preferred_limit = {
				is_in_society = warriors_of_the_rising_sun
				relative_power = {
					who = ROOT
					power = 0.8
				}
				NOT = {
					relative_power = {
						who = ROOT
						power = 1.2
					}
				}
			}
			preferred_limit = {
				is_in_society = warriors_of_the_rising_sun
				relative_power = {
					who = ROOT
					power = 0.75
				}
				NOT = {
					relative_power = {
						who = ROOT
						power = 1.5
					}
				}
			}
			preferred_limit = {
				is_in_society = warriors_of_the_rising_sun
				relative_power = {
					who = ROOT
					power = 0.5
				}
				NOT = {
					relative_power = {
						who = ROOT
						power = 2
					}
				}
			}
			preferred_limit = {
				is_in_society = warriors_of_the_rising_sun
			}
			score_value = { #Prioritizes selecting some kind of character you wouldn't get along with...
				value = 10
				potential_rival_score = yes
			}
			score_value = { #Extra weight for characters you've encountered before...
				value = 10
				disliked_target_selection_score = yes
			}
			save_event_target_as = war_target
			break = yes
		}
	}
	
	quest_target = event_target:war_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:war_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_war_of_honor_rival
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Build a castle

# Ping
character_event = {
	id = risingsun.20
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.21 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.21
	desc = EVTDESC_RISINGSUN_21
	border = GFX_event_letter_frame_war

	is_triggered_only = yes


	option = {
		name = ACCEPT
		set_quest = quest_rising_sun_castle_construction
	}
	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Switch to the War focus

# Ping
character_event = {
	id = risingsun.22
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.23 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.23
	desc = EVTDESC_RISINGSUN_23
	border = GFX_event_letter_frame_war

	is_triggered_only = yes

	quest_target = ROOT

	option = {
		name = ACCEPT
		ROOT = {
			set_quest_target = {
				id = quest_rising_sun_war_focus
				holder = ROOT
			}
		}
	}
	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
	
	after = {
		hidden_effect = { #For the one who instantly selected the focus, bypassing the mission-trigger
			if = {
				limit = { has_focus = focus_war }
				character_event = { id = risingsun.24 days = 1 }
			}
		}
	}
}

#on_focus_selected: Changing to War focus.
character_event = {
	id = risingsun.24
	desc = EVTDESC_RISINGSUN_24
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_quest = quest_rising_sun_war_focus
		has_focus = focus_war
	}

	option = {
		name = EVOPTA_RISING_SUN_24
		clr_quest = quest_rising_sun_war_focus
		add_society_currency_minor_effect = yes
	}
}

### Prove yourself as the very best (like no one ever was!)

# Ping
character_event = {
	id = risingsun.25
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.26 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.26
	desc = EVTDESC_RISINGSUN_26
	border = GFX_event_letter_frame_war

	is_triggered_only = yes

	option = {
		name = ACCEPT
		ROOT = {
			set_quest_target = {
				id = quest_rising_sun_the_very_best
				holder = ROOT
			}
		}
	}
	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### War of Honor mission success/failure

# You succeeded (hidden)
character_event = {
	id = risingsun.27
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				NOR = {
					any_rival = {
						character = ROOT
					}
					ROOT = {
						quest_target = {
							character = PREV
						}
					}
				}
			}
			save_event_target_as = rising_sun_leader
		}
		
		event_target:rising_sun_leader = {
			character_event = { id = risingsun.28 }
		}
	}
}

# Ping congratulating person
character_event = {
	id = risingsun.28
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			letter_event = { id = risingsun.29 }
		}
	}
}

# You succeeded!
letter_event = {
	id = risingsun.29
	border = GFX_event_letter_frame_war

	portrait = event_target:rising_sun_leader
	
	is_triggered_only = yes

	trigger = {
		OR = {
			has_quest = quest_rising_sun_war_of_honor
			has_quest = quest_rising_sun_war_of_honor_rival
		}
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor
		}
		text = EVTDESC_RISINGSUN_29A
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor_rival
		}
		text = EVTDESC_RISINGSUN_29B
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_29 # I proved my honor!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor
			}
			clr_quest = quest_rising_sun_war_of_honor
			add_society_currency_major_effect = yes
		}
		else_if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor_rival
			}
			clr_quest = quest_rising_sun_war_of_rival
			add_society_currency_major_effect = yes
		}
	}
}

# You failed (hidden)
character_event = {
	id = risingsun.30
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				NOR = {
					any_rival = {
						character = ROOT
					}
					ROOT = {
						quest_target = {
							character = PREV
						}
					}
				}
			}
			save_event_target_as = rising_sun_leader
		}
		
		event_target:rising_sun_leader = {
			character_event = { id = risingsun.31 }
		}
	}
}

# Ping congratulating person
character_event = {
	id = risingsun.31
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			letter_event = { id = risingsun.32 }
		}
	}
}

# You succeeded!
letter_event = {
	id = risingsun.32
	border = GFX_event_letter_frame_war

	portrait = event_target:rising_sun_leader
	
	is_triggered_only = yes

	trigger = {
		OR = {
			has_quest = quest_rising_sun_war_of_honor
			has_quest = quest_rising_sun_war_of_honor_rival
		}
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor
		}
		text = EVTDESC_RISINGSUN_32A
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor_rival
		}
		text = EVTDESC_RISINGSUN_32B
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_32 # Dishonor on me!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor
			}
			clr_quest = quest_rising_sun_war_of_honor
			detract_society_currency_major_effect = yes
		}
		else_if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor_rival
			}
			clr_quest = quest_rising_sun_war_of_rival
			detract_society_currency_major_effect = yes
		}
	}
}

##### Brothers in Arms

# Called to arms
letter_event = {
	id = risingsun.33
	desc = EVTDESC_RISINGSUN_33
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_33 # Of course I'll join!
		
		change_society_currency = 100
		
		join_attacker_wars = FROM
		join_defender_wars = FROM
		
		FROMFROM = {
			letter_event = { id = risingsun.34 }
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_33 # I don't think so!
		
		change_society_currency = -500
		
		FROMFROM = {
			letter_event = { id = risingsun.35 }
		}
	}
}

# FROM accepted CtA
letter_event = {
	id = risingsun.34
	desc = EVTDESC_RISINGSUN_34
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_34 # Good to hear!
		
		opinion = {
			who = FROM
			modifier = opinion_accepted_rising_sun_cta
		}
	}
}

# FROM refused CtA
letter_event = {
	id = risingsun.35
	desc = EVTDESC_RISINGSUN_35
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_35 # I will remember this!
		
		opinion = {
			who = FROM
			modifier = opinion_refused_rising_sun_cta
		}
	}
}

##### Mentor events

### Approaching a possible mentor

# Mentor approached
letter_event = {
	id = risingsun.36
	desc = EVTDESC_RISINGSUN_36
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_36 # Sure; I'll teach you!
		
		opinion = {
			who = FROMFROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROMFROM
			modifier = opinion_rising_sun_mentor
		}
		FROMFROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		
		FROMFROM = {
			letter_event = { id = risingsun.37 days = 1 } # FROMFROM got a mentor
		}
		FROMFROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			clr_quest = quest_rising_sun_get_student
			add_society_currency_medium_effect = yes
		}
		
		change_society_currency = 50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 10
				FROMFROM = {
					any_friend = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 10
				FROMFROM = {
					any_lover = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 5
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.1
				society_rank == 3
			}
			modifier = {
				factor = 0.01
				society_rank == 4
			}
			modifier = {
				factor = 0.001
				trait = greedy
			}
			modifier = {
				factor = 0.001
				trait = proud
			}
			modifier = {
				factor = 0.001
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 0.1
				has_any_opinion_modifier = opinion_rising_sun_student
			}
			modifier = {
				factor = 5
				has_quest = quest_rising_sun_get_student
			}
			modifier = {
				factor = 0.1
				trait = slothful
			}
			modifier = {
				factor = 2
				trait = diligent
			}
			modifier = {
				factor = 0.1
				is_female = no
				FROMFROM = {
					is_female = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_36 # Show me what you've got!
		
		FROMFROM = {
			letter_event = { id = risingsun.38 days = 1 } # FROMFROM is asked to show their skill
		}
		
		change_society_currency = 25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.5
				society_rank == 3
			}
			modifier = {
				factor = 0.1
				society_rank == 4
			}
			modifier = {
				factor = 0.001
				trait = greedy
			}
			modifier = {
				factor = 0.001
				trait = proud
			}
			modifier = {
				factor = 0.001
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 5
				has_any_opinion_modifier = opinion_rising_sun_student
			}
			modifier = {
				factor = 10
				has_quest = quest_rising_sun_get_student
			}
			modifier = {
				factor = 0.01
				trait = slothful
			}
			modifier = {
				factor = 10
				trait = diligent
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				NOT = {
					has_dlc = "Conclave"
				}
				is_landed = no
				holds_favor_on = FROMFROM
			}
		}
		
		name = EVTOPTC_RISINGSUN_36 # Some gold would be nice...
		
		FROMFROM = {
			letter_event = { id = risingsun.39 days = 1 } # FROMFROM is asked to pay
		}
		
		change_society_currency = -50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.5
				society_rank == 3
			}
			modifier = {
				factor = 0.1
				society_rank == 4
			}
			modifier = {
				factor = 10
				trait = greedy
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 5
				trait = slothful
			}
			modifier = {
				factor = 0.2
				trait = diligent
			}
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			is_landed = yes
			NOT = {
				holds_favor_on = FROMFROM
			}
		}
		
		name = EVTOPTD_RISINGSUN_36 # A Favor would be nice...
		
		FROMFROM = {
			letter_event = { id = risingsun.40 days = 1 } # FROMFROM is asked for a Favor
		}
		
		change_society_currency = -50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.5
				society_rank == 3
			}
			modifier = {
				factor = 0.1
				society_rank == 4
			}
			modifier = {
				factor = 10
				trait = greedy
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 5
				trait = slothful
			}
			modifier = {
				factor = 0.2
				trait = diligent
			}
		}
	}
	
	option = {
		name = EVTOPTE_RISINGSUN_36 # Teach YOU? HA!
		
		FROMFROM = {
			letter_event = { id = risingsun.41 days = 1 } # FROMFROM is told to get lost
		}
		
		change_society_currency = -100
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				FROMFROM = {
					any_friend = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 0.01
				FROMFROM = {
					any_lover = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 0.1
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 0.1
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.1
				society_rank == 2
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 0.001
				trait = kind
			}
			modifier = {
				factor = 10
				trait = cruel
			}
			modifier = {
				factor = 2
				has_any_opinion_modifier = opinion_rising_sun_student
			}
			modifier = {
				factor = 0.1
				has_quest = quest_rising_sun_get_student
			}
			modifier = {
				factor = 10
				trait = slothful
			}
		}
	}
}

# Mentor accepted right away
letter_event = {
	id = risingsun.37
	desc = EVTDESC_RISINGSUN_37
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_37 # Yay!
		
		clr_quest = quest_rising_sun_get_mentor
		add_society_currency_minor_effect = yes
	}
}

# Mentor set a challenge - show me what you've got!
letter_event = {
	id = risingsun.38
	desc = EVTDESC_RISINGSUN_38
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_38 # But of course!
		
		hidden_tooltip = {
			random_list = {
				1 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = 20
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = 50
						}
					}
					FROM = {
						character_event = { id = risingsun.42 days = 1 } # Did incredibly well
					}
				}
				29 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = 5
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = 20
							}
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = 10
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = 20
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.43 days = 1 } # Did good
					}
				}
				40 = {
					FROM = {
						character_event = { id = risingsun.44 days = 1 } # Did okay
					}
				}
				29 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = -5
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = -20
							}
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = -10
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = -20
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.45 days = 1 } # Did poorly
					}
				}
				1 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = -20
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = -50
						}
					}
					FROM = {
						character_event = { id = risingsun.46 days = 1 } # Did incredibly poorly
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_38 # I don't think so!
		
		change_society_currency = -50
		
		FROM = {
			character_event = { id = risingsun.47 days = 1 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mentor demanded a bribe - money (scaled by tier)
letter_event = {
	id = risingsun.39
	desc = EVTDESC_RISINGSUN_39
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_39 # But of course!
		
		if = {
			limit = {
				OR = {
					tier = emperor
					any_close_relative = {
						dynasty = ROOT
						tier = emperor
					}
				}
			}
			wealth = -250
			FROM = {
				wealth = 250
			}
		}
		else_if = {
			limit = {
				OR = {
					tier = king
					any_close_relative = {
						dynasty = ROOT
						tier = king
					}
				}
			}
			wealth = -100
			FROM = {
				wealth = 100
			}
		}
		else_if = {
			limit = {
				OR = {
					tier = duke
					any_close_relative = {
						dynasty = ROOT
						tier = duke
					}
				}
			}
			wealth = -50
			FROM = {
				wealth = 50
			}
		}
		else_if = {
			limit = {
				OR = {
					tier = count
					any_close_relative = {
						dynasty = ROOT
						tier = count
					}
				}
			}
			wealth = -25
			FROM = {
				wealth = 25
			}
		}
		else = {
			wealth = -10
			FROM = {
				wealth = 10
			}
		}
		
		FROM = {
			letter_event = { id = risingsun.63 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_39 # I don't think so!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.64 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = charitable
			}
		}
	}
}

# Mentor demanded a bribe - Favor (only with Conclave and no held Favor by them)
letter_event = {
	id = risingsun.40
	desc = EVTDESC_RISINGSUN_40
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_40 # But of course!
		
		FROM = {
			add_favor = ROOT
		}
		
		FROM = {
			letter_event = { id = risingsun.65 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = proud
					trait = ambitious
					trait = paranoid
					trait = envious
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_40 # I don't think so!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.66 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = humble
					trait = content
				}
			}
		}
	}
}

# Mentor refused right away
letter_event = {
	id = risingsun.41
	desc = EVTDESC_RISINGSUN_41
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_41 # I will remember this!
		
		prestige = -25
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Show me what you've got - incredibly good student
character_event = {
	id = risingsun.42
	desc = EVTDESC_RISINGSUN_42
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				society_rank >= 2
				NOR = {
					any_rival = {
						character = ROOT
					}
					any_rival = {
						character = FROM
					}
				}
				combat_rating_diff = {
					who = ROOT
					value = 25
				}
			}
			save_event_target_as = better_mentor
		}
	}
	
	option = {
		trigger = {
			event_target:better_mentor = {
				always = yes
			}
		}
		name = EVTOPTA_RISINGSUN_42 # I cannot teach you much; you should try [other member]!
		
		change_society_currency = 100
		
		FROM = {
			character_event = { id = risingsun.48 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = proud
			}
			modifier = {
				factor = 10
				event_target:better_mentor = {
					OR = {
						any_friend = {
							character = ROOT
						}
						any_lover = {
							character = ROOT
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_42 # I'll teach you!
		
		change_society_currency = 50
		
		FROM = {
			letter_event = { id = risingsun.59 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_42 # You're no good!
		
		change_society_currency = -100
		
		FROM = {
			letter_event = { id = risingsun.61 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					trait = cruel
					trait = envious
				}
			}
			modifier = {
				factor = 0.01
				trait = honest
			}
		}
	}
}

# Show me what you've got - good student
character_event = {
	id = risingsun.43
	desc = EVTDESC_RISINGSUN_43
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	
	option = {
		name = EVTOPTA_RISINGSUN_43 # I'll teach you!
		
		change_society_currency = 50
		
		FROM = {
			letter_event = { id = risingsun.59 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_43 # You're no good!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.61 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					trait = cruel
					trait = envious
				}
			}
			modifier = {
				factor = 0.01
				trait = honest
			}
		}
	}
}

# Show me what you've got - average student
character_event = {
	id = risingsun.44
	desc = EVTDESC_RISINGSUN_44
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_44 # I'll teach you!
		
		change_society_currency = 25
		
		FROM = {
			letter_event = { id = risingsun.60 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_44 # You're no good!
		
		FROM = {
			letter_event = { id = risingsun.62 }
		}
		
		change_society_currency = -25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOR = {
					trait = cruel
					trait = envious
				}
			}
		}
	}
}

# Show me what you've got - poor student
character_event = {
	id = risingsun.45
	desc = EVTDESC_RISINGSUN_45
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_45 # I'll teach you!
		
		change_society_currency = 25
		
		FROM = {
			letter_event = { id = risingsun.60 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_45 # You're no good!
		
		FROM = {
			letter_event = { id = risingsun.62 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.5
				NOR = {
					trait = cruel
					trait = envious
				}
			}
		}
	}
}

# Show me what you've got - unimpressive student
character_event = {
	id = risingsun.46
	desc = EVTDESC_RISINGSUN_46
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_46 # I'll teach you!
		
		FROM = {
			letter_event = { id = risingsun.60 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		change_society_currency = 25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = {
					trait = humble
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_46 # You're no good!
		
		FROM = {
			letter_event = { id = risingsun.62 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				OR = {
					trait = kind
					trait = humble
				}
			}
		}
	}
}

# Student refused to show off - inform mentor
character_event = {
	id = risingsun.47
	desc = EVTDESC_RISINGSUN_47
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_47 # Then get lost!
		
		change_society_currency = 25
	}
}

# Mentor said you were too good - suggested another mentor
character_event = {
	id = risingsun.48
	desc = EVTDESC_RISINGSUN_48
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_48 # Let's ask!
		
		event_target:better_mentor = {
			character_event = { id = risingsun.52 days = 1 }
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_49 # No, I want YOU!
		
		FROM = {
			character_event = { id = risingsun.49 days = 1 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Student insisted - take them on?
character_event = {
	id = risingsun.49
	desc = EVTDESC_RISINGSUN_49
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_48 # Fine!
		
		FROM = {
			letter_event = { id = risingsun.50 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		change_society_currency = 25
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_49 # Not happening!
		
		change_society_currency = -25
		
		FROM = {
			letter_event = { id = risingsun.51 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mentor accepted
letter_event = {
	id = risingsun.50
	desc = EVTDESC_RISINGSUN_50
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_50 # Yay!
		
		change_society_currency = 25
	}
}

# Mentor refused
letter_event = {
	id = risingsun.51
	desc = EVTDESC_RISINGSUN_51
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_51 # I will remember this!
		
		change_society_currency = -25
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Other mentor approached - exceptional student
character_event = {
	id = risingsun.52
	desc = EVTDESC_RISINGSUN_52
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_52 # Sure!
		
		change_society_currency = 50
		
		FROM = {
			letter_event = { id = risingsun.53 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_52 # Nope!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.55 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Other mentor accepted - student
letter_event = {
	id = risingsun.53
	desc = EVTDESC_RISINGSUN_53
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_51 # Yay!
		
		change_society_currency = 50
		
		FROMFROMFROM = {
			letter_event = { id = risingsun.54 }
		}
	}
}

# Other mentor accepted - mentor
letter_event = {
	id = risingsun.54
	desc = EVTDESC_RISINGSUN_54
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_54 # Yay!
		
		change_society_currency = 25
	}
}

# Other mentor refused - student
letter_event = {
	id = risingsun.55
	desc = EVTDESC_RISINGSUN_55
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_55 # I will remember this!
		
		change_society_currency = -25
		
		FROMFROMFROM = {
			character_event = { id = risingsun.56 days = 1 }
		}
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Other mentor refused - mentor
letter_event = {
	id = risingsun.56
	desc = EVTDESC_RISINGSUN_56
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_56 # Fine!
		
		change_society_currency = 25
		
		FROM = {
			letter_event = { id = risingsun.57 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_56 # Not happening!
		
		change_society_currency = -25
		
		FROM = {
			letter_event = { id = risingsun.58 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Old mentor took you on
letter_event = {
	id = risingsun.57
	desc = EVTDESC_RISINGSUN_57
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_57 # Yay!
		
		change_society_currency = 25
	}
}

# Old mentor did not take you on
letter_event = {
	id = risingsun.58
	desc = EVTDESC_RISINGSUN_58
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_58 # I will remember this!
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Good or better - mentor accepted
letter_event = {
	id = risingsun.59
	desc = EVTDESC_RISINGSUN_59
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_59 # Yay!
		
		change_society_currency = 25
	}
}

# Average or worse - mentor accepted
letter_event = {
	id = risingsun.60
	desc = EVTDESC_RISINGSUN_60
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_60 # Yay!
	}
}

# Good or better - mentor refused
letter_event = {
	id = risingsun.61
	desc = EVTDESC_RISINGSUN_61
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_61 # I will remember this!
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Average or worse - mentor refused
letter_event = {
	id = risingsun.62
	desc = EVTDESC_RISINGSUN_62
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_62 # I will remember this!
		
		change_society_currency = -25
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Mentor got money
letter_event = {
	id = risingsun.63
	desc = EVTDESC_RISINGSUN_63
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_63 # A deal is a deal...
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
}

# Mentor did NOT get money
letter_event = {
	id = risingsun.64
	desc = EVTDESC_RISINGSUN_64
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_64 # Then get lost!
	}
}

# Mentor got Favor
letter_event = {
	id = risingsun.65
	desc = EVTDESC_RISINGSUN_65
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_65 # A deal is a deal...
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
}

# Mentor did NOT get Favor
letter_event = {
	id = risingsun.66
	desc = EVTDESC_RISINGSUN_66
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_66 # Then get lost!
	}
}

# Ping the new student
character_event = {
	id = risingsun.67
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			any_opinion_modifier_target = {
				limit = {
					has_opinion_modifier = {
						who = FROM
						modifier = opinion_rising_sun_mentor
					}
					NOT = {
						character = ROOT
					}
				}
				letter_event = { id = risingsun.68 days = 1 }
			}
		}
	}
}

# Inform existing students of the new student
letter_event = {
	id = risingsun.68
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_68A
	}
	
	desc = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_68C
	}
	
	desc = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		text = EVTDESC_RISINGSUN_68B
	}
	
	option = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTA_RISINGSUN_68 # That's great!
		
		FROM = {
			letter_event = { id = risingsun.69 days = 1 random = 7 }
		}
	}
	
	option = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTB_RISINGSUN_68 # I see...
		
		FROM = {
			letter_event = { id = risingsun.69 days = 1 random = 7 }
		}
	}
	
	option = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		
		name = EVTOPTC_RISINGSUN_68 # Well, that's no good!
		
		FROM = {
			letter_event = { id = risingsun.69 days = 1 random = 7 }
		}
	}
}

# Inform new student of existing students
letter_event = {
	id = risingsun.69
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_69A
	}
	
	desc = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_69C
	}
	
	desc = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		text = EVTDESC_RISINGSUN_69B
	}
	
	option = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTA_RISINGSUN_69 # I agree!
	}
	
	option = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTB_RISINGSUN_69 # Good to know!
	}
	
	option = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		
		name = EVTOPTC_RISINGSUN_69 # I'm not thrilled about this either...
	}
}

### Recruiting a possible student

# Student approached
letter_event = {
	id = risingsun.70
	desc = EVTDESC_RISINGSUN_70
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_70 # Sure!
		
		FROMFROM = {
			letter_event = { id = risingsun.71 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				FROMFROM = {
					is_female = yes
				}
				is_female = no
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_70 # Nah!
		
		FROMFROM = {
			letter_event = { id = risingsun.72 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				FROMFROM = {
					society_rank >= 3
				}
			}
			modifier = {
				factor = 0.01
				FROMFROM = {
					society_rank == 4
				}
			}
		}
	}
}

# Student accepted
letter_event = {
	id = risingsun.71
	desc = EVTDESC_RISINGSUN_71
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_71 # Yay!
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		hidden_tooltip = {
			set_variable = {
				which = rising_sun_student
				value = 0
			}
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
			character_event = { id = risingsun.74 days = 60 random = 60 } # Event selection
		}
	}
}

# Student refused
letter_event = {
	id = risingsun.72
	desc = EVTDESC_RISINGSUN_72
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_72 # Then get lost!
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

### Student-mentor interactions

# Ping student
character_event = {
	id = risingsun.73
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = risingsun.74}
		}
	}
}

# Ping mentor
character_event = {
	id = risingsun.74
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = risingsun.75}
		}
	}
}

# Select a student-mentor, student-student, other mentor, or other mentor's student event to fire
character_event = {
	id = risingsun.75
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				# If either party is incapable, inaccessible, etc., try again later
				OR = {
					is_inaccessible_or_incapable_trigger = yes
					FROM = {
						is_inaccessible_or_incapable_trigger = yes
					}
				}
			}
			FROM = {
				character_event = { id = risingsun.74 days = 30 }
			}
		}
		else = {
			change_variable = {
				which = rising_sun_student
				value = 1
			}
			random_list = {
				# Mentor-student
				5 = {
					# Sword practice
					FROM = {
						character_event = { id = risingsun.76 }
					}
				}
				5 = {
					# Bow practice
					FROM = {
						character_event = { id = risingsun.78 }
					}
				}
				5 = {
					# Spear practice
					FROM = {
						character_event = { id = risingsun.80 }
					}
				}
				5 = {
					# Riding practice
					FROM = {
						character_event = { id = risingsun.82 }
					}
				}
				5 = {
					# Mounted archery practice
					FROM = {
						character_event = { id = risingsun.84 }
					}
				}
				5 = {
					# Mounted swordsmanship practice
					FROM = {
						character_event = { id = risingsun.86 }
					}
				}
				5 = {
					# Mounted spear practice
					FROM = {
						character_event = { id = risingsun.88 }
					}
				}
				5 = {
					# Unarmed combat
					FROM = {
						character_event = { id = risingsun.90 }
					}
				}
				5 = {
					# Law and crime
					modifier = {
						factor = 0
						FROM = {
							trait = arbitrary
						}
					}
					FROM = {
						character_event = { id = risingsun.92 }
					}
				}
				5 = {
					# Foreign religions
					modifier = {
						factor = 0
						NAND = {
							FROM = {
								OR = {
									religion = buddhist
									religion = shinto
								}
								NOR = {
									trait = sympathy_christendom
									trait = sympathy_islam
									trait = sympathy_judaism
									trait = sympathy_pagans
									trait = sympathy_zoroastrianism
								}
							}
							ROOT = {
								OR = {
									religion = buddhist
									religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.95 }
					}
				}
				5 = {
					# Foreign religions - mentor has foreign religion
					modifier = {
						factor = 0
						NAND = {
							FROM = {
								NOR = {
									religion = buddhist
									religion = shinto
								}
							}
							ROOT = {
								OR = {
									religion = buddhist
									religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.97 }
					}
				}
				5 = {
					# Foreign religions - student has foreign religion
					modifier = {
						factor = 0
						NAND = {
							FROM = {
								OR = {
									religion = buddhist
									religion = shinto
								}
							}
							ROOT = {
								NOR = {
									religion = buddhist
									religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.99 }
					}
				}
				5 = {
					# Foreign religions - both have different foreign religion group
					modifier = {
						factor = 0
						FROM = {
							OR = {
								religion_group = ROOT
								religion_group = indian_group
								ROOT = {
									religion_group = indian_group
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.101 }
					}
				}
				5 = {
					# Foreign religions - both have same foreign religion
					modifier = {
						factor = 0
						FROM = {
							NAND = {
								religion = ROOT
								NOR = {
									religion = buddhist
									religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.103 }
					}
				}
				5 = {
					# Mentor-student romance
					modifier = {
						factor = 0
						FROM = {
							NAND = {
								prev_attraction_trigger = yes
								attacted_to_prev_trigger = yes # Vanilla typo!
							}
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.105 }
					}
				}
				5 = {
					# Friendship
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.109 }
					}
				}
				5 = {
					# Warfare discussion
					FROM = {
						character_event = { id = risingsun.111 }
					}
				}
				5 = {
					# Shirabyoshi
					modifier = {
						factor = 0
						NAND = {
							is_female = no
							FROM = {
								is_female = no
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.113 }
					}
				}
				5 = {
					# Shirabyoshi - mentor is female
					modifier = {
						factor = 0
						NAND = {
							is_female = no
							FROM = {
								is_female = yes
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.116 }
					}
				}
				5 = {
					# Shirabyoshi - student is female
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = no
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.119 }
					}
				}
				5 = {
					# Shirabyoshi - both are female
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = yes
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.122 }
					}
				}
				5 = {
					# Mentor suggests dishonorable tactics - speak up?
					modifier = {
						factor = 0
						FROM = {
							NOR = {
								trait = deceitful
								trait = arbitrary
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.124 }
					}
				}
				5 = {
					# Not-so-friendly duel with rival mentor
					modifier = {
						factor = 0
						NOT = {
							any_rival = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.127 }
					}
				}
				5 = {
					# Student thinks they're ready, but they aren't
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 5
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.138 }
					}
				}
				5 = {
					# Student is ready - hold them back?
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 5
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 5
						is_female = yes
						FROM = {
							is_female = no
						}
					}
					FROM = {
						character_event = { id = risingsun.142 }
					}
				}
				5 = {
					# Student thinks you're holding them back
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 5
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 2
						is_female = yes
						FROM = {
							is_female = no
						}
					}
					FROM = {
						character_event = { id = risingsun.146 }
					}
				}
				5 = {
					# Student is ready, time to end their training
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 10
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 10
						check_variable = {
							which = rising_sun_student
							value = 20
						}
					}
					modifier = {
						factor = 10
						check_variable = {
							which = rising_sun_student
							value = 25
						}
					}
					modifier = {
						factor = 0.1
						is_female = yes
						FROM = {
							is_female = no
						}
					}
					FROM = {
						character_event = { id = risingsun.150 }
					}
				}
				# Student-student
				5 = {
					# Friendship with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.152 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Romance with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									ROOT = {
										prev_attraction_trigger = yes
										attacted_to_prev_trigger = yes # Vanilla typo!
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.154 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Rivalry with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.158 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Weapon practice with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOT = {
										any_rival = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOT = {
								any_rival = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.160 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Caught other student in a lie - confront?
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.162 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Warfare discussion with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOT = {
										any_rival = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOT = {
								any_rival = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.171 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Not-so-friendly practice duel with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									any_rival = {
										character = ROOT
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							any_rival = {
								character = ROOT
							}
						}
						character_event = { id = risingsun.173 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Other student is a woman and you are not - take issue?
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.185 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Other student is a woman and you are too - become friends
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.188 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				
				# Student-other mentor
				5 = {
					# Friendship with friend of mentor
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					FROM = {
						random_friend = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
								}
							}
							character_event = { id = risingsun.190 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Rivalry with rival of mentor
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
								}
							}
							character_event = { id = risingsun.193 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Mentor's rival seeks to recruit you
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
										has_opinion_modifier = {
											who = ROOT
											modifier = opinion_rising_sun_ex_student
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
							character_event = { id = risingsun.196 }
						}
					}
					
					# Do not send this one back to the event selection here; it would possibly mess things up
				}
				5 = {
					# Other mentor gives you advice
					modifier = {
						factor = 0
						NOT = {
							any_society_member = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									character = FROM
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
						}
						NOR = {
							trait = arbitrary
							trait = deceitful
						}
					}
					random_society_member = {
						limit = {
							is_in_society = warriors_of_the_rising_sun
							society_rank >= 2
							NOR = {
								character = FROM
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_ex_student
								}
							}
							OR = {
								trait = arbitrary
								trait = deceitful
							}
						}
						character_event = { id = risingsun.203 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Female mentor helps female student of other non-female mentor
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = no
							}
							any_society_member = {
								is_female = yes
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							is_female = yes
							is_in_society = warriors_of_the_rising_sun
							society_rank >= 2
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_ex_student
								}
							}
						}
						character_event = { id = risingsun.205 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Female mentor helps female student of other female mentor
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = yes
							}
							any_society_member = {
								is_female = yes
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							is_female = yes
							is_in_society = warriors_of_the_rising_sun
							society_rank >= 2
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_ex_student
								}
							}
						}
						character_event = { id = risingsun.207 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				
				# Student-other mentor's student
				5 = {
					# Rivalry with mentor's rival's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							character_event = { id = risingsun.209 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Friendship with mentor's rival's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							character_event = { id = risingsun.211 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Lover with mentor's rival's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
										ROOT = {
											attacted_to_prev_trigger = yes # Vanilla typo!
											prev_attraction_trigger = yes
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
							}
							character_event = { id = risingsun.213 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Rivalry with mentor's friend's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						any_friend = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							character_event = { id = risingsun.217 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Friendship with mentor's friend's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						any_friend = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							character_event = { id = risingsun.219 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Lover with mentor's friend's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						any_friend = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
							}
							character_event = { id = risingsun.221 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Other mentor's student gives you advice
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_society_member = {
									NOT = {
										character = FROM
									}
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOT = {
											any_rival = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						any_society_member = {
							limit = {
								NOT = {
									character = FROM
								}
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOT = {
										any_rival = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									NOT = {
										character = FROM
									}
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOT = {
										any_rival = {
											character = ROOT
										}
									}
								}
							}
							character_event = { id = risingsun.225 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Other mentor's student is a woman and you are not - take issue?
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_society_member = {
									NOT = {
										character = FROM
									}
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
										is_female = yes
										ROOT = {
											is_female = no
										}
									}
								}
							}
						}
					}
					FROM = {
						any_society_member = {
							limit = {
								NOT = {
									character = FROM
								}
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
							}
							random_opinion_modifier_target = {
								limit = {
									NOT = {
										character = FROM
									}
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
							}
							character_event = { id = risingsun.227 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Other mentor's student is a woman and you are too - become friends
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_society_member = {
									NOT = {
										character = FROM
									}
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
										is_female = yes
										ROOT = {
											is_female = yes
										}
									}
								}
							}
						}
					}
					FROM = {
						any_society_member = {
							limit = {
								NOT = {
									character = FROM
								}
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
							}
							random_opinion_modifier_target = {
								limit = {
									NOT = {
										character = FROM
									}
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
							}
							character_event = { id = risingsun.230 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
			}
		}
	}
}

# Sword practice - mentor
character_event = {
	id = risingsun.76
	desc = EVTDESC_RISINGSUN_76
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_76 # The sword is an elegant weapon...
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.77 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_76 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Sword practice - student
character_event = {
	id = risingsun.77
	desc = EVTDESC_RISINGSUN_77
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_77 # ... for a civilized age!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_77 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Bow practice - mentor
character_event = {
	id = risingsun.78
	desc = EVTDESC_RISINGSUN_78
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_78 # Strike at the heart!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.79 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Bow practice - student
character_event = {
	id = risingsun.79
	desc = EVTDESC_RISINGSUN_79
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_79 # My arrow finds its mark!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Spear practice - mentor
character_event = {
	id = risingsun.80
	desc = EVTDESC_RISINGSUN_80
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_80 # Keep them at range!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.81 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_80 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Spear practice - student
character_event = {
	id = risingsun.81
	desc = EVTDESC_RISINGSUN_81
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_81 # Pointy end forward!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_81 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Riding practice - mentor
character_event = {
	id = risingsun.82
	desc = EVTDESC_RISINGSUN_82
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_82 # Ride to glory!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.83 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Riding practice - student
character_event = {
	id = risingsun.83
	desc = EVTDESC_RISINGSUN_83
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_83 # This is nice!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_83 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted archery practice - mentor
character_event = {
	id = risingsun.84
	desc = EVTDESC_RISINGSUN_84
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_84 # Loose and keep moving!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.85 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_84 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted archery practice - student
character_event = {
	id = risingsun.85
	desc = EVTDESC_RISINGSUN_85
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_85 # This is going well!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_85 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted swordsmanship practice - mentor
character_event = {
	id = risingsun.86
	desc = EVTDESC_RISINGSUN_86
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_86 # Swing down at your foe!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.87 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_86 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted swordsmanship practice - student
character_event = {
	id = risingsun.87
	desc = EVTDESC_RISINGSUN_87
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_87 # Trample them!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_87 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted spear practice - mentor
character_event = {
	id = risingsun.88
	desc = EVTDESC_RISINGSUN_88
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_88 # Skewer them!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.89 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted spear practice - student
character_event = {
	id = risingsun.89
	desc = EVTDESC_RISINGSUN_89
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_89 # This is effective!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_89 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Unarmed combat - mentor
character_event = {
	id = risingsun.90
	desc = EVTDESC_RISINGSUN_90
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_90 # Even without your weapon, you should know how to fight!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.91 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_90 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Unarmed combat - student
character_event = {
	id = risingsun.91
	desc = EVTDESC_RISINGSUN_91
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_91 # They'll not find me unprepared!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_91 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Law and crime - teach student the right way?
character_event = {
	id = risingsun.92
	desc = EVTDESC_RISINGSUN_92
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_92 # Act with honor and be just!
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			if = {
				limit = {
					trait = just
				}
				character_event = { id = risingsun.93 days = 1 } # Student gets event
			}
			else = {
				character_event = { id = risingsun.94 days = 1 } # Student gets event
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_92 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Just student
character_event = {
	id = risingsun.93
	desc = EVTDESC_RISINGSUN_93
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_93 # Justice is the way!
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Non-Just student
character_event = {
	id = risingsun.94
	desc = EVTDESC_RISINGSUN_94
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_94 # I should be more just!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 5
			if = {
				limit = {
					trait = arbitrary
				}
				remove_trait = arbitrary
			}
			else = {
				add_trait = just
			}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_94 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Foreign religions - mentor
character_event = {
	id = risingsun.95
	desc = EVTDESC_RISINGSUN_95
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_95 # Avoid their foreign ways!
		
		piety = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.96 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_95 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Foreign religions - student
character_event = {
	id = risingsun.96
	desc = EVTDESC_RISINGSUN_96
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_96 # Their foreign ways are wrong!
		
		piety = 10
		change_society_currency = 5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_christendom
					}
				}
				remove_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_islam
					}
				}
				remove_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_judaism
					}
				}
				remove_trait = sympathy_judaism
			}
			5 = { # A bit lower
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_pagans
					}
				}
				remove_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_zoroastrianism
					}
				}
				remove_trait = sympathy_zoroastrianism
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						trait = sympathy_christendom
						trait = sympathy_islam
						trait = sympathy_judaism
						trait = sympathy_pagans
						trait = sympathy_zoroastrianism
						FROM = {
							NOT = {
								religion = ROOT
							}
						}
					}
				}
				if = {
					limit = {
						trait = cynical
					}
					remove_trait = cynical
				}
				else = {
					add_trait = zealous
				}
			}
			50 = {}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_96 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Foreign religions - mentor has foreign religion - mentor
character_event = {
	id = risingsun.97
	desc = EVTDESC_RISINGSUN_97
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_97 # You could learn from me!
		
		prestige = 5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.98 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_97 # I don't have time for this!
		
		prestige = -10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Foreign religions - mentor has foreign religion - student
character_event = {
	id = risingsun.98
	desc = EVTDESC_RISINGSUN_98
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_98 # Well, you seem alright...
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = christian
						}
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = muslim
						}
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = jewish_group
						}
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = pagan_group
						}
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = zoroastrian_group
						}
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		hidden_tooltip = {
			if = {
				limit = {
					ai = yes
					trait = cynical
				}
				random = {
					chance = 5
					set_secret_religion = FROM
				}
			}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_98 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					trait = zealous
				}
			}
		}
	}
}

# Foreign religions - student has foreign religion - mentor
character_event = {
	id = risingsun.99
	desc = EVTDESC_RISINGSUN_99
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_99 # Tell me of your ways!
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = christian
						}
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = muslim
						}
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = jewish_group
						}
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = pagan_group
						}
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = zoroastrian_group
						}
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		hidden_tooltip = {
			if = {
				limit = {
					ai = yes
					trait = cynical
				}
				random = {
					chance = 5
					set_secret_religion = FROM
				}
			}
		}
		
		FROM = {
			character_event = { id = risingsun.100 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_99 # I don't have time for this!
		
		prestige = -10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					trait = zealous
				}
			}
		}
	}
}

# Foreign religions - student has foreign religion - student
character_event = {
	id = risingsun.100
	desc = EVTDESC_RISINGSUN_100
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_100 # Well, you seem alright...
		
		piety = 10
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Foreign religions - both have different foreign religion group - mentor
character_event = {
	id = risingsun.101
	desc = EVTDESC_RISINGSUN_101
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_101 # Tell me more of your ways
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = christian
							}
						}
						religion_group = christian
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = muslim
							}
						}
						religion_group = muslim
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = jewish_group
							}
						}
						religion_group = jewish_group
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = pagan_group
							}
						}
						religion_group = pagan_group
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = zoroastrian_group
							}
						}
						religion_group = zoroastrian_group
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		FROM = {
			character_event = { id = risingsun.102 } # Student gets the event
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_101 # I don't have time for this!
		
		prestige = -10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					trait = zealous
				}
			}
		}
	}
}

# Foreign religions - both have different foreign religion group - student
character_event = {
	id = risingsun.102
	desc = EVTDESC_RISINGSUN_102
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_102 # Tell me of your ways!
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = christian
							}
						}
						religion_group = christian
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = muslim
							}
						}
						religion_group = muslim
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = jewish_group
							}
						}
						religion_group = jewish_group
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = pagan_group
							}
						}
						religion_group = pagan_group
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = zoroastrian_group
							}
						}
						religion_group = zoroastrian_group
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_102 # I don't have time for this!
		
		piety = 10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					trait = zealous
				}
			}
		}
	}
}

# Foreign religions - both have same foreign religion - mentor
character_event = {
	id = risingsun.103
	desc = EVTDESC_RISINGSUN_103
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_103 # We are in this together!
		
		FROM = {
			character_event = { id = risingsun.104 days = 1 } # Student gets event
		}
		
		piety = 10
		change_society_currency = -5
	}
}

# Foreign religions - both have same foreign religion - student
character_event = {
	id = risingsun.104
	desc = EVTDESC_RISINGSUN_104
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_104 # We are in this together!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		piety = 10
		change_society_currency = -5
	}
}

# Mentor-student romance - mentor
character_event = {
	id = risingsun.105
	desc = EVTDESC_RISINGSUN_105
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_105 # Proposition them
		
		FROM = {
			character_event = { id = risingsun.106 days = 1 } # Student gets event
		}
		
		piety = -10
		change_society_currency = -25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_105 # I don't think so!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		piety = 10
		change_society_currency = 25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Mentor-student romance - student gets to respond
character_event = {
	id = risingsun.106
	desc = EVTDESC_RISINGSUN_106
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_106 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.107 days = 1 } # Mentor gets response
		}
		
		piety = -10
		change_society_currency = -25
		
		add_lover = FROM
		unprotected_sex_effect = FROM
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_105 # I don't think so!
		
		piety = 10
		change_society_currency = 25
		
		FROM = {
			character_event = { id = risingsun.108 days = 1 } # Mentor gets response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Mentor-student romance - lovers
character_event = {
	id = risingsun.107
	desc = EVTDESC_RISINGSUN_107
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_107 # Yay!
		
		add_lover = FROM
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor-student romance - not lovers
character_event = {
	id = risingsun.108
	desc = EVTDESC_RISINGSUN_108
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_108 # Be that way!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Friendship - mentor
character_event = {
	id = risingsun.109
	desc = EVTDESC_RISINGSUN_109
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_109 # Together we will be unstoppable!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.110 } # Inform student
		}
	}
}

# Friendship - student
character_event = {
	id = risingsun.110
	desc = EVTDESC_RISINGSUN_110
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_110 # Together we will be unstoppable!
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Warfare discussion - mentor
character_event = {
	id = risingsun.111
	desc = EVTDESC_RISINGSUN_111
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_111 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
		
		FROM = {
			character_event = { id = risingsun.112 } # Inform student
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_111 # I don't have time for this!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Warfare discussion - student
character_event = {
	id = risingsun.112
	desc = EVTDESC_RISINGSUN_112
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_112 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_112 # I don't have time for this!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Shirabyoshi - mentor
character_event = {
	id = risingsun.113
	desc = EVTDESC_RISINGSUN_113
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_113 # Mock her!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.114 } # Inform student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_female = yes
			}
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_113 # Just keep walking
		
		prestige = 5
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Shirabyoshi - student
character_event = {
	id = risingsun.114
	desc = EVTDESC_RISINGSUN_114
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_114 # Yes; she's no good!
		
		prestige = 5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_114 # I don't think you should underestimate her
		
		prestige = 10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.115 days = 1 } # Inform mentor
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# If student disagreed, inform mentor
character_event = {
	id = risingsun.115
	desc = EVTDESC_RISINGSUN_115
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_115 # Huh...
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Shirabyoshi - mentor is female - mentor
character_event = {
	id = risingsun.116
	desc = EVTDESC_RISINGSUN_116
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_116 # Don't underestimate her!
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.117 } # Inform student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_116 # Just keep walking
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				is_female = yes
			}
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
}

# Shirabyoshi - mentor is female - student
character_event = {
	id = risingsun.117
	desc = EVTDESC_RISINGSUN_117
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_117 # Yes; she could be good
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_117 # I don't think she is any good
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.118 days = 1 } # Inform mentor
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# If student disagreed, inform mentor
character_event = {
	id = risingsun.118
	desc = EVTDESC_RISINGSUN_118
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_118 # Well, you're wrong!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Shirabyoshi - student is female - mentor
character_event = {
	id = risingsun.119
	desc = EVTDESC_RISINGSUN_119
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_119 # Some days you remind me of her!
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.120 days = 1 } # Inform student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_119 # Just keep walking
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Shirabyoshi - student is female - student
character_event = {
	id = risingsun.120
	desc = EVTDESC_RISINGSUN_120
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_120 # Ignore the insult
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		random = {
			chance = 1
			add_rival = FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					trait = humble
					trait = shy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_120 # I think you underestimate both of us!
		
		prestige = 15
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.121 days = 1 } # Inform mentor
		}
		
		random = {
			chance = 1
			add_rival = FROM
		}
		
		ai_chance = {
			factor = 100
		}
	}
}

# If student disagreed, inform mentor
character_event = {
	id = risingsun.121
	desc = EVTDESC_RISINGSUN_121
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_121 # Well, you're wrong!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Shirabyoshi - both are female - mentor
character_event = {
	id = risingsun.122
	desc = EVTDESC_RISINGSUN_122
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_122 # Let none tell you you shouldn't use a sword!
		
		FROM = {
			character_event = { id = risingsun.123 } # Inform student
		}
	}
}

# Shirabyoshi - both are female - student
character_event = {
	id = risingsun.123
	desc = EVTDESC_RISINGSUN_123
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_123 # Indeed!
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor suggests dishonorable tactics - speak up? - mentor
character_event = {
	id = risingsun.124
	desc = EVTDESC_RISINGSUN_124
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_124 # Here is a useful trick!
		
		prestige = 5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.125 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_124 # I don't have time for this!
		
		prestige = -5
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mentor suggests dishonorable tactics - speak up? - student
character_event = {
	id = risingsun.125
	desc = EVTDESC_RISINGSUN_125
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_125 # A useful trick indeed!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = honest
					trait = just
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_125 # This is wrong!
		
		prestige = 10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.126 } # Inform FROM
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = deceitful
					trait = arbitrary
				}
			}
		}
	}
}

# Inform mentor if student spoke up
character_event = {
	id = risingsun.126
	desc = EVTDESC_RISINGSUN_126
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_126 # Well, you're wrong!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Not-so-friendly duel with rival mentor - mentor
character_event = {
	id = risingsun.127
	desc = EVTDESC_RISINGSUN_127
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_127 # I challenge you to a "sparring" session!
		
		prestige = 5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.128 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -50
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -25
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_127 # I don't have time for this!
		
		prestige = -5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 50
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 25
				}
			}
		}
	}
}

# Not-so-friendly duel with rival mentor - student
character_event = {
	id = risingsun.128
	desc = EVTDESC_RISINGSUN_128
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_128 # Oh, it's on!
		
		prestige = 5
		change_society_currency = 5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = -50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -25
					}
				}
				FROM = {
					character_event = { id = risingsun.130 days = 1 } # Student maims mentor
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = -50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -25
					}
				}
				FROM = {
					character_event = { id = risingsun.132 days = 1 } # Student wounds mentor
				}
			}
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = 50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 25
					}
				}
				FROM = {
					character_event = { id = risingsun.134 days = 1 } # Mentor maims student
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = 50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 25
					}
				}
				FROM = {
					character_event = { id = risingsun.136 days = 1 } # Mentor wounds student
				}
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -50
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -25
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_128 # I think not
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.129 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 50
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 25
				}
			}
		}
	}
}

# Inform mentor if student refused
character_event = {
	id = risingsun.129
	desc = EVTDESC_RISINGSUN_129
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_129 # How cowardly!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student maims mentor - mentor
character_event = {
	id = risingsun.130
	desc = EVTDESC_RISINGSUN_130
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_130 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.131 } # Inform FROM
		}
	}
}

# Student maims mentor - student
character_event = {
	id = risingsun.131
	desc = EVTDESC_RISINGSUN_131
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_131 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student wounds mentor - mentor
character_event = {
	id = risingsun.132
	desc = EVTDESC_RISINGSUN_132
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_132 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.133 } # Inform FROM
		}
	}
}

# Student wounds mentor - student
character_event = {
	id = risingsun.133
	desc = EVTDESC_RISINGSUN_133
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_133 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor maims student - mentor
character_event = {
	id = risingsun.134
	desc = EVTDESC_RISINGSUN_134
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_134 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.135 } # Inform FROM
		}
	}
}

# Mentor maims student - student
character_event = {
	id = risingsun.135
	desc = EVTDESC_RISINGSUN_135
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_135 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor wounds student - mentor
character_event = {
	id = risingsun.136
	desc = EVTDESC_RISINGSUN_136
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_136 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.137 } # Inform FROM
		}
	}
}

# Mentor wounds student - student
character_event = {
	id = risingsun.137
	desc = EVTDESC_RISINGSUN_137
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_137 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student thinks they're ready, but they aren't - mentor
character_event = {
	id = risingsun.138
	desc = EVTDESC_RISINGSUN_138
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_138 # You are (not) ready!
		
		change_society_currency = -100
		
		FROM = {
			character_event = { id = risingsun.139 days = 1 } # Training ends
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = slothful
					trait = deceitful
					trait = arbitrary
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_138 # You are NOT ready!
		
		change_society_currency = 50
		
		FROM = {
			character_event = { id = risingsun.140 days = 1 } # FROM is informed
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = diligent
					trait = honest
					trait = just
				}
			}	
		}
	}
}

# "You're ready" (but actually not)
character_event = {
	id = risingsun.139
	desc = EVTDESC_RISINGSUN_139
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_139 # I knew it!
		
		change_society_currency = 50
		
		set_character_flag = proved_myself_to_mentor
		
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		reverse_remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_mentor
		}
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_student
		}
	}
}

# "You're not ready" - rivalry?
character_event = {
	id = risingsun.140
	desc = EVTDESC_RISINGSUN_140
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_140 # I suppose you know best...
		
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_140 # I AM ready!
		
		change_society_currency = -10
		
		random_list = {
			50 = {
				add_rival = FROM
				FROM = {
					character_event = { id = risingsun.141 days = 1 } # FROM is informed
				}
			}
			50 = {
				FROM = {
					character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
				}
			}
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
}

# Inform mentor of rivalry
character_event = {
	id = risingsun.141
	desc = EVTDESC_RISINGSUN_141
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_141 # Today's youth...
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student is ready - hold them back? - mentor
character_event = {
	id = risingsun.142
	desc = EVTDESC_RISINGSUN_142
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_142 # You are ready!
		
		change_society_currency = 100
		
		FROM = {
			character_event = { id = risingsun.143 days = 1 } # Training ends
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = deceitful
					trait = arbitrary
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_138 # You are not ready!
		
		change_society_currency = -50
		
		FROM = {
			character_event = { id = risingsun.144 days = 1 } # FROM is informed
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = honest
					trait = just
				}
			}	
		}
	}
}

# You are ready!
character_event = {
	id = risingsun.143
	desc = EVTDESC_RISINGSUN_143
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_143 # I knew it!
		
		change_society_currency = 50
		
		set_character_flag = proved_myself_to_mentor
		
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		reverse_remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_mentor
		}
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_student
		}
	}
}

# "You're not ready" (but actually you are) - rivalry?
character_event = {
	id = risingsun.144
	desc = EVTDESC_RISINGSUN_144
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_144 # I suppose you know best...
		
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_144 # I AM ready!
		
		change_society_currency = -10
		
		random_list = {
			50 = {
				add_rival = FROM
				FROM = {
					character_event = { id = risingsun.145 days = 1 } # FROM is informed
				}
			}
			50 = {
				FROM = {
					character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
				}
			}
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
}

# Inform mentor of rivalry
character_event = {
	id = risingsun.145
	desc = EVTDESC_RISINGSUN_145
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_145 # I should have seen that coming!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student thinks you're holding them back - mentor
character_event = {
	id = risingsun.146
	desc = EVTDESC_RISINGSUN_146
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_146 # Now, see here...
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						diplomacy = 8
					}
				}
				modifier = {
					factor = 0.5
					NOT = {
						diplomacy = 12
					}
				}
				FROM = {
					character_event = { id = risingsun.147 days = 1 } # Convinced them
				}
			}
			50 = {
				modifier = {
					factor = 0
					diplomacy = 20
				}
				modifier = {
					factor = 0.5
					diplomacy = 16
				}
				FROM = {
					character_event = { id = risingsun.148 days = 1 } # Failed to convince them
				}
			}
		}
	}
}

# Convincing mentor
character_event = {
	id = risingsun.147
	desc = EVTDESC_RISINGSUN_147
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_147 # I suppose more training would be good
		
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Unconvincing mentor - rivalry!
character_event = {
	id = risingsun.148
	desc = EVTDESC_RISINGSUN_148
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_148 # You LIE!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.149 } # Inform FROM
		}
	}
}

# Inform mentor of rivalry
character_event = {
	id = risingsun.149
	desc = EVTDESC_RISINGSUN_149
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_149 # I should have worded that better...
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student is ready, time to end their training - mentor
character_event = {
	id = risingsun.150
	desc = EVTDESC_RISINGSUN_150
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_150 # Your training is complete!
		
		change_society_currency = 100
		
		FROM = {
			character_event = { id = risingsun.151 } # Inform FROM
		}
	}
}

# Training ends - student
character_event = {
	id = risingsun.151
	desc = EVTDESC_RISINGSUN_151
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_151 # I knew it!
		
		change_society_currency = 50
		
		set_character_flag = proved_myself_to_mentor
		
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		reverse_remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_mentor
		}
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_student
		}
	}
}

### Student-student interactions (for students with the same mentor)

# Friendship with other student - student 1
character_event = {
	id = risingsun.152
	desc = EVTDESC_RISINGSUN_152
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_152 # Together we will be unstoppable!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.153 } # Inform student 2
		}
	}
}

# Friendship with other student - student 2
character_event = {
	id = risingsun.153
	desc = EVTDESC_RISINGSUN_153
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_153 # Together we will be unstoppable!
		
		add_friend = FROM
	}
}

# Romance with other student
character_event = {
	id = risingsun.154
	desc = EVTDESC_RISINGSUN_154
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_154 # Proposition them
		
		piety = -10
		
		FROM = {
			character_event = { id = risingsun.155 days = 1 } # Other student gets the event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_105 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Other student gets to respond
character_event = {
	id = risingsun.155
	desc = EVTDESC_RISINGSUN_155
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_155 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.156 days = 1 } # Other student gets the response
		}
		
		piety = -10
		
		add_lover = FROM
		unprotected_sex_effect = yes
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_155 # I don't think so!
		
		piety = 10
		
		FROM = {
			character_event = { id = risingsun.157 days = 1 } # Other student gets the response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Lovers
character_event = {
	id = risingsun.156
	desc = EVTDESC_RISINGSUN_156
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_156 # Yay!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = risingsun.157
	desc = EVTDESC_RISINGSUN_157
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_157 # Be that way!
	}
}

# Rivalry with other student - student 1
character_event = {
	id = risingsun.158
	desc = EVTDESC_RISINGSUN_158
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_158 # You will never be my equal!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.159 } # Inform FROM
		}
	}
}

# Rivalry with other student - student 2
character_event = {
	id = risingsun.159
	desc = EVTDESC_RISINGSUN_159
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_159 # You were never my equal!
	}
}

# Weapon practice with other student - student 1
character_event = {
	id = risingsun.160
	desc = EVTDESC_RISINGSUN_160
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_160 # We learned much together
		
		prestige = 10
		change_society_currency = 10
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.161 } # Inform FROM
		}
	}
}

# Weapon practice with other student - student 2
character_event = {
	id = risingsun.161
	desc = EVTDESC_RISINGSUN_161
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_161 # We learned much together
		
		prestige = 10
		change_society_currency = 10
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Caught other student in a lie - confront?
character_event = {
	id = risingsun.162
	desc = EVTDESC_RISINGSUN_162
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_162 # Confront them
		
		prestige = 10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.163 } # Inform FROM
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_162 # I saw nothing!
		
		prestige = -10
		change_society_currency = -10
		
		ai_chance = {
			factor = 0
		}
	}
}

# Student confronted
character_event = {
	id = risingsun.163
	desc = EVTDESC_RISINGSUN_163
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_163 # How about a bribe?
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.164 days = 1 } # Inform FROM
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			is_landed = yes
			NOR = {
				holds_favor_on = FROM
				FROM = {
					holds_favor_on = ROOT
				}
			}
		}
		name = EVTOPTB_RISINGSUN_163 # How about a Favor?
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.165 days = 1 } # Inform FROM
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			is_landed = yes
			holds_favor_on = FROM
		}
		name = EVTOPTC_RISINGSUN_163 # You owe me!
		
		remove_favor = FROM
		
		FROM = {
			character_event = { id = risingsun.168 days = 1 } # Inform FROM
		}
		
		prestige = 10
		change_society_currency = 10
	}
	
	option = {
		name = EVTOPTD_RISINGSUN_163 # Do your worst!
		
		prestige = 10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.169 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Bribe offered
character_event = {
	id = risingsun.164
	desc = EVTDESC_RISINGSUN_164
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_164 # Very well
		
		wealth = 100
		change_society_currency = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_164 # I cannot be bribed!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.166 }
		}
		FROMFROMFROMFROM = {
			character_event = { id = risingsun.167 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
				NOT = {
					trait = just
				}
			}
		}
	}
}

# Favor offered
character_event = {
	id = risingsun.165
	desc = EVTDESC_RISINGSUN_165
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_165 # Very well
		
		add_favor = FROM
		change_society_currency = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_168 # I cannot be bribed!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.166 }
		}
		FROMFROMFROMFROM = {
			character_event = { id = risingsun.167 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
				NOT = {
					trait = just
				}
			}
		}
	}
}

# Student refused bribe or Favor
character_event = {
	id = risingsun.166
	desc = EVTDESC_RISINGSUN_166
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_166 # Curses!
		
		change_society_currency = -50
		
		random = {
			chance = 50
			add_rival = FROM
		}
	}
}

# Inform mentor
character_event = {
	id = risingsun.167
	desc = EVTDESC_RISINGSUN_167
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_167 # I see...
	}
}

# Student called in Favor
character_event = {
	id = risingsun.168
	desc = EVTDESC_RISINGSUN_168
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_168 # I have to accept this...
	}
}

# Student told you to do your worst
character_event = {
	id = risingsun.169
	desc = EVTDESC_RISINGSUN_169
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_169 # You asked for it
		
		FROMFROMFROMFROM = {
			character_event = { id = risingsun.170 }
		}
	}
}

# Mentor informed
character_event = {
	id = risingsun.170
	desc = EVTDESC_RISINGSUN_170
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_170 # I see...
	}
}

# Warfare discussion with other student - student 1
character_event = {
	id = risingsun.171
	desc = EVTDESC_RISINGSUN_171
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_171 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
		
		FROM = {
			character_event = { id = risingsun.172 } # Inform other student
		}
	}
}

# Warfare discussion with other student - student 2
character_event = {
	id = risingsun.172
	desc = EVTDESC_RISINGSUN_172
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_172 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
	}
}

# Not-so-friendly practice duel with other student
character_event = {
	id = risingsun.173
	desc = EVTDESC_RISINGSUN_173
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_173 # I challenge you to a "sparring" session!
		
		prestige = 5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.174 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -50
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -25
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_173 # I don't have time for this!
		
		prestige = -5
		change_society_currency = 5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 50
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 25
				}
			}
		}
	}
}

# Other student responds
character_event = {
	id = risingsun.174
	desc = EVTDESC_RISINGSUN_174
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_174 # Oh, it's on!
		
		prestige = 5
		change_society_currency = 5
		
		FROMFROMFROM = {
			character_event = { id = risingsun.184 days = 1 } # Inform mentor
		}
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = -50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -25
					}
				}
				FROM = {
					character_event = { id = risingsun.176 days = 1 } # Student maims mentor
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = -50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -25
					}
				}
				FROM = {
					character_event = { id = risingsun.178 days = 1 } # Student wounds mentor
				}
			}
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = 50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 25
					}
				}
				FROM = {
					character_event = { id = risingsun.180 days = 1 } # Mentor maims student
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = 50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 25
					}
				}
				FROM = {
					character_event = { id = risingsun.182 days = 1 } # Mentor wounds student
				}
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -50
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -25
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_174 # I think not
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.175 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 50
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 25
				}
			}
		}
	}
}

# No duel
character_event = {
	id = risingsun.175
	desc = EVTDESC_RISINGSUN_175
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_175 # How cowardly!
	}
}

# Student 1 maimed student 2 - student 1
character_event = {
	id = risingsun.176
	desc = EVTDESC_RISINGSUN_176
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_176 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.177 } # Inform FROM
		}
	}
}

# Student 1 maimed student 2 - student 2
character_event = {
	id = risingsun.177
	desc = EVTDESC_RISINGSUN_177
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_177 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Student 1 wounded student 2 - student 1
character_event = {
	id = risingsun.178
	desc = EVTDESC_RISINGSUN_178
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_178 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.179 } # Inform FROM
		}
	}
}

# Student 1 wounded student 2 - student 2
character_event = {
	id = risingsun.179
	desc = EVTDESC_RISINGSUN_179
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_179 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Student 2 maimed student 1 - student 1
character_event = {
	id = risingsun.180
	desc = EVTDESC_RISINGSUN_180
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_180 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.181 } # Inform FROM
		}
	}
}

# Student 2 maimed student 1 - student 2
character_event = {
	id = risingsun.181
	desc = EVTDESC_RISINGSUN_181
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_181 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Student 2 wounded student 1 - student 1
character_event = {
	id = risingsun.182
	desc = EVTDESC_RISINGSUN_182
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_182 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.183 } # Inform FROM
		}
	}
}

# Student 2 wounded student 1 - student 2
character_event = {
	id = risingsun.183
	desc = EVTDESC_RISINGSUN_183
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_183 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Inform mentor
character_event = {
	id = risingsun.184
	desc = EVTDESC_RISINGSUN_184
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_184 # I see...
	}
}

# Other student is a woman and you are not - take issue?
character_event = {
	id = risingsun.185
	desc = EVTDESC_RISINGSUN_185
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_185 # You'll never amount to anything
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.186 days = 1 } # Inform other student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_185 # She's not *that* bad...
		
		prestige = 5
		change_society_currency = 5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Other student took issue - rivalry?
character_event = {
	id = risingsun.186
	desc = EVTDESC_RISINGSUN_186
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_186 # Stay silent
		
		prestige = -15
		change_society_currency = -15
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_186 # I'll show you just how good I am!
		
		prestige = 5
		change_society_currency = 5
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.187 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Inform first student of rivalry
character_event = {
	id = risingsun.187
	desc = EVTDESC_RISINGSUN_187
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_187 # Bring it on!
		
		add_rival = FROM
	}
}

# Other student is a woman and you are too - become friends
character_event = {
	id = risingsun.188
	desc = EVTDESC_RISINGSUN_188
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_188 # We need to stick together!
		
		add_friend = FROM
		FROM = {
			character_event = { id = risingsun.189 }
		}
	}
}

# Inform other student
character_event = {
	id = risingsun.189
	desc = EVTDESC_RISINGSUN_189
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_189 # We need to stick together!
		
		add_friend = FROM
	}
}

### Interactions with other mentors

# Friendship with friend of mentor - other mentor
character_event = {
	id = risingsun.190
	desc = EVTDESC_RISINGSUN_190
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_190 # We need to stick together!
		
		add_friend = FROM
		FROM = {
			character_event = { id = risingsun.191 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.191
	desc = EVTDESC_RISINGSUN_191
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_191 # We need to stick together!
		
		add_friend = FROM
		FROMFROMFROM = {
			character_event = { id = risingsun.192 }
		}
	}
}

# Student's mentor gets the event
character_event = {
	id = risingsun.192
	desc = EVTDESC_RISINGSUN_192
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_192 # We need to stick together!
	}
}

# Rivalry with rival of mentor
character_event = {
	id = risingsun.193
	desc = EVTDESC_RISINGSUN_193
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_193 # If you are with FROMFROM, you are my enemy!
		
		add_rival = FROM
		FROM = {
			character_event = { id = risingsun.194 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.194
	desc = EVTDESC_RISINGSUN_194
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_194 # You are my enemy!
		
		add_rival = FROM
		FROMFROMFROM = {
			character_event = { id = risingsun.195 }
		}
	}
}

# Student's mentor gets the event
character_event = {
	id = risingsun.195
	desc = EVTDESC_RISINGSUN_195
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_195 # Good! Good! Destroy FROMFROM!
	}
}

# Mentor's rival seeks to recruit you - other mentor decides whether to make the attempt
character_event = {
	id = risingsun.196
	desc = EVTDESC_RISINGSUN_196
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_196 # Join me, and together we will rule the ga- society!
		
		change_society_currency = -50
		
		FROM = {
			character_event = { id = risingsun.198 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
			}
			modifier = {
				factor = 0.1
				trait = honest
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = yes
				}
				is_female = no
			}
			modifier = {
				factor = 10
				any_friend = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				any_lover = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = ambitious
			}
			modifier = {
				factor = 0.01
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_196 # It is not worth it...
		
		FROM = {
			character_event = { id = risingsun.197 } # Ping and return to event selection
		}
		
		change_society_currency = 50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = arbitrary
			}
			modifier = {
				factor = 0.1
				trait = deceitful
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = yes
				}
				is_female = yes
				FROMFROM = {
					is_female = no
				}
			}
			modifier = {
				factor = 10
				trait = humble
			}
			modifier = {
				factor = 10
				trait = content
			}
			modifier = {
				factor = 0.01
				trait = diligent
			}
		}
	}
}

# Hidden ping for From to set up scopes properly in case the other mentor didn't go for the recruitment
character_event = {
	id = risingsun.197
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROMFROMFROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student gets the recruitment event
character_event = {
	id = risingsun.198
	desc = EVTDESC_RISINGSUN_198
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_198 # I pledge myself to you
		
		change_society_currency = -100
		
		FROM = {
			opinion = {
				who = ROOT
				modifier = opinion_rising_sun_student
			}
			reverse_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_mentor
			}
			character_event = { id = risingsun.199 } # Inform new mentor
		}
		FROMFROMFROM = {
			remove_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_student
			}
			reverse_remove_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_mentor
			}
			opinion = {
				who = ROOT
				modifier = opinion_rising_sun_ex_student
			}
			reverse_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_ex_mentor
			}
			character_event = { id = risingsun.200 } # Inform old mentor
		}
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = just
			}
			modifier = {
				factor = 0.1
				trait = honest
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = no
				}
				is_female = yes
				FROMFROMFROM = {
					is_female = yes
				}
			}
			modifier = {
				factor = 10
				any_friend = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				any_lover = {
					character = FROM
				}
			}
			modifier = {
				factor = 0
				any_rival = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = ambitious
			}
			modifier = {
				factor = 0.01
				trait = slothful
			}
			modifier = {
				factor = 0
				any_friend = {
					character = FROMFROMFROM
				}
			}
			modifier = {
				factor = 0
				any_lover = {
					character = FROMFROMFROM
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_197 # It is not worth it...
		
		FROM = {
			character_event = { id = risingsun.201 } # Inform FROM
		}
		FROMFROMFROM = {
			character_event = { id = risingsun.202 } # Inform FROMFROMFROM
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		change_society_currency = 100
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = arbitrary
			}
			modifier = {
				factor = 0.1
				trait = deceitful
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = yes
				}
				is_female = yes
				FROMFROMFROM = {
					is_female = no
				}
			}
			modifier = {
				factor = 10
				trait = humble
			}
			modifier = {
				factor = 10
				trait = content
			}
			modifier = {
				factor = 0.01
				trait = diligent
			}
			modifier = {
				factor = 0
				any_rival = {
					character = FROMFROMFROM
				}
			}
		}
	}
}

# Student agreed - other mentor
character_event = {
	id = risingsun.199
	desc = EVTDESC_RISINGSUN_199
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_199 # Haha!
		
		prestige = 100
	}
}

# Student agreed - old mentor
character_event = {
	id = risingsun.200
	desc = EVTDESC_RISINGSUN_200
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_200 # Curses!
		
		prestige = -100
	}
}

# Student disagreed - other mentor
character_event = {
	id = risingsun.201
	desc = EVTDESC_RISINGSUN_201
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_201 # Curses!
		
		prestige = -100
	}
}

# Student disagreed - old mentor
character_event = {
	id = risingsun.202
	desc = EVTDESC_RISINGSUN_202
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_202 # Haha!
		
		prestige = 100
	}
}

# Other mentor gives you advice - other mentor
character_event = {
	id = risingsun.203
	desc = EVTDESC_RISINGSUN_203
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_203 # Here's a quick tip!
		
		prestige = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.204 }
		}
	}
}

# Student
character_event = {
	id = risingsun.204
	desc = EVTDESC_RISINGSUN_204
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_204 # Thank you!
		
		prestige = 10
		change_society_currency = 5
	}
}

# Female mentor helps female student of other non-female mentor
character_event = {
	id = risingsun.205
	desc = EVTDESC_RISINGSUN_205
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_205 # We're in this together!
		
		prestige = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.206 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.206
	desc = EVTDESC_RISINGSUN_206
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_206 # We're in this together!
		
		prestige = 10
		change_society_currency = 5
	}
}

# Female mentor helps female student of other female mentor
character_event = {
	id = risingsun.207
	desc = EVTDESC_RISINGSUN_207
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_207 # We're in this together!
		
		prestige = 20
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.208 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.208
	desc = EVTDESC_RISINGSUN_208
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_208 # We're in this together!
		
		prestige = 20
		change_society_currency = 10
	}
}

### Interactions with students of other mentors

# Rivalry with mentor's rival's student - other student
character_event = {
	id = risingsun.209
	desc = EVTDESC_RISINGSUN_209
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_209 # You and your master are going down!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.210 }
		}
	}
}

# Notified of rivalry
character_event = {
	id = risingsun.210
	desc = EVTDESC_RISINGSUN_210
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_210 # An empty threat
		
		add_rival = FROM
	}
}

# Friendship with mentor's rival's student - other student
character_event = {
	id = risingsun.211
	desc = EVTDESC_RISINGSUN_211
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_211 # We should not be foes!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.212 }
		}
	}
}

# Notified of friendship
character_event = {
	id = risingsun.212
	desc = EVTDESC_RISINGSUN_212
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_212 # We should not be foes!
		
		add_friend = FROM
	}
}

# Lover with mentor's rival's student - other student
character_event = {
	id = risingsun.213
	desc = EVTDESC_RISINGSUN_213
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_213 # Proposition them
		
		piety = -10
		
		FROM = {
			character_event = { id = risingsun.214 days = 1 } # Other student gets the event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_213 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Other student gets to respond
character_event = {
	id = risingsun.214
	desc = EVTDESC_RISINGSUN_214
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_214 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.215 days = 1 } # Other student gets the response
		}
		
		piety = -10
		
		add_lover = FROM
		unprotected_sex_effect = yes
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_214 # I don't think so!
		
		piety = 10
		
		FROM = {
			character_event = { id = risingsun.216 days = 1 } # Other student gets the response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Lovers
character_event = {
	id = risingsun.215
	desc = EVTDESC_RISINGSUN_215
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_215 # Yay!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = risingsun.216
	desc = EVTDESC_RISINGSUN_216
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_216 # Be that way!
	}
}

# Rivalry with mentor's friend's student - other student
character_event = {
	id = risingsun.217
	desc = EVTDESC_RISINGSUN_217
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_217 # They might be friends, but we are not!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.218 }
		}
	}
}

# Notified of rivalry
character_event = {
	id = risingsun.218
	desc = EVTDESC_RISINGSUN_218
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_218 # I hate you too!
		
		add_rival = FROM
	}
}

# Friendship with mentor's friend's student - other student
character_event = {
	id = risingsun.219
	desc = EVTDESC_RISINGSUN_219
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_219 # We should also be friends!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.220 }
		}
	}
}

# Notified of friendship
character_event = {
	id = risingsun.220
	desc = EVTDESC_RISINGSUN_220
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_220 # We should also be friends!
		
		add_friend = FROM
	}
}

# Lover with mentor's friend's student - other student
character_event = {
	id = risingsun.221
	desc = EVTDESC_RISINGSUN_221
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_221 # Proposition them
		
		piety = -10
		
		FROM = {
			character_event = { id = risingsun.222 days = 1 } # Other student gets the event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_221 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Other student gets to respond
character_event = {
	id = risingsun.222
	desc = EVTDESC_RISINGSUN_222
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_222 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.223 days = 1 } # Other student gets the response
		}
		
		piety = -10
		
		add_lover = FROM
		unprotected_sex_effect = yes
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_222 # I don't think so!
		
		piety = 10
		
		FROM = {
			character_event = { id = risingsun.224 days = 1 } # Other student gets the response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Lovers
character_event = {
	id = risingsun.223
	desc = EVTDESC_RISINGSUN_223
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_223 # Yay!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = risingsun.224
	desc = EVTDESC_RISINGSUN_224
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_224 # Be that way!
	}
}

# Other mentor's student gives you advice
character_event = {
	id = risingsun.225
	desc = EVTDESC_RISINGSUN_225
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_225 # Here's a quick tip!
		
		prestige = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.226 }
		}
	}
}

# Got advice
character_event = {
	id = risingsun.226
	desc = EVTDESC_RISINGSUN_226
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_226 # Thank you!
		
		prestige = 10
		change_society_currency = 5
	}
}

# Other mentor's student is a woman and you are not - take issue?
character_event = {
	id = risingsun.227
	desc = EVTDESC_RISINGSUN_227
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_227 # You'll never amount to anything
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.228 days = 1 } # Inform other student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_227 # She's not *that* bad...
		
		prestige = 5
		change_society_currency = 5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Other student took issue - rivalry?
character_event = {
	id = risingsun.228
	desc = EVTDESC_RISINGSUN_228
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_228 # Stay silent
		
		prestige = -15
		change_society_currency = -15
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_228 # I'll show you just how good I am!
		
		prestige = 5
		change_society_currency = 5
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.229 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Inform first student of rivalry
character_event = {
	id = risingsun.229
	desc = EVTDESC_RISINGSUN_229
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_229 # Bring it on!
		
		add_rival = FROM
	}
}

# Other mentor's student is a woman and you are too - become friends
character_event = {
	id = risingsun.230
	desc = EVTDESC_RISINGSUN_230
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_230 # We need to stick together!
		
		add_friend = FROM
		FROM = {
			character_event = { id = risingsun.231 }
		}
	}
}

# Inform other student
character_event = {
	id = risingsun.231
	desc = EVTDESC_RISINGSUN_231
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_231 # We need to stick together!
		
		add_friend = FROM
	}
}

##### Powers

# Summon commander
character_event = {
	id = risingsun.232
	desc = EVTDESC_RISINGSUN_232
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_232 # Good to have them here!
	}
}

# Disband Ronin

# Mark of Dishonor gained
character_event = {
	id = risingsun.234
	desc = EVTDESC_RISINGSUN_234
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_234 # Curses!
		
		prestige = -500
		add_character_modifier = {
			modifier = mark_of_dishonor
			months = 120
		}
		if = {
			limit = {
				NOT = {
					any_rival = {
						character = FROM
					}
				}
			}
			add_rival = FROM
		}
	}
}

# Rising Sun Subjugation target selected - hidden setup - deprecated!
character_event = {
	id = risingsun.235
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			save_persistent_event_target = { name = rising_sun_subjugation_target scope = ROOT }
		}
		any_playable_ruler = {
			limit = {
				ai = no
			}
			narrative_event = { id = risingsun.236 }
		}
	}
}


# Rising Sun Subjugation planning begins - inform the world
narrative_event = {
	id = risingsun.236
	title = EVTTITLE_RISINGSUN_236
	desc = EVTDESC_RISINGSUN_236
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				is_in_society = warriors_of_the_rising_sun
			}
		}
		name = EVTOPTA_RISINGSUN_236 # Worrying...
	}
	
	option = {
		trigger = {
			is_in_society = warriors_of_the_rising_sun
		}
		name = EVTOPTB_RISINGSUN_236 # It will be glorious!
	}
}

# Leader is notified that FROM helped increase progress
letter_event = {
	id = risingsun.237
	desc = EVTDESC_RISINGSUN_237
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_237 # Thank you!
		
		FROM = {
			letter_event = { id = risingsun.238 } # Inform from!
		}
	}
}

# FROM is thanked
letter_event = {
	id = risingsun.238
	desc = EVTDESC_RISINGSUN_238
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_238 # No problem!
		
		prestige = 100
	}
}

# Inform the world if the invasion is called off before being launched due to the leader's death - on_death
character_event = {
	id = risingsun.239
	desc = EVTDESC_RISINGSUN_239
	picture = GFX_evt_china_expansionist
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_239 # I see...
	}
}

# Rising Sun Subjugation war launched - non-member
narrative_event = {
	id = risingsun.240
	title = EVTTITLE_RISINGSUN_240
	desc = EVTDESC_RISINGSUN_240
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				any_war = {
					defender = {
						character = ROOT
					}
					using_cb = rising_sun_subjugation
				}
			}
		}
		name = EVTOPTA_RISINGSUN_240 # Worrying...
	}
	
	option = {
		trigger = {
			any_war = {
				defender = {
					character = ROOT
				}
				using_cb = rising_sun_subjugation
			}
		}
		name = EVTOPTB_RISINGSUN_240 # To arms!
	}
}

# Rising Sun Subjugation war launched - member
character_event = {
	id = risingsun.241
	desc = EVTDESC_RISINGSUN_241
	picture = GFX_evt_china_expansionist
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_241 # To arms!
	}
}

# Inform the world if the invasion failed due to the leader's death - on_death
character_event = {
	id = risingsun.242
	desc = EVTDESC_RISINGSUN_242
	picture = GFX_evt_china_expansionist
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_242 # I see...
	}
}

##### Maintenance

# Recreation if destroyed (fired from on_society_destroyed)
character_event = {
    id = risingsun.243
    is_triggered_only = yes
    has_dlc = "Holy Fury"
    hide_window = yes
    hide_from = yes
    
    trigger = {
        FROM = { is_society = warriors_of_the_rising_sun }
    }

    immediate = {
        if = {
            limit = {
                is_landed = yes
            }
            #Pick someone under you to lead the warrior lodge...
            any_courtier_or_vassal = {
                limit = {
                    ai = yes
                    OR = {
                        religion = shinto
						AND = {
							religion = buddhist
							culture_group = japonic
						}
						religion = ryukyuan_pagan
						religion = ryukyuan_pagan_reformed
                    }
                    has_secret_religion_trait_trigger = no
                    is_in_society = no
                    age = 16
                    NOT = { block_general_event_trigger = yes }
                }
                score_value = { #Prioritizes selecting some kind of warrior...
                    value = 10
                    warrior_recruit_score = yes
                    warrior_lodge_revival_selection_score = yes
                }
                join_society = FROM
                if = {
                    limit = {
                        NOT = {
                            society = {
                                any_society_member = {
                                    is_society_grandmaster = yes
                                }
                            }
                        }
                    }
                    set_society_grandmaster = yes # Set character as Grand Master
                    add_society_currency_massive_effect = yes
                }
                add_society_currency_massive_effect = yes
            }
        }
        else_if = {
			limit = {
				liege = {
					#Pick someone under your *liege* to lead the warrior lodge...
					any_courtier_or_vassal = {
						ai = yes
						OR = {
							religion = shinto
							AND = {
								religion = buddhist
								culture_group = japonic
							}
							religion = ryukyuan_pagan
							religion = ryukyuan_pagan_reformed
						}
						has_secret_religion_trait_trigger = no
						is_in_society = no
						age = 16
						NOT = { block_general_event_trigger = yes }
					}
				}
			}
			liege = {
				#Pick someone under your *liege* to lead the warrior lodge...
				any_courtier_or_vassal = {
					limit = {
						ai = yes
						OR = {
							religion = shinto
							AND = {
								religion = buddhist
								culture_group = japonic
							}
							religion = ryukyuan_pagan
							religion = ryukyuan_pagan_reformed
						}
						has_secret_religion_trait_trigger = no
						is_in_society = no
						age = 16
						NOT = { block_general_event_trigger = yes }
					}
					score_value = { #Prioritizes selecting some kind of warrior...
						value = 10
						warrior_recruit_score = yes
						warrior_lodge_revival_selection_score = yes
					}
					join_society = event_target:warrior_lodge_to_revive
					if = {
						limit = {
							NOT = {
								society = {
									any_society_member = {
										is_society_grandmaster = yes
									}
								}
							}
						}
						set_society_grandmaster = yes # Set character as Grand Master
						add_society_currency_massive_effect = yes
					}
				}
			}
        }
		else = { # Create a new member from scratch
			create_random_soldier = {
				age = 25
				female = no
				religion = shinto
				culture = japanese
				dynasty = random
				health = 6
				fertility = 0.8
				attributes = {
					martial = 12
					diplomacy = 8
					stewardship = 9
					intrigue = 4
					learning = 12
				}
				random_traits = yes
			}
			new_character = {
				join_society = event_target:warrior_lodge_to_revive
				if = {
					limit = {
						NOT = {
							society = {
								any_society_member = {
									is_society_grandmaster = yes
								}
							}
						}
					}
					set_society_grandmaster = yes # Set character as Grand Master
					add_society_currency_massive_effect = yes
				}
			}
		}
        log = "The revive event fired for [From.GetName]."
    }
}

# AI rank up
character_event = {
    id = risingsun.244
    hide_window = yes
    is_triggered_only = yes
    has_dlc = "Holy Fury"
    ai = yes
	
	is_in_society = yes
    
    trigger = { 
        is_in_society = warriors_of_the_rising_sun
		is_inaccessible_or_incapable_trigger = no
		society_can_rank_up = yes
		has_society_currency_minor_trigger = yes
    }

    immediate = {
        random_list = {
            50 = {}
            50 = {
                trigger = {
                    society_rank == 1
					has_character_flag = proved_myself_to_mentor
                }
                society_rank_up = 1
                detract_society_currency_medium_effect = yes # at a worst, they are put at 0 currency
            }
            50 = {
                trigger = {
                    society_rank == 2
                }
                society_rank_up = 1
                detract_society_currency_medium_effect = yes # at a worst, they are put at 0 currency
            }
        }
    }
}

##### Interactions with other members - on_society_pulse

### Sake drinking contest

# Hidden event to find a challenger
character_event = {
	id = risingsun.245
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		is_ill_trigger = no
	}
	
	immediate = {
		random_society_member = {
			limit = {
				ai = yes
				NOR = {
					character = ROOT
					has_actual_regency_trigger = yes
					trait = temperate
					trait = content
					is_ill_trigger = no
					any_rival = {
						character = ROOT
					}
				}
				NOT = {
					has_character_flag = sake_contest
				}
			}
			preferred_limit = {
				OR = {
					trait = drunkard
					trait = hedonist
				}
			}
			preferred_limit = {
				OR = {
					trait = ambitious
					trait = proud
				}
			}
			character_event = { id = risingsun.246 }
		}
	}
}

# Ping the challenger
character_event = {
	id = risingsun.246
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = risingsun.247 }
		}
	}
}

# You have been challenged!
character_event = {
	id = risingsun.247
	desc = EVTDESC_RISINGSUN_247
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_247 # I think not!
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.249 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = ambitious
			}
			modifier = {
				factor = 0
				NOT = {
					trait = temperate
				}
				OR = {
					trait = drunkard
					trait = hedonist
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_247 # You're on!
		
		change_society_currency = 25
		prestige = 10
		
		FROM = {
			character_event = { id = risingsun.250 }
		}
		
		set_character_flag = sake_contest
		character_event = { id = risingsun.297 days = 30 } # Clear the flag
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = content
			}
			modifier = {
				factor = 0.1
				trait = humble
			}
			modifier = {
				factor = 0
				trait = temperate
			}
		}
	}
}

# Everyone knows "248" isn't a REAL number!

# Challenge refused
character_event = {
	id = risingsun.249
	desc = EVTDESC_RISINGSUN_249
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_249 # I see...
	}
}

# Challenge accepted!
character_event = {
	id = risingsun.250
	desc = EVTDESC_RISINGSUN_250
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_250 # May the best man/woman win!
		
		FROM = {
			character_event = { id = risingsun.251 } # Ping
		}
		
		set_character_flag = sake_contest
		character_event = { id = risingsun.297 days = 30 } # Clear the flag
		
		hidden_tooltip = {
			set_variable = {
				which = sake_drinks
				value = 0
			}
			export_to_variable = {
				which = drinks_to_take
				value = health
			}
			if = {
				limit = {
					trait = drunkard
				}
				multiply_variable = {
					which = drinks_to_take
					value = 1.5
				}
			}
		}
	}
}

# Ping the challengee
character_event = {
	id = risingsun.251
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		hidden_tooltip = {
			set_variable = {
				which = sake_drinks
				value = 0
			}
			export_to_variable = {
				which = drinks_to_take
				value = health
			}
			if = {
				limit = {
					trait = drunkard
				}
				multiply_variable = {
					which = drinks_to_take
					value = 1.5
				}
			}
		}
		FROM = {
			character_event = { id = risingsun.252 days = 1 }
		}
	}
}

# Challenger - round 1
character_event = {
	id = risingsun.252
	desc = EVTDESC_RISINGSUN_252
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_252 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.253 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_252 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 1
character_event = {
	id = risingsun.253
	desc = EVTDESC_RISINGSUN_253
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_253 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.254 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_253 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 2
character_event = {
	id = risingsun.254
	desc = EVTDESC_RISINGSUN_254
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_254 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.255 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_254 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 2
character_event = {
	id = risingsun.255
	desc = EVTDESC_RISINGSUN_255
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_255 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.256 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_255 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 3
character_event = {
	id = risingsun.256
	desc = EVTDESC_RISINGSUN_256
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_256 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.257 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_256 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 3
character_event = {
	id = risingsun.257
	desc = EVTDESC_RISINGSUN_257
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_257 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.258 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_257 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 4
character_event = {
	id = risingsun.258
	desc = EVTDESC_RISINGSUN_258
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_258 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.259 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_258 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 4
character_event = {
	id = risingsun.259
	desc = EVTDESC_RISINGSUN_259
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_259 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.260 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_259 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 5
character_event = {
	id = risingsun.260
	desc = EVTDESC_RISINGSUN_260
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_260 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.261 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_260 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 5
character_event = {
	id = risingsun.261
	desc = EVTDESC_RISINGSUN_261
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_261 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.262 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_261 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 6
character_event = {
	id = risingsun.262
	desc = EVTDESC_RISINGSUN_262
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_262 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.263 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_262 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 6
character_event = {
	id = risingsun.263
	desc = EVTDESC_RISINGSUN_263
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_263 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.264 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_263 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 7
character_event = {
	id = risingsun.264
	desc = EVTDESC_RISINGSUN_264
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_264 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.265 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_264 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 7
character_event = {
	id = risingsun.265
	desc = EVTDESC_RISINGSUN_265
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_265 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.266 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_265 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 8
character_event = {
	id = risingsun.266
	desc = EVTDESC_RISINGSUN_266
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_266 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.267 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_266 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 8
character_event = {
	id = risingsun.267
	desc = EVTDESC_RISINGSUN_267
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_267 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.268 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_267 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 9
character_event = {
	id = risingsun.268
	desc = EVTDESC_RISINGSUN_268
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_268 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.269 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_268 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 9
character_event = {
	id = risingsun.269
	desc = EVTDESC_RISINGSUN_269
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_269 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.270 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_269 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 10
character_event = {
	id = risingsun.270
	desc = EVTDESC_RISINGSUN_270
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_270 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.271 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_270 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 10
character_event = {
	id = risingsun.271
	desc = EVTDESC_RISINGSUN_271
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_271 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.272 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_271 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 11
character_event = {
	id = risingsun.272
	desc = EVTDESC_RISINGSUN_272
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_272 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.273 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_272 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 11
character_event = {
	id = risingsun.273
	desc = EVTDESC_RISINGSUN_273
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_273 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.274 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_273 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 12
character_event = {
	id = risingsun.274
	desc = EVTDESC_RISINGSUN_274
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_274 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.275 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_274 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 12
character_event = {
	id = risingsun.275
	desc = EVTDESC_RISINGSUN_275
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_275 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.276 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_275 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 13
character_event = {
	id = risingsun.274
	desc = EVTDESC_RISINGSUN_276
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_276 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.277 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_276 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 13
character_event = {
	id = risingsun.277
	desc = EVTDESC_RISINGSUN_277
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_277 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.278 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_277 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 14
character_event = {
	id = risingsun.278
	desc = EVTDESC_RISINGSUN_278
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_278 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.279 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_278 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 14
character_event = {
	id = risingsun.279
	desc = EVTDESC_RISINGSUN_279
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_279 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.280 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_279 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 15
character_event = {
	id = risingsun.278
	desc = EVTDESC_RISINGSUN_278
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_280 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.281 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_280 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 15
character_event = {
	id = risingsun.281
	desc = EVTDESC_RISINGSUN_281
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_281 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.282 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_281 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 16
character_event = {
	id = risingsun.282
	desc = EVTDESC_RISINGSUN_282
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_282 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.283 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_282 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 16
character_event = {
	id = risingsun.283
	desc = EVTDESC_RISINGSUN_283
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_283 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.284 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_283 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 17
character_event = {
	id = risingsun.284
	desc = EVTDESC_RISINGSUN_284
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_284 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.285 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_284 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 17
character_event = {
	id = risingsun.285
	desc = EVTDESC_RISINGSUN_285
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_285 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.286 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_285 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 18
character_event = {
	id = risingsun.286
	desc = EVTDESC_RISINGSUN_286
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_286 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.287 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_286 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 18
character_event = {
	id = risingsun.287
	desc = EVTDESC_RISINGSUN_287
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_287 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.288 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_287 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 19
character_event = {
	id = risingsun.288
	desc = EVTDESC_RISINGSUN_288
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_288 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.289 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_288 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 19
character_event = {
	id = risingsun.289
	desc = EVTDESC_RISINGSUN_289
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_289 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.290 days = 1 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_289 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challenger - round 20
character_event = {
	id = risingsun.290
	desc = EVTDESC_RISINGSUN_290
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_290 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.291 } # Back to your opponent
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_290 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Challengee - round 20
character_event = {
	id = risingsun.291
	desc = EVTDESC_RISINGSUN_291
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_291 # Take another drink
		
		hidden_tooltip = {
			change_variable = {
				which = sake_drinks
				value = 1
			}
		}
		
		random_list = {
			50 = {
				FROM = {
					character_event = { id = risingsun.292 days = 1 } # Draw!
				}
			}
			50 = {
				modifier = {
					factor = 0.1
					NOT = {
						check_variable = {
							which = sake_drinks
							which = drinks_to_take
						}
					}
				}
				character_event = { id = risingsun.295 } # You drank too much
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_291 # Forfeit
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.294 days = 1 }
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				check_variable = {
					which = sake_drinks
					which = drinks_to_take
				}
			}
			modifier = {
				factor = 0
				trait = drunkard
			}
			modifier = {
				factor = 0
				trait = hedonist
			}
		}
	}
}

# Draw - challenger
character_event = {
	id = risingsun.292
	desc = EVTDESC_RISINGSUN_292
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_292 # We both won!
		
		change_society_currency = 25
		prestige = 25
		
		FROM = {
			character_event = { id = risingsun.293 }
		}
		
		random = {
			chance = 50
			add_trait = drunkard
		}
	}
}

# Draw - challengee
character_event = {
	id = risingsun.293
	desc = EVTDESC_RISINGSUN_293
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_293 # We both won!
		
		change_society_currency = 25
		prestige = 25
		
		random = {
			chance = 50
			add_trait = drunkard
		}
	}
}

# Opponent forfeit - you win!
character_event = {
	id = risingsun.294
	desc = EVTDESC_RISINGSUN_294
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_294 # Well "fought"!
		
		change_society_currency = 50
		prestige = 25
		
		if = {
			limit = {
				check_variable = {
					which = drinks_to_take
					value = 15
				}
			}
			random = {
				chance = 30
				add_trait = drunkard
			}
		}
		else_if = {
			limit = {
				check_variable = {
					which = drinks_to_take
					value = 10
				}
			}
			random = {
				chance = 20
				add_trait = drunkard
			}
		}
		else_if = {
			limit = {
				check_variable = {
					which = drinks_to_take
					value = 5
				}
			}
			random = {
				chance = 15
				add_trait = drunkard
			}
		}
	}
}

# You drank too much
character_event = {
	id = risingsun.295
	desc = EVTDESC_RISINGSUN_295
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_295 # Run outside
		
		change_society_currency = -25
		prestige = -50
		
		FROMFROM = {
			character_event = { id = risingsun.296 days = 1 }
		}
		
		random = {
			chance = 30
			add_trait = drunkard
		}
	}
}

# Opponent drank too much - you win!
character_event = {
	id = risingsun.296
	desc = EVTDESC_RISINGSUN_296
	picture = GFX_evt_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_296 # I won!
		
		change_society_currency = 50
		prestige = 25
	}
}

# Clear the flag
character_event = {
	id = risingsun.297
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = sake_contest
	}
}

### Poetry contest

# Set up the challenge
character_event = {
	id = risingsun.298
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		is_ill_trigger = no
	}
	
	immediate = {
		random_society_member = {
			limit = {
				ai = yes
				NOR = {
					character = ROOT
					has_actual_regency_trigger = yes
					is_dumb_trigger = yes
					trait = content
					is_ill_trigger = no
					any_rival = {
						character = ROOT
					}
				}
				NOT = {
					has_character_flag = poetry_contest
				}
			}
			preferred_limit = {
				trait = poet
			}
			character_event = { id = risingsun.299 } # Ping the challenger
		}
	}
}

# Ping the challenger
character_event = {
	id = risingsun.299
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = risingsun.300 } # Issue the challenge
		}
	}
}

# Challenge issued
character_event = {
	id = risingsun.300
	desc = EVTDESC_RISINGSUN_300
	picture = GFX_evt_feast # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_300 # I think not!
		
		change_society_currency = -25
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.301 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = ambitious
			}
			modifier = {
				factor = 0
				trait = poet
				NOT = {
					trait = shy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_300 # You're on!
		
		change_society_currency = 25
		prestige = 10
		
		FROM = {
			character_event = { id = risingsun.302 }
		}
		
		set_character_flag = poetry_contest
		character_event = { id = risingsun.358 days = 15 } # Clear flags
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = content
			}
			modifier = {
				factor = 0.1
				trait = humble
			}
			modifier = {
				factor = 0
				trait = poet
			}
		}
	}
}

# Challenge refused
character_event = {
	id = risingsun.301
	desc = EVTDESC_RISINGSUN_301
	picture = GFX_evt_feast # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_301 # I see...
	}
}

# Challenge accepted, challenger picks a category from up to four random options - flattering, cruel, slanderous, deceptive, flirting, warfare, nature, religion, personal combat
character_event = {
	id = risingsun.302
	desc = EVTDESC_RISINGSUN_302
	picture = GFX_evt_feast # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		set_character_flag = poetry_contest
		character_event = { id = risingsun.358 days = 15 } # Clear flags
		set_variable = {
			which = poetry_options
			value = 0
		}
		while = {
			limit = {
				NOT = {
					is_variable_equal = {
						which = poetry_options
						value = 4
					}
				}
			}
			change_variable = {
				which = poetry_options
				value = 1
			}
			random_list = {
				10 = {
					modifier = { # Might get fewer options
						factor = 0
						NOT = {
							check_variable = {
								which = poetry_options
								value = 1
							}
						}
					}
					change_variable = {
						which = poetry_options
						value = 1
					}
				}
				10 = {
					modifier = {
						factor = 0
						NOT = {
							opinion = {
								who = FROM
								value = 0
							}
						}
					}
					set_character_flag = flattering_poem
				}
				10 = {
					modifier = {
						factor = 0
						opinion = {
							who = FROM
							value = 0
						}
						NOT = {
							trait = cruel
						}
					}
					modifier = {
						factor = 0
						trait = kind
					}
					set_character_flag = cruel_poem
				}
				10 = {
					modifier = {
						factor = 0
						opinion = {
							who = FROM
							value = 0
						}
					}
					modifier = {
						factor = 0
						trait = kind
					}
					set_character_flag = slanderous_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = honest
					}
					set_character_flag = deceptive_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = chaste
					}
					modifier = {
						factor = 0
						trait = celibate
					}
					modifier = {
						factor = 0
						FROM = {
							NAND = {
								prev_attraction_trigger = yes
								attacted_to_prev_trigger = yes # Vanilla typo!
							}
						}
					}
					modifier = {
						factor = 0
						any_lover = {
							character = FROM
						}
					}
					set_character_flag = flirtatious_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = craven
					}
					set_character_flag = warfare_poem
				}
				10 = {
					set_character_flag = nature_poem
				}
				10 = {
					set_character_flag = religious_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = craven
					}
					set_character_flag = pcs_poem
				}
			}
		}
		# TODO: Clean up flags
		
		FROM = {
			character_event = { id = risingsun.303 days = 1 } # FROM selects a category
		}
	}
	
	option = {
		trigger = {
			has_character_flag = flattering_poem
		}
		name = EVTOPTA_RISINGSUN_302 # Flattering
		set_character_flag = my_poem_is_flattering
		
		prestige = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = gregarious
			}
			modifier = {
				factor = 10
				diplomacy = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = cruel_poem
		}
		name = EVTOPTB_RISINGSUN_302
		set_character_flag = my_poem_is_cruel
		
		change_society_currency = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = cruel
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = cruel
			}
			modifier = {
				factor = 10
				diplomacy = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = slanderous_poem
		}
		name = EVTOPTC_RISINGSUN_302
		set_character_flag = my_poem_is_slanderous
		
		change_society_currency = -25
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = gregarious
			}
			modifier = {
				factor = 10
				intrigue = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = deceptive_poem
		}
		name = EVTOPTD_RISINGSUN_302
		set_character_flag = my_poem_is_deceptive
		
		change_society_currency = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = deceitful
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = deceitful
			}
			modifier = {
				factor = 10
				intrigue = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = flirtatious_poem
		}
		name = EVTOPTE_RISINGSUN_302
		set_character_flag = my_poem_is_flirtatious
		
		prestige = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = chaste
					}
				}
				modifier = {
					factor = 5
					FROM = {
						trait = lustful
					}
				}
				modifier = {
					factor = 2
					trait = lustful
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = chaste
					}
				}
				modifier = {
					factor = 2
					FROM = {
						trait = lustful
					}
				}
				modifier = {
					factor = 2
					trait = lustful
				}
				set_character_flag = good_poem
			}
			40 = {
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = lustful
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				modifier = {
					factor = 0
					FROM = {
						trait = lustful
					}
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = lustful
			}
			modifier = {
				factor = 10
				FROM = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = warfare_poem
		}
		name = EVTOPTF_RISINGSUN_302
		set_character_flag = my_poem_is_warfare
		
		change_society_currency = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				modifier = {
					factor = 0
					trait = strategist
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = brave
			}
			modifier = {
				factor = 10
				trait = strategist
			}
			modifier = {
				factor = 10
				martial = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = nature_poem
		}
		name = EVTOPTG_RISINGSUN_302
		set_character_flag = my_poem_is_nature
		
		piety = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					stewardship = 20
				}
				modifier = {
					factor = 2
					stewardship = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					stewardship = 20
				}
				modifier = {
					factor = 2
					stewardship = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 6
					}
				}
				modifier = {
					factor = 0
					trait = gardener
				}
				modifier = {
					factor = 0
					trait = hunter
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = hunter
			}
			modifier = {
				factor = 10
				trait = gardener
			}
			modifier = {
				factor = 10
				stewardship = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = religious_poem
		}
		name = EVTOPTH_RISINGSUN_302
		set_character_flag = my_poem_is_religious
		
		piety = 25
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					learning = 20
				}
				modifier = {
					factor = 2
					learning = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				modifier = {
					factor = 0.1
					trait = zealous
					FROM = {
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					learning = 20
				}
				modifier = {
					factor = 2
					learning = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = good_poem
			}
			40 = {
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 6
					}
				}
				modifier = {
					factor = 0
					trait = zealous
					FROM = {
						religion = ROOT
					}
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = zealous
			}
			modifier = {
				factor = 10
				learning = 12
			}
			modifier = {
				factor = 0
				trait = cynical
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = pcs_poem
		}
		name = EVTOPTI_RISINGSUN_302
		set_character_flag = my_poem_is_pcs
		
		change_society_currency = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				modifier = {
					factor = 0
					trait = duelist
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = duelist
			}
			modifier = {
				factor = 10
				trait = brave
			}
			modifier = {
				factor = 10
				martial = 12
			}
		}
	}
}

# Challengee picks a category (same regarding options as above)
character_event = {
	id = risingsun.303
	desc = EVTDESC_RISINGSUN_303
	picture = GFX_evt_feast # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	immediate = {
		set_character_flag = poetry_contest
		set_variable = {
			which = poetry_options
			value = 0
		}
		while = {
			limit = {
				NOT = {
					is_variable_equal = {
						which = poetry_options
						value = 4
					}
				}
			}
			change_variable = {
				which = poetry_options
				value = 1
			}
			random_list = {
				10 = {
					modifier = { # Might get fewer options
						factor = 0
						NOT = {
							check_variable = {
								which = poetry_options
								value = 1
							}
						}
					}
					change_variable = {
						which = poetry_options
						value = 1
					}
				}
				10 = {
					modifier = {
						factor = 0
						NOT = {
							opinion = {
								who = FROM
								value = 0
							}
						}
					}
					set_character_flag = flattering_poem
				}
				10 = {
					modifier = {
						factor = 0
						opinion = {
							who = FROM
							value = 0
						}
						NOT = {
							trait = cruel
						}
					}
					modifier = {
						factor = 0
						trait = kind
					}
					set_character_flag = cruel_poem
				}
				10 = {
					modifier = {
						factor = 0
						opinion = {
							who = FROM
							value = 0
						}
					}
					modifier = {
						factor = 0
						trait = kind
					}
					set_character_flag = slanderous_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = honest
					}
					set_character_flag = deceptive_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = chaste
					}
					modifier = {
						factor = 0
						trait = celibate
					}
					modifier = {
						factor = 0
						FROM = {
							NAND = {
								prev_attraction_trigger = yes
								attacted_to_prev_trigger = yes # Vanilla typo!
							}
						}
					}
					modifier = {
						factor = 0
						any_lover = {
							character = FROM
						}
					}
					set_character_flag = flirtatious_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = craven
					}
					set_character_flag = warfare_poem
				}
				10 = {
					set_character_flag = nature_poem
				}
				10 = {
					set_character_flag = religious_poem
				}
				10 = {
					modifier = {
						factor = 0
						trait = craven
					}
					set_character_flag = pcs_poem
				}
			}
		}
		# TODO: Clean up flags
		
		FROM = {
			character_event = { id = risingsun.304 days = 1 } # Inform about the outcome
		}
	}
	
	option = {
		trigger = {
			has_character_flag = flattering_poem
		}
		name = EVTOPTA_RISINGSUN_303
		set_character_flag = my_poem_is_flattering
		
		prestige = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = gregarious
			}
			modifier = {
				factor = 10
				diplomacy = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = cruel_poem
		}
		name = EVTOPTB_RISINGSUN_303
		set_character_flag = my_poem_is_cruel
		
		change_society_currency = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = cruel
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = cruel
			}
			modifier = {
				factor = 10
				diplomacy = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = slanderous_poem
		}
		name = EVTOPTC_RISINGSUN_303
		set_character_flag = my_poem_is_slanderous
		
		change_society_currency = -25
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = gregarious
			}
			modifier = {
				factor = 10
				intrigue = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = deceptive_poem
		}
		name = EVTOPTD_RISINGSUN_303
		set_character_flag = my_poem_is_deceptive
		
		change_society_currency = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						intrigue = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = deceitful
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = deceitful
			}
			modifier = {
				factor = 10
				intrigue = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = flirtatious_poem
		}
		name = EVTOPTE_RISINGSUN_303
		set_character_flag = my_poem_is_flirtatious
		
		prestige = -10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = chaste
					}
				}
				modifier = {
					factor = 5
					FROM = {
						trait = lustful
					}
				}
				modifier = {
					factor = 2
					trait = lustful
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = chaste
					}
				}
				modifier = {
					factor = 2
					FROM = {
						trait = lustful
					}
				}
				modifier = {
					factor = 2
					trait = lustful
				}
				set_character_flag = good_poem
			}
			40 = {
				modifier = {
					factor = 0
					FROM = {
						trait = celibate
					}
				}
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					FROM = {
						trait = lustful
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						diplomacy = 6
					}
				}
				modifier = {
					factor = 0.1
					trait = gregarious
				}
				modifier = {
					factor = 0
					FROM = {
						trait = lustful
					}
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = lustful
			}
			modifier = {
				factor = 10
				FROM = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = warfare_poem
		}
		name = EVTOPTF_RISINGSUN_303
		set_character_flag = my_poem_is_warfare
		
		change_society_currency = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				modifier = {
					factor = 0
					trait = strategist
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = brave
			}
			modifier = {
				factor = 10
				trait = strategist
			}
			modifier = {
				factor = 10
				martial = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = nature_poem
		}
		name = EVTOPTG_RISINGSUN_303
		set_character_flag = my_poem_is_nature
		
		piety = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					stewardship = 20
				}
				modifier = {
					factor = 2
					stewardship = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					stewardship = 20
				}
				modifier = {
					factor = 2
					stewardship = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						stewardship = 6
					}
				}
				modifier = {
					factor = 0
					trait = gardener
				}
				modifier = {
					factor = 0
					trait = hunter
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = hunter
			}
			modifier = {
				factor = 10
				trait = gardener
			}
			modifier = {
				factor = 10
				stewardship = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = religious_poem
		}
		name = EVTOPTH_RISINGSUN_303
		set_character_flag = my_poem_is_religious
		
		piety = 25
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					learning = 20
				}
				modifier = {
					factor = 2
					learning = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				modifier = {
					factor = 0.1
					trait = zealous
					FROM = {
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					learning = 20
				}
				modifier = {
					factor = 2
					learning = 16
				}
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = good_poem
			}
			40 = {
				modifier = {
					factor = 0
					FROM = {
						trait = zealous
						NOT = {
							religion = ROOT
						}
					}
				}
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						learning = 6
					}
				}
				modifier = {
					factor = 0
					trait = zealous
					FROM = {
						religion = ROOT
					}
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = zealous
			}
			modifier = {
				factor = 10
				learning = 12
			}
		}
	}
	
	option = {
		trigger = {
			has_character_flag = pcs_poem
		}
		name = EVTOPTI_RISINGSUN_303
		set_character_flag = my_poem_is_pcs
		
		change_society_currency = 10
		
		random_list = {
			1 = {
				modifier = {
					factor = 10
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = great_poem
			}
			29 = {
				modifier = {
					factor = 2
					trait = poet
				}
				modifier = {
					factor = 2
					martial = 20
				}
				modifier = {
					factor = 2
					martial = 16
				}
				set_character_flag = good_poem
			}
			40 = {
				set_character_flag = accpetable_poem
			}
			29 = {
				modifier = {
					factor = 0.5
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				set_character_flag = bad_poem
			}
			1 = {
				modifier = {
					factor = 0
					trait = poet
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 10
					}
				}
				modifier = {
					factor = 2
					NOT = {
						martial = 6
					}
				}
				modifier = {
					factor = 0
					trait = duelist
				}
				set_character_flag = awful_poem
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = duelist
			}
			modifier = {
				factor = 10
				trait = brave
			}
			modifier = {
				factor = 10
				martial = 12
			}
		}
	}
}

# Fire event telling the challenger how it went + follow-up for the challengee one day later + the challengee's event three days later
character_event = {
	id = risingsun.304
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		# First inform about quality
		if = {
			limit = {
				has_character_flag = great_poem
			}
			character_event = { id = risingsun.306 } # Great poem
		}
		else_if = {
			limit = {
				has_character_flag = good_poem
			}
			character_event = { id = risingsun.307 } # Good poem
		}
		else_if = {
			limit = {
				has_character_flag = accpetable_poem
			}
			character_event = { id = risingsun.308 } # Acceptable poem
		}
		else_if = {
			limit = {
				has_character_flag = bad_poem
			}
			character_event = { id = risingsun.309 } # Bad poem
		}
		else_if = {
			limit = {
				has_character_flag = awful_poem
			}
			character_event = { id = risingsun.340 } # Awful poem
		}
		
		# Then fire follow-up
		if = {
			limit = {
				has_character_flag = my_poem_is_flattering
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
						NOR = {
							any_friend = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
						NOT = {
							any_rival = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.311 days = 1 } # Become friends
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
						NOR = {
							any_friend = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
						NOT = {
							any_rival = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.337 days = 1 } # Accidentally offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_cruel
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.313 days = 1 } # Cruel poem - rivalry
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.339 days = 1 } # Cruel poem - rivalry but mocked
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_slanderous
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.315 days = 1 } # Slanderous poem - rivalry
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.341 days = 1 } # Slanderous poem - rivalry but mocked
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_deceptive
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.317 days = 1 } # Deception not spotted
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.343 days = 1 } # Deception spotted
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_flirtatious
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					if = {
						limit = {
							NOT = {
								any_lover = {
									character = FROM
								}
							}
						}
						FROM = {
							character_event = { id = risingsun.319 days = 1 } # Possibly tumbling
						}
					}
					else = {
						FROM = {
							character_event = { id = risingsun.325 days = 1 } # Already lovers
						}
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.345 days = 1 } # Offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_warfare
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.327 days = 1 } # Warfare - tech points
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.347 days = 1 } # Poor warfare
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_nature
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.329 days = 1 } # Nature is good
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.349 days = 1 } # Nature is boring
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_religious
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					modifier = {
						factor = 0
						FROM = {
							NOT = {
								religion = ROOT
							}
							trait = zealous
						}
					}
					if = {
						limit = {
							FROM = {
								NOT = {
									religion_group = ROOT
								}
							}
						}
						character_event = { id = risingsun.331 days = 1 } # Sympathy
					}
					else = {
						character_event = { id = risingsun.333 days = 1 } # Sympathy impossible, so just appreciate it
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
						NOT = {
							FROM = {
								NOT = {
									religion = ROOT
								}
								trait = zealous
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.351 days = 1 } # Offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_pcs
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.335 days = 1 } # PCS is good
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.353 days = 1 } # PCS is bad
					}
				}
			}
		}
		
		# And finally move on
		FROM = {
			character_event = { id = risingsun.305 days = 3 } # Fire the same event for the challengee
		}
	}
}

# Fire event telling the challengee how it went + follow-up for the challenger one day later + determine the winner three days after THAT
character_event = {
	id = risingsun.305
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		# First inform about quality
		if = {
			limit = {
				has_character_flag = great_poem
			}
			character_event = { id = risingsun.306 } # Great poem
		}
		else_if = {
			limit = {
				has_character_flag = good_poem
			}
			character_event = { id = risingsun.307 } # Good poem
		}
		else_if = {
			limit = {
				has_character_flag = accpetable_poem
			}
			character_event = { id = risingsun.308 } # Acceptable poem
		}
		else_if = {
			limit = {
				has_character_flag = bad_poem
			}
			character_event = { id = risingsun.309 } # Bad poem
		}
		else_if = {
			limit = {
				has_character_flag = awful_poem
			}
			character_event = { id = risingsun.340 } # Awful poem
		}
		
		# Then fire follow-up
		if = {
			limit = {
				has_character_flag = my_poem_is_flattering
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
						NOR = {
							any_friend = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
						NOT = {
							any_rival = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.311 days = 1 } # Become friends
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
						NOR = {
							any_friend = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
						NOT = {
							any_rival = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.337 days = 1 } # Accidentally offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_cruel
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.313 days = 1 } # Cruel poem - rivalry
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.339 days = 1 } # Cruel poem - rivalry but mocked
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_slanderous
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.315 days = 1 } # Slanderous poem - rivalry
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.341 days = 1 } # Slanderous poem - rivalry but mocked
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_deceptive
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.317 days = 1 } # Deception not spotted
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.343 days = 1 } # Deception spotted
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_flirtatious
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					if = {
						limit = {
							NOT = {
								any_lover = {
									character = FROM
								}
							}
						}
						FROM = {
							character_event = { id = risingsun.319 days = 1 } # Possibly tumbling
						}
					}
					else = {
						FROM = {
							character_event = { id = risingsun.325 days = 1 } # Already lovers
						}
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.345 days = 1 } # Offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_warfare
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.327 days = 1 } # Warfare - tech points
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.347 days = 1 } # Poor warfare
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_nature
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.329 days = 1 } # Nature is good
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.349 days = 1 } # Nature is boring
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_religious
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					modifier = {
						factor = 0
						FROM = {
							NOT = {
								religion = ROOT
							}
							trait = zealous
						}
					}
					if = {
						limit = {
							FROM = {
								NOT = {
									religion_group = ROOT
								}
							}
						}
						character_event = { id = risingsun.331 days = 1 } # Sympathy
					}
					else = {
						character_event = { id = risingsun.333 days = 1 } # Sympathy impossible, so just appreciate it
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
						NOT = {
							FROM = {
								NOT = {
									religion = ROOT
								}
								trait = zealous
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.351 days = 1 } # Offensive
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = my_poem_is_pcs
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						has_character_flag = awful_poem
					}
					modifier = {
						factor = 2
						has_character_flag = good_poem
					}
					FROM = {
						character_event = { id = risingsun.335 days = 1 } # PCS is good
					}
				}
				50 = {
					modifier = {
						factor = 2
						has_character_flag = bad_poem
					}
					modifier = {
						factor = 0
						has_character_flag = great_poem
					}
					FROM = {
						character_event = { id = risingsun.353 days = 1 } # PCS is bad
					}
				}
			}
		}
		
		# And finally move on
		FROM = {
			character_event = { id = risingsun.355 days = 3 } # Determine the winner
		}
	}
}

# Poem is done - great
character_event = {
	id = risingsun.306
	desc = EVTDESC_RISINGSUN_306
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_306 # Great!
		
		prestige = 25
	}
}

# Poem is done - good
character_event = {
	id = risingsun.307
	desc = EVTDESC_RISINGSUN_307
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_307 # Good!
		
		prestige = 10
	}
}

# Poem is done - average
character_event = {
	id = risingsun.308
	desc = EVTDESC_RISINGSUN_308
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_308 # Okay!
		
		prestige = 5
	}
}

# Poem is done - bad
character_event = {
	id = risingsun.309
	desc = EVTDESC_RISINGSUN_309
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_309 # Bad!
		
		prestige = -10
	}
}

# Poem is done - awful
character_event = {
	id = risingsun.310
	desc = EVTDESC_RISINGSUN_310
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_310 # Awful!
		
		prestige = -25
	}
}

# Flattering poem - become friends
character_event = {
	id = risingsun.311
	desc = EVTDESC_RISINGSUN_311
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_311 # That was nice!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.312 }
		}
	}
}

# Friendship
character_event = {
	id = risingsun.312
	desc = EVTDESC_RISINGSUN_312
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_312 # Great!
		
		prestige = 10
		
		add_friend = FROM
	}
}

# Cruel poem - rivalry
character_event = {
	id = risingsun.313
	desc = EVTDESC_RISINGSUN_313
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_313 # You dare?
		
		add_rival = FROM
		
		prestige = -25
		
		FROM = {
			character_event = { id = risingsun.314 }
		}
	}
}

# Rivalry
character_event = {
	id = risingsun.314
	desc = EVTDESC_RISINGSUN_314
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_314 # Struck a nerve, I see!
		
		add_rival = FROM
		
		prestige = 10
	}
}

# Slanderous poem - rivalry
character_event = {
	id = risingsun.315
	desc = EVTDESC_RISINGSUN_315
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_315 # You dare?
		
		add_rival = FROM
		
		change_society_currency = -50
		
		FROM = {
			character_event = { id = risingsun.316 }
		}
	}
}

# Rivalry
character_event = {
	id = risingsun.316
	desc = EVTDESC_RISINGSUN_316
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_316 # It was a good guess, it seems...
		
		add_rival = FROM
		
		prestige = 10
	}
}

# Deceptive poem - you don't spot it
character_event = {
	id = risingsun.317
	desc = EVTDESC_RISINGSUN_317
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_317 # I feel like I'm missing something
		
		change_society_currency = -10
		prestige = -10
		
		FROM = {
			character_event = { id = risingsun.318 }
		}
	}
}

# Deception not spotted
character_event = {
	id = risingsun.318
	desc = EVTDESC_RISINGSUN_318
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_318 # Child's play!
		
		change_society_currency = -10
		prestige = 25
	}
}

# Flirting poem - suggest tumbling?
character_event = {
	id = risingsun.319
	desc = EVTDESC_RISINGSUN_319
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_319 # Proposition them
		
		FROM = {
			character_event = { id = risingsun.320 days = 1 } # Tumbling propsed
		}
		
		piety = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_319 # I don't think so!
		
		FROM = {
			character_event = { id = risingsun.321 days = 1 } # No tumbling
		}
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Tumbling suggested
character_event = {
	id = risingsun.320
	desc = EVTDESC_RISINGSUN_320
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_320 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.322 days = 1 } # Tumbling happened
		}
		
		piety = -10
		
		add_lover = FROM
		unprotected_sex_effect = yes
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_320 # I don't think so!
		
		piety = 10
		
		FROM = {
			character_event = { id = risingsun.324 days = 1 } # No tumbling
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Tumbling not suggested
character_event = {
	id = risingsun.321
	desc = EVTDESC_RISINGSUN_321
	picture = GFX_evt_battle # TODO
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_321 # I should have been clearer...
		prestige = -10
	}
}

# Tumbling happened - become lovers
character_event = {
	id = risingsun.322
	desc = EVTDESC_RISINGSUN_322
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_322 # Yay!
		
		add_lover = FROM
	}
}

# Became lovers - unnecessary - this means there's no 323

# No tumbling
character_event = {
	id = risingsun.324
	desc = EVTDESC_RISINGSUN_324
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_324 # Be that way!
	}
}

# Flirting poem - already lovers
character_event = {
	id = risingsun.325
	desc = EVTDESC_RISINGSUN_325
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_325 # That was nice!
		
		FROM = {
			character_event = { id = risingsun.326 } # Inform FROM
		}
	}
}

# Already lovers - response
character_event = {
	id = risingsun.326
	desc = EVTDESC_RISINGSUN_326
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_326 # Nice!
		
		prestige = 10
	}
}

# Warfare poem - gain tech points
character_event = {
	id = risingsun.327
	desc = EVTDESC_RISINGSUN_327
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_327 # Well written!
		
		military_techpoints = 15
		
		FROM = {
			character_event = { id = risingsun.328 } # Inform FROM
		}
	}
}

# Gain Honor
character_event = {
	id = risingsun.328
	desc = EVTDESC_RISINGSUN_328
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_328 # Nice!
		
		change_society_currency = 25
	}
}

# Nature poem - appreciated
character_event = {
	id = risingsun.329
	desc = EVTDESC_RISINGSUN_329
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_329 # Well written!
		
		FROM = {
			character_event = { id = risingsun.330 } # Inform FROM
		}
	}
}

# Poem was appreciated
character_event = {
	id = risingsun.330
	desc = EVTDESC_RISINGSUN_330
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_330 # Nice!
		
		prestige = 10
	}
}

# Religious poem - gain sympathy
character_event = {
	id = risingsun.331
	desc = EVTDESC_RISINGSUN_331
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_331 # Nice!
		
		prestige = 10
		if = {
			limit = {
				FROM = {
					religion_group = christian
				}
			}
			add_trait = sympathy_christendom
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = muslim
				}
			}
			add_trait = sympathy_islam
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = jewish_group
				}
			}
			add_trait = sympathy_judaism
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = pagan_group
				}
			}
			add_trait = sympathy_pagans
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = zoroastrian_group
				}
			}
			add_trait = sympathy_zoroastrianism
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = indian_group
				}
			}
			add_trait = sympathy_indian
		}
		
		FROM = {
			character_event = { id = risingsun.332 } # Inform FROM
		}
	}
}

# FROM gained sympathy - gain piety
character_event = {
	id = risingsun.332
	desc = EVTDESC_RISINGSUN_332
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_332 # Nice!
		
		piety = 25
	}
}

# Religious poem - appreciative if sympathy is impossible
character_event = {
	id = risingsun.333
	desc = EVTDESC_RISINGSUN_333
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_333 # Nice!
		
		FROM = {
			character_event = { id = risingsun.334 } # Inform FROM
		}
	}
}

# FROM appreciated it - gain piety
character_event = {
	id = risingsun.334
	desc = EVTDESC_RISINGSUN_334
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_334 # Nice!
		
		piety = 25
	}
}

# Personal combat - small chance of duel experience
character_event = {
	id = risingsun.335
	desc = EVTDESC_RISINGSUN_335
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_335 # Nice!
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.336 } # Inform FROM
		}
	}
}

# Gain Honor
character_event = {
	id = risingsun.336
	desc = EVTDESC_RISINGSUN_336
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_336 # Nice!
		
		change_society_currency = 25
	}
}

# Poor attempt at flattering poem
character_event = {
	id = risingsun.337
	desc = EVTDESC_RISINGSUN_337
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_337 # That wasn't very nice!
		
		FROM = {
			character_event = { id = risingsun.338 } # Inform FROM
		}
	}
}

# Flattering falls flat
character_event = {
	id = risingsun.338
	desc = EVTDESC_RISINGSUN_338
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_338 # Nice!
		
		prestige = -25
	}
}

# Poor cruel poem - become rivals and mock FROM
character_event = {
	id = risingsun.339
	desc = EVTDESC_RISINGSUN_339
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_339 # You call THAT mockery?
		
		prestige = 25
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.340 } # Inform FROM
		}
	}
}

# Mocked
character_event = {
	id = risingsun.340
	desc = EVTDESC_RISINGSUN_340
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_340 # Curses!
		
		prestige = -25
		add_rival = FROM
	}
}

# Poor slanderous poem - become rivals and mock FROM
character_event = {
	id = risingsun.341
	desc = EVTDESC_RISINGSUN_341
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_341 # You call THAT slander?
		
		prestige = 25
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.342 } # Inform FROM
		}
	}
}

# Mocked
character_event = {
	id = risingsun.342
	desc = EVTDESC_RISINGSUN_342
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_342 # Curses!
		
		change_society_currency = -50
		add_rival = FROM
	}
}

# Deceptive poem - you spot the deception and become rivals
character_event = {
	id = risingsun.343
	desc = EVTDESC_RISINGSUN_343
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_343 # I see through your LIES!
		
		change_society_currency = 25
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.344 } # Inform FROM
		}
	}
}

# Deception spotted
character_event = {
	id = risingsun.344
	desc = EVTDESC_RISINGSUN_344
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_344 # Curses!
		
		change_society_currency = -50
		add_rival = FROM
	}
}

# Poor flirting poem - get offended
character_event = {
	id = risingsun.345
	desc = EVTDESC_RISINGSUN_345
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_345 # How rude!
		
		FROM = {
			character_event = { id = risingsun.346 } # Inform FROM
		}
	}
}

# Offended FROM
character_event = {
	id = risingsun.346
	desc = EVTDESC_RISINGSUN_346
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_346 # Curses!
		
		prestige = -25
	}
}

# Poor warfare poem
character_event = {
	id = risingsun.347
	desc = EVTDESC_RISINGSUN_347
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_347 # That was stupid!
		
		FROM = {
			character_event = { id = risingsun.348 } # Inform FROM
		}
	}
}

# Lose Honor
character_event = {
	id = risingsun.348
	desc = EVTDESC_RISINGSUN_348
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_348 # Curses!
		
		change_society_currency = -25
	}
}

# Poor nature poem - boring
character_event = {
	id = risingsun.349
	desc = EVTDESC_RISINGSUN_349
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_349 # Enough about the cherry blossoms!
		
		FROM = {
			character_event = { id = risingsun.350 } # Inform FROM
		}
	}
}

# Lose prestige
character_event = {
	id = risingsun.350
	desc = EVTDESC_RISINGSUN_350
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_350 # Curses!
		
		prestige = -25
	}
}

# Poor religious poem OR zealous and wrong religion
character_event = {
	id = risingsun.351
	desc = EVTDESC_RISINGSUN_351
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_351 # Wrong! Wrong! Wrong!
		
		piety = 25
		if = {
			limit = {
				FROM = {
					religion_group = christian
				}
				trait = sympathy_christendom
			}
			remove_trait = sympathy_christendom
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = muslim
				}
				trait = sympathy_islam
			}
			remove_trait = sympathy_islam
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = jewish_group
				}
				trait = sympathy_judaism
			}
			remove_trait = sympathy_judaism
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = pagan_group
				}
				trait = sympathy_pagans
			}
			remove_trait = sympathy_pagans
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = zoroastrian_group
				}
				trait = sympathy_zoroastrianism
			}
			remove_trait = sympathy_zoroastrianism
		}
		else_if = {
			limit = {
				FROM = {
					religion_group = indian_group
				}
				trait = sympathy_indian
			}
			remove_trait = sympathy_indian
		}
		
		FROM = {
			character_event = { id = risingsun.352 } # Inform FROM
		}
	}
}

# Lose piety
character_event = {
	id = risingsun.352
	desc = EVTDESC_RISINGSUN_352
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_352 # Curses!
		
		piety = -50
	}
}

# Poor personal combat
character_event = {
	id = risingsun.353
	desc = EVTDESC_RISINGSUN_353
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_353 # That was stupid!
		
		FROM = {
			character_event = { id = risingsun.354 } # Inform FROM
		}
	}
}

# Lose Honor
character_event = {
	id = risingsun.354
	desc = EVTDESC_RISINGSUN_354
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_354 # Curses!
		
		change_society_currency = -25
	}
}

# Determine the winner
character_event = {
	id = risingsun.355
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			50 = {
				modifier = {
					factor = 10
					has_character_flag = great_poem
				}
				modifier = {
					factor = 5
					has_character_flag = good_poem
				}
				modifier = {
					factor = 10
					FROM = {
						has_character_flag = awful_poem
					}
				}
				modifier = {
					factor = 5
					FROM = {
						has_character_flag = bad_poem
					}
				}
				modifier = {
					factor = 2
					trait = poet
				}
				character_event = { id = risingsun.356 } # Victory
				FROM = {
					character_event = { id = risingsun.357 } # Defeat
				}
			}
			50 = {
				modifier = {
					factor = 10
					has_character_flag = awful_poem
				}
				modifier = {
					factor = 5
					has_character_flag = bad_poem
				}
				modifier = {
					factor = 10
					FROM = {
						has_character_flag = great_poem
					}
				}
				modifier = {
					factor = 5
					FROM = {
						has_character_flag = good_poem
					}
				}
				modifier = {
					factor = 2
					FROM = {
						trait = poet
					}
				}
				character_event = { id = risingsun.357 } # Defeat
				FROM = {
					character_event = { id = risingsun.356 } # Victory
				}
			}
		}
	}
}

# You won - might gain Poet
character_event = {
	id = risingsun.356
	desc = EVTDESC_RISINGSUN_356
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				has_character_flag = great_poem
				has_character_flag = good_poem
				has_character_flag = accpetable_poem
			}
		}
		name = EVTOPTA_RISINGSUN_356 # Great!
		
		prestige = 50
		
		if = {
			limit = {
				NOT = {
					trait = poet
				}
			}
			random = {
				chance = 25
				add_trait = poet
			}
		}
	}
	
	option = {
		trigger = {
			NOR = {
				has_character_flag = great_poem
				has_character_flag = good_poem
				has_character_flag = accpetable_poem
			}
		}
		name = EVTOPTB_RISINGSUN_356 # Close one!
		
		prestige = 25
	}
}

# You lost - might gain Poet if you did decently
character_event = {
	id = risingsun.357
	desc = EVTDESC_RISINGSUN_357
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				has_character_flag = great_poem
				has_character_flag = good_poem
				has_character_flag = accpetable_poem
			}
		}
		name = EVTOPTA_RISINGSUN_357 # I still did decently well
		
		prestige = 10
		
		if = {
			limit = {
				NOT = {
					trait = poet
				}
			}
			random = {
				chance = 10
				add_trait = poet
			}
		}
	}
	
	option = {
		trigger = {
			NOR = {
				has_character_flag = great_poem
				has_character_flag = good_poem
				has_character_flag = accpetable_poem
			}
		}
		name = EVTOPTB_RISINGSUN_357 # It wasn't even close...
		
		prestige = -10
	}
}

# Clear flags
character_event = {
	id = risingsun.358
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = poetry_contest
		clr_character_flag = flattering_poem
		clr_character_flag = cruel_poem
		clr_character_flag = slanderous_poem
		clr_character_flag = deceptive_poem
		clr_character_flag = flirtatious_poem
		clr_character_flag = warfare_poem
		clr_character_flag = nature_poem
		clr_character_flag = religious_poem
		clr_character_flag = pcs_poem
		clr_character_flag = my_poem_is_flattering
		clr_character_flag = my_poem_is_cruel
		clr_character_flag = my_poem_is_slanderous
		clr_character_flag = my_poem_is_deceptive
		clr_character_flag = my_poem_is_flirtatious
		clr_character_flag = my_poem_is_warfare
		clr_character_flag = my_poem_is_nature
		clr_character_flag = my_poem_is_religious
		clr_character_flag = my_poem_is_pcs
	}
}

### Becoming friend/rival/lover with random members is handled using the shared events, so no need for separate ones here

### Lose problem traits/gain good traits

# Lose T1 non-martial education?
character_event = {
	id = risingsun.359
	desc = EVTDESC_RISINGSUN_359
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		OR = {
			trait = naive_appeaser
			trait = indulgent_wastrel
			trait = amateurish_plotter
			trait = detached_priest
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_359 # Sounds great!
		
		if = {
			limit = {
				trait = naive_appeaser
			}
		}
		else_if = {
			limit = {
				trait = indulgent_wastrel
			}
		}
		else_if = {
			limit = {
				trait = amateurish_plotter
			}
		}
		else_if = {
			limit = {
				trait = detached_priest
			}
		}
		
		add_trait = misguided_warrior
		
		ai_chance = {
			factor = 90
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_359 # I think not...
		
		ai_chance = {
			factor = 10
		}
	}
}

# Become stronger
character_event = {
	id = risingsun.360
	desc = EVTDESC_RISINGSUN_360
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = weak
		}
		NOT = {
			is_strong_trigger = yes
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_360 # I am stronger now!
		
		if = {
			limit = {
				trait = frail
			}
			remove_trait = frail
		}
		else = {
			add_trait = brawny
		}
	}
}

# Become more diligent
character_event = {
	id = risingsun.361
	desc = EVTDESC_RISINGSUN_361
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = diligent
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_361 # I am more diligent now!
		
		if = {
			limit = {
				trait = slothful
			}
			remove_trait = slothful
		}
		else = {
			add_trait = diligent
		}
	}
}

# Become more patient
character_event = {
	id = risingsun.362
	desc = EVTDESC_RISINGSUN_362
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = patient
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_362 # I am more patient now!
		
		if = {
			limit = {
				trait = wroth
			}
			remove_trait = wroth
		}
		else = {
			add_trait = patient
		}
	}
}

# Become more humble
character_event = {
	id = risingsun.363
	desc = EVTDESC_RISINGSUN_363
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = humble
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_363 # I am more humble now!
		
		if = {
			limit = {
				trait = proud
			}
			remove_trait = proud
		}
		else = {
			add_trait = humble
		}
	}
}

# Become more proud
character_event = {
	id = risingsun.364
	desc = EVTDESC_RISINGSUN_364
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = proud
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_364 # I have the right to be proud!
		
		if = {
			limit = {
				trait = humble
			}
			remove_trait = humble
		}
		else = {
			add_trait = proud
		}
	}
}

# Become more ambitious
character_event = {
	id = risingsun.365
	desc = EVTDESC_RISINGSUN_365
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = ambitious
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_365 # I am less content now!
		
		if = {
			limit = {
				trait = content
			}
			remove_trait = content
		}
		else = {
			add_trait = ambitious
		}
	}
}

# Become braver
character_event = {
	id = risingsun.366
	desc = EVTDESC_RISINGSUN_360
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = brave
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_366 # I am braver now!
		
		if = {
			limit = {
				trait = craven
			}
			remove_trait = craven
		}
		else = {
			add_trait = brave
		}
	}
}

# Become more honest
character_event = {
	id = risingsun.367
	desc = EVTDESC_RISINGSUN_367
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = honest
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_367 # I am more honest now!
		
		if = {
			limit = {
				trait = deceitful
			}
			remove_trait = deceitful
		}
		else = {
			add_trait = honest
		}
	}
}

# Become more just
character_event = {
	id = risingsun.368
	desc = EVTDESC_RISINGSUN_368
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = just
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_360 # I am more just now!
		
		if = {
			limit = {
				trait = arbitrary
			}
			remove_trait = arbitrary
		}
		else = {
			add_trait = just
		}
	}
}

# Become more paranoid
character_event = {
	id = risingsun.369
	desc = EVTDESC_RISINGSUN_369
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		NOT = {
			trait = paranoid
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_369 # I must watch for dishonesty!
		
		if = {
			limit = {
				trait = trusting
			}
			remove_trait = trusting
		}
		else = {
			add_trait = paranoid
		}
	}
}

### Discredit rival

# See an opportunity to discredit a rival (preferably a WotRS member) as far as another member goes - act on it
character_event = {
	id = risingsun.370
	desc = EVTDESC_RISINGSUN_370
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
		any_society_member = {
			NOT = {
				character = ROOT
			}
			has_actual_regency_trigger = no
			NOR = {
				any_rival = {
					character = ROOT
				}
				any_friend = {
					character = ROOT
				}
				any_lover = {
					character = ROOT
				}
			}
			ROOT = {
				any_rival = {
					NOR = {
						any_rival = {
							character = PREVPREV
						}
						any_friend = {
							character = PREVPREV
						}
						any_lover = {
							character = PREVPREV
						}
					}
				}
			}
		}
	}
	
	immediate = {
		random_rival = {
			save_event_target_as = rival_to_discredit
		}
		random_society_member = {
			limit = {
				NOT = {
					character = ROOT
				}
				has_actual_regency_trigger = no
				NOR = {
					any_rival = {
						character = ROOT
					}
					any_friend = {
						character = ROOT
					}
					any_lover = {
						character = ROOT
					}
				}
				event_target:rival_to_discredit = {
					NOR = {
						any_rival = {
							character = PREV
						}
						any_friend = {
							character = PREV
						}
						any_lover = {
							character = PREV
						}
					}
				}
			}
			save_event_target_as = member_to_discredit_rival_to
		}
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_370 # Attempt to discredit them
		
		change_society_currency = -25
		
		random_list = {
			1 = {
				modifier = {
					factor = 2
					society_rank == 4
				}
				modifier = {
					factor = 2
					society_rank >= 3
				}
				modifier = {
					factor = 2
					society_rank >= 2
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				event_target:member_to_discredit_rival_to = {
					character_event = { id = risingsun.371 days = 1 } # Critical success
				}
			}
			29 = {
				modifier = {
					factor = 2
					society_rank == 4
				}
				modifier = {
					factor = 2
					society_rank >= 3
				}
				modifier = {
					factor = 2
					society_rank >= 2
				}
				modifier = {
					factor = 2
					diplomacy = 20
				}
				modifier = {
					factor = 2
					diplomacy = 16
				}
				modifier = {
					factor = 2
					intrigue = 20
				}
				modifier = {
					factor = 2
					intrigue = 16
				}
				event_target:member_to_discredit_rival_to = {
					character_event = { id = risingsun.374 days = 1 } # Success
				}
			}
			40 = {
				event_target:member_to_discredit_rival_to = {
					character_event = { id = risingsun.377 days = 1 } # Nothing happens
				}
			}
			29 = {
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						is_in_society = warriors_of_the_rising_sun
						society_rank == 4
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						is_in_society = warriors_of_the_rising_sun
						society_rank >= 3
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						is_in_society = warriors_of_the_rising_sun
						society_rank >= 2
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						diplomacy = 20
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						diplomacy = 16
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						intrigue = 20
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						intrigue = 16
					}
				}
				event_target:member_to_discredit_rival_to = {
					character_event = { id = risingsun.379 days = 1 } # Failure
				}
			}
			1 = {
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						is_in_society = warriors_of_the_rising_sun
						society_rank == 4
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						is_in_society = warriors_of_the_rising_sun
						society_rank >= 3
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						is_in_society = warriors_of_the_rising_sun
						society_rank >= 2
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						diplomacy = 20
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						diplomacy = 16
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						intrigue = 20
					}
				}
				modifier = {
					factor = 2
					event_target:rival_to_discredit = {
						intrigue = 16
					}
				}
				event_target:member_to_discredit_rival_to = {
					character_event = { id = risingsun.382 days = 1 } # Critical failure
				}
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = ambitious
			}
			modifier = {
				factor = 10
				trait = cruel
			}
			modifier = {
				factor = 10
				trait = wroth
			}
			modifier = {
				factor = 10
				trait = deceitful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_370 # Do nothing
		
		change_society_currency = 50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				trait = kind
			}
			modifier = {
				factor = 10
				trait = honest
			}
			modifier = {
				factor = 10
				trait = just
			}
			modifier = {
				factor = 10
				trait = content
			}
		}
	}
}

# Critical success - the other member rivals your rival and befriends you
character_event = {
	id = risingsun.371
	desc = EVTDESC_RISINGSUN_371
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_371 # I will help you against them!
		
		event_target:rival_to_discredit = {
			add_rival = ROOT
			character_event = { id = risingsun.372 }
		}
		add_friend = FROM
		FROM = {
			character_event = { id = risingsun.373 }
		}
	}
}

# Inform rival - new rival due to FROMFROM
character_event = {
	id = risingsun.372
	desc = EVTDESC_RISINGSUN_372
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_372 # Curses!
		
		prestige = -50
		
		add_rival = FROM
		
		if = {
			limit = {
				is_in_society = warriors_of_the_rising_sun
			}
			change_society_currency = -100
		}
	}
}

# Inform the original character - new friend
character_event = {
	id = risingsun.373
	desc = EVTDESC_RISINGSUN_373
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_373 # Excellent!
		
		add_friend = FROM
		
		change_society_currency = 100
	}
}

# Success - the other member's opinion of the target drops
character_event = {
	id = risingsun.374
	desc = EVTDESC_RISINGSUN_374
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_374 # They do sound dishonest...
		
		event_target:rival_to_discredit = {
			reverse_opinion = {
				who = ROOT
				modifier = opinion_dislike
			}
			character_event = { id = risingsun.375 }
		}
		FROM = {
			character_event = { id = risingsun.376 }
		}
	}
}

# Inform rival - someone likes you less due to FROMFROM
character_event = {
	id = risingsun.375
	desc = EVTDESC_RISINGSUN_375
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_375 # I see...
		
		prestige = -25
		
		if = {
			limit = {
				is_in_society = warriors_of_the_rising_sun
			}
			change_society_currency = -50
		}
	}
}

# Inform original character - you partially succeeded
character_event = {
	id = risingsun.376
	desc = EVTDESC_RISINGSUN_376
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_376 # I see...
		
		prestige = 25
		change_society_currency = 50
	}
}

# Average - nothing happens
character_event = {
	id = risingsun.377
	desc = EVTDESC_RISINGSUN_377
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_377 # I don't know...
		
		FROM = {
			character_event = { id = risingsun.378 }
		}
	}
}

# Inform original character - nothing noteworthy happened
character_event = {
	id = risingsun.378
	desc = EVTDESC_RISINGSUN_378
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_378 # I see...
	}
}

# Failure - the other member's opinion of you drops
character_event = {
	id = risingsun.379
	desc = EVTDESC_RISINGSUN_379
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_379 # You sound dishonest...
		
		event_target:rival_to_discredit = {
			character_event = { id = risingsun.380 }
		}
		FROM = {
			reverse_opinion = {
				who = ROOT
				modifier = opinion_dislike
			}
			character_event = { id = risingsun.381 }
		}
	}
}

# Inform rival - FROMFROM attempted to discredit you but failed
character_event = {
	id = risingsun.380
	desc = EVTDESC_RISINGSUN_380
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_380 # I see...
		
		prestige = 25
		
		if = {
			limit = {
				is_in_society = warriors_of_the_rising_sun
			}
			change_society_currency = 50
		}
	}
}

# Inform original character - you partially failed
character_event = {
	id = risingsun.381
	desc = EVTDESC_RISINGSUN_381
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_381 # I see...
		
		prestige = -25
		change_society_currency = -50
	}
}

# Critical failure - the other member befriends your rival and rivals you
character_event = {
	id = risingsun.382
	desc = EVTDESC_RISINGSUN_382
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_382 # I will help them against you!
		
		event_target:rival_to_discredit = {
			add_friend = ROOT
			character_event = { id = risingsun.383 }
		}
		add_rival = FROM
		FROM = {
			character_event = { id = risingsun.384 }
		}
	}
}

# Inform rival - new friend due to FROMFROM
character_event = {
	id = risingsun.383
	desc = EVTDESC_RISINGSUN_383
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_383 # Excellent!
		
		prestige = 50
		
		add_friend = FROM
		
		if = {
			limit = {
				is_in_society = warriors_of_the_rising_sun
			}
			change_society_currency = 100
		}
	}
}

# Inform the original character - new rival
character_event = {
	id = risingsun.384
	desc = EVTDESC_RISINGSUN_384
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_384 # Curses!
		
		prestige = -50
		
		add_rival = FROM
		
		if = {
			limit = {
				is_in_society = warriors_of_the_rising_sun
			}
			change_society_currency = -100
		}
	}
}

### Strategy discussion

# Had a strategy discussion with other members - gain Martial if < 15 + education trait, otherwise prestige
character_event = {
	id = risingsun.385
	desc = EVTDESC_RISINGSUN_385
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
	}
	
	option = {
		trigger = {
			OR = {
				NOT = {
					martial = 10
				}
				AND = {
					trait = misguided_warrior
					NOT = {
						martial = 18
					}
				}
				AND = {
					trait = tough_soldier
					NOT = {
						martial = 21
					}
				}
				AND = {
					trait = skilled_tactician
					NOT = {
						martial = 24
					}
				}
				AND = {
					trait = brilliant_strategist
					NOT = {
						martial = 27
					}
				}
			}
		}
		
		name = EVTOPTA_RISINGSUN_386 # I learned some useful tricks!
		
		change_society_currency = 25
		change_martial = 1
	}
	
	option = {
		trigger = {
			OR = {
				martial = 10
				AND = {
					trait = misguided_warrior
					martial = 18
				}
				AND = {
					trait = tough_soldier
					martial = 21
				}
				AND = {
					trait = skilled_tactician
					martial = 24
				}
				AND = {
					trait = brilliant_strategist
					martial = 27
				}
			}
		}
		
		name = EVTOPTB_RISINGSUN_386 # People appreciated my input!
		
		change_society_currency = 25
		prestige = 25
	}
}

### Military advances discussion
character_event = {
	id = risingsun.387
	desc = EVTDESC_RISINGSUN_387
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_actual_regency_trigger = no
	}
	
	option = {
		name = EVTOPTA_RISINSUN_387 # I gained some valuable insights
		
		military_techpoints = 15
	}
}

##### The Very Best

### Start and travel progress

# Check how far we've progressed - six + one victories are needed

# You hear of a great swords(wo)man in a (hopefully) faraway land

# Travel progress and event selection

### Opponents

# The Sword of Winter

# The Sword of the Steppes

# The Sword of Christ

# The Sword of the Sands

# The Sword of the Subcontinent

# The Sword of the Middle Kingdom

### The final opponent - The Sword of the Rising Sun

# They arrive and challenge you

### Victory is yours!

# The first victor - gain both a bloodline and an artifact

# Later victors - gain just the bloodline

### You have failed in your quest!

# Failure