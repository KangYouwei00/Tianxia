decisions = {
	japanese_government_0 = { # Confucian Bureaucracy
		only_playable = yes
		potential = {
			ai = no # The AI won't do it, so it doesn't need to see it
			is_feudal = yes
			#OR = {
			#	religion = shinto
			#	AND = {
			#		religion = buddhist
			#		culture_group = japonic
			#	}
			#}
			controls_religion = no # The Tenno has his own government
			NOT = {
				is_government_potential = chinese_imperial_government # If we could be Chinese Imperial, that takes precedence
			}
			OR = {
				government = japanese_feudal_government
				government = japanese_monastic_feudal_government
			}
		}
		allow = {
			war = no
			is_inaccessible_or_incapable_trigger = no
			has_regent = no
			is_adult = yes
		}
		effect = {
			hidden_tooltip = {
				remove_trait = japanese_feudal_trait
				remove_trait = japanese_monastic_trait
			}
			character_event = { id = japan.8 }
		}
		ai_will_do = {
			factor = 0 # Going Bureaucratic will restrict your options
		}
	}
	japanese_government_1 = { # Japanese Feudal
		only_playable = yes
		ai_check_interval = 120
		is_high_prio = yes
		potential = {
			is_feudal = yes
			OR = {
				religion = shinto
				AND = {
					religion = buddhist
					culture_group = japonic
				}
			}
			controls_religion = no # The Tenno has his own government
			NOT = {
				is_government_potential = chinese_imperial_government # If we could be Chinese Imperial, that takes precedence
			}
			NOT = {
				trait = japanese_feudal_trait
			}
		}
		allow = {
			war = no
			is_inaccessible_or_incapable_trigger = no
			has_regent = no
			is_adult = yes
			OR = {
				independent = yes
				NOT = {
					any_liege = {
						OR = {
							government = chinese_imperial_government
							government = japanese_imperial_government
							government = chinese_vassal_government
						}
					}
					prestige = 500
				}
				AND = {
					NOT = {
						any_liege = {
							government = chinese_imperial_government
						}
					}
					any_liege = {
						OR = {
							government = japanese_imperial_government
							government = chinese_vassal_government
						}
						PREV = {
							vassals_can_change_to_japanese_feudal_trigger = yes
						}
					}
				}
			}
		}
		effect = {
			if = {
				limit = {
					NOT = {
						government = japanese_monastic_feudal_government
					}
				}
				if = {
					limit = {
						OR = {
							liege = {
								OR = {
									government = japanese_feudal_government
									government = japanese_monastic_feudal_government
								}
							}
							independent = yes
						}
					}
					prestige = -500
				}
				else_if = {
					limit = {
						NOT = {
							any_liege = {
								OR = {
									government = japanese_imperial_government
									government = chinese_vassal_government
								}
								NOR = {
									has_regent = yes
									is_inaccessible_or_incapable_trigger = yes
								}
							}
						}
					}
					prestige = -1000
				}
				prestige = -2500
			}
			hidden_tooltip = {
				add_trait = japanese_feudal_trait
				remove_trait = japanese_monastic_trait
			}
			character_event = { id = japan.8 }
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
				always = yes # Slow it down
			}
			modifier = {
				factor = 0
				trait = japanese_monastic_trait # If you're Japanese Monastic Feudal, keep that as it is less restrictive
			}
		}
	}
	japanese_government_2 = { # Japanese Monastic Feudal
		only_playable = yes
		ai_check_interval = 120
		is_high_prio = yes
		potential = {
			is_feudal = yes
			religion = shinto
			controls_religion = no # The Tenno has his own government
			NOT = {
				is_government_potential = chinese_imperial_government # If we could be Chinese Imperial, that takes precedence
			}
			NOT = {
				trait = japanese_monastic_trait
			}
		}
		allow = {
			war = no
			is_inaccessible_or_incapable_trigger = no
			has_regent = no
			is_adult = yes
			can_become_japanese_monastic_feudal_trigger = yes
		}
		effect = {
			if = {
				limit = {
					capital_scope = {
						religion = shinto
						county = {
							OR = {
								any_direct_de_jure_vassal_title = {
									is_holy_site = shinto
								}
								is_holy_site = shinto
							}
						}
						culture = PREV
					}
					OR = {
						culture_group = japonic
						k_chrysanthemum_throne = {
							holder_scope = {
								culture = PREV
							}
						}
					}
				}
				piety = -2000
			}
			else = {
				piety = -5000
			}
			hidden_tooltip = {
				add_trait = japanese_monastic_trait
				remove_trait = japanese_feudal_trait
			}
			character_event = { id = japan.8 }
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
				always = yes # Slow it down
			}
			modifier = {
				factor = 0
				NOT = {
					trait = zealous # We don't want everyone to flip to it just because they have the piety
				}
			}
		}
	}
	
	recreate_japan = { # The Tenno's government prevents empire creation, so this is necessary
		only_playable = yes
		is_high_prio = yes
		potential = {
			controls_religion = yes
			religion = shinto
			independent = yes
			is_tributary = no
			e_japan = {
				has_holder = no
			}
		}
		allow = {
			war = no
			is_inaccessible_or_incapable_trigger = no
			has_actual_regency_trigger = no
			is_adult = yes
			# Controls all of Honshu, Kyushu, and Shikoku
			completely_controls_region = world_japan_south
			completely_controls_region = world_japan_north
		}
		effect = {
			set_character_flag = restoring_japan
			primary_title = {
				e_japan = {
					grant_title = ROOT
					copy_title_laws = PREV
					#copy_title_history = PREV # This could result in undesirable rulers showing up in e_japan's history, so don't do this!
				}
			}
			# Destroy any other empire controlled by ROOT
			any_demesne_title = {
				limit = {
					tier = emperor
					NOT = {
						title = e_japan
					}
				}
				destroy_landed_title = THIS
			}
			clr_character_flag = restoring_japan
		}
	}
	
	take_over_regency = {
		is_high_prio = yes
		potential = {
			is_playable = yes
			liege = {
				religion = shinto
				controls_religion = yes
				trait = under_regency
				regent = {
					OR = {
						NOT = {
							trait = japanese_regent
						}
						is_ruler = no
						has_regent = yes
					}
				}
			}
		}
		
		allow = {
			is_inaccessible_or_incapable_trigger = no
			has_actual_regency_trigger = no
			trait = japanese_regent
		}
		
		effect = {
			liege = {
				regent = {
					remove_trait = japanese_regent
				}
			}
			give_minor_title = title_regent
		}
		
		ai_will_do = {
			factor = 100
		}
	}
	
	end_regency_ask_nicely = {
		only_playable = yes
		ai_check_interval = 12
		
		potential = {
			religion = shinto
			controls_religion = yes
			trait = under_regency
			NOT = { trait = incapable }
		}
		
		allow = {
			OR = {
				AND = {
					prestige = 2000
					regent = {
						any_owned_bloodline = {
							has_bloodline_flag = regency_bloodline
							bloodline_is_active_for = PREV
						}
					}
				}
				AND = {
					prestige = 1000
					regent = {
						NOT = {
							any_owned_bloodline = {
								has_bloodline_flag = regency_bloodline
								bloodline_is_active_for = PREV
							}
						}
					}
				}
			}
			has_actual_regency_trigger = no
		}
		
		effect = {
			if = {
				limit = {
					regent = {
						any_owned_bloodline = {
							has_bloodline_flag = regency_bloodline
							bloodline_is_active_for = PREV
						}
						
					}
				}
				prestige = -1000
			}
			else = {
				prestige = -500
			}
			if = {
				limit = {
					regent = {
						NOT = {
							higher_tier_than = baron
						}
					}
				}
				remove_trait = under_regency
				any_character = {
					remove_trait = japanese_regent
				}
			}
			else = {
				regent = {
					letter_event = { id = japan.24 }
				}
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOR = {
					regent = {
						NOT = {
							higher_tier_than = baron
						}
					}
					regent = {
						OR = {
							trait = kind
							trait = content
							trait = humble
						}
						NOR = {
							trait = ambitious
							trait = proud
							trait = envious
						}
					}
					regent = {
						NOT = {
							relative_power_to_liege = 0.1
						}
					}
				}
			}
			modifier = {
				factor = 0
				regent = {
					higher_tier_than = baron
				}
				war = yes
			}
			modifier = {
				factor = 0.01
				regent = {
					higher_tier_than = baron
				}
				trait = content
			}
			modifier = {
				factor = 0.2
				regent = {
					higher_tier_than = baron
				}
				OR = {
					trait = dull
					trait = slow
				}
			}
			modifier = {
				factor = 0.2
				regent = {
					higher_tier_than = baron
				}
				trait = kind
			}
			modifier = {
				factor = 0
				regent = {
					higher_tier_than = baron
				}
				regent = {
					reverse_opinion = {
						who = ROOT
						value = 50
					}
				}
				OR = {
					trait = envious
					trait = deceitful
					trait = ambitious
				}			
			}		
			modifier = {
				factor = 0
				regent = {
					higher_tier_than = baron
				}
				regent = {
					reverse_opinion = {
						who = ROOT
						value = 25
					}
				}
				NOT = {
					OR = {
						trait = envious
						trait = deceitful
						trait = ambitious
					}
				}
			}
			modifier = {
				factor = 0.2
				regent = {
					higher_tier_than = baron
				}
				regent = {
					reverse_opinion = {
						who = ROOT
						value = 0
					}
				}
				NOT = {
					OR = {
						trait = envious
						trait = deceitful
						trait = ambitious
					}
				}
			}
			modifier = {
				factor = 0.2
				regent = {
					higher_tier_than = baron
				}
				regent = {
					reverse_opinion = {
						who = ROOT
						value = 25
					}
				}
				OR = {
					trait = envious
					trait = deceitful
					trait = ambitious
				}
			}
			modifier = {
				factor = 1.5
				regent = {
					higher_tier_than = baron
				}
				NOT = {
					regent = {
						reverse_opinion = {
							who = ROOT
							value = -50
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				regent = {
					higher_tier_than = baron
				}
				NOT = {
					regent = {
						reverse_opinion = {
							who = ROOT
							value = -75
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				regent = {
					higher_tier_than = baron
				}
				is_smart_trigger = yes
			}
			modifier = {
				factor = 2.0
				regent = {
					higher_tier_than = baron
				}
				trait = envious
			}
			modifier = {
				factor = 2.0
				regent = {
					higher_tier_than = baron
				}
				trait = deceitful
			}
			modifier = {
				factor = 4.0
				regent = {
					higher_tier_than = baron
				}
				trait = ambitious
			}
			# If we're the top liege, make us more likely to try to depose the regent
			modifier = {
				factor = 2.0
				regent = {
					higher_tier_than = baron
				}
				tier = emperor
			}
			# If the regent is low tier, make us more likely to try to depose the regent
			modifier = {
				factor = 1.5
				regent = {
					higher_tier_than = baron
				}
				regent = {
					NOT = {
						tier = king
					}
				}
			}
			modifier = {
				factor = 1.5
				regent = {
					higher_tier_than = baron
				}
				regent = {
					NOR = {
						tier = king
						tier = duke
					}
				}
			}
			# Make the liege less eager to replace a regent that belongs to a regency bloodline
			modifier = {
				factor = 0.5
				regent = {
					higher_tier_than = baron
				}
				regent = {
					any_owned_bloodline = {
						has_bloodline_flag = regency_bloodline
						bloodline_is_active_for = PREV
					}
				}
			}
		}
	}
	
	become_regent_ask_nicely = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 12
		
		potential = {
			liege = {
				religion = shinto
				controls_religion = yes
				has_regent = no
			}
		}
		
		allow = {
			OR = {
				prestige = 1000
				AND = {
					any_owned_bloodline = {
						has_bloodline_flag = regency_bloodline
						bloodline_is_active_for = PREV
					}
					prestige = 500
				}
			}
			has_actual_regency_trigger = no
			liege = {
				NOR = {
					has_actual_regency_trigger = yes
					trait = under_regency
					war = yes
				}
			}
			OR = {
				is_voter = yes # Safe to use here!
				among_most_powerful_vassals = 7
				any_owned_bloodline = {
					has_bloodline_flag = regency_bloodline
					bloodline_is_active_for = PREV
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					any_owned_bloodline = {
						has_bloodline_flag = regency_bloodline
						bloodline_is_active_for = PREV
					}
				}
				prestige = -500
			}
			else = {
				prestige = -1000
			}
			liege = {
				letter_event = { id = japan.27 }
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = kind
					trait = content
					trait = humble
				}
				NOR = {
					trait = ambitious
					trait = proud
					trait = envious
				}
			}
			modifier = {
				factor = 0
				war = yes
			}
			modifier = {
				factor = 0.01
				trait = content
			}
			modifier = {
				factor = 0.2
				OR = {
					trait = dull
					trait = slow
				}
			}
			modifier = {
				factor = 0.2
				trait = kind
			}
			modifier = {
				factor = 0
				liege = {
					reverse_opinion = {
						who = ROOT
						value = 50
					}
				}
				OR = {
					trait = envious
					trait = deceitful
					trait = ambitious
				}			
			}		
			modifier = {
				factor = 0
				liege = {
					reverse_opinion = {
						who = ROOT
						value = 25
					}
				}
				NOT = {
					OR = {
						trait = envious
						trait = deceitful
						trait = ambitious
					}
				}
			}
			modifier = {
				factor = 0.2
				liege = {
					reverse_opinion = {
						who = ROOT
						value = 0
					}
				}
				NOT = {
					OR = {
						trait = envious
						trait = deceitful
						trait = ambitious
					}
				}
			}
			modifier = {
				factor = 0.2
				liege = {
					reverse_opinion = {
						who = ROOT
						value = 25
					}
				}
				OR = {
					trait = envious
					trait = deceitful
					trait = ambitious
				}
			}
			modifier = {
				factor = 1.5
				NOT = {
					liege = {
						reverse_opinion = {
							who = ROOT
							value = -50
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				NOT = {
					liege = {
						reverse_opinion = {
							who = ROOT
							value = -75
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				is_smart_trigger = yes
			}
			modifier = {
				factor = 2.0
				trait = envious
			}
			modifier = {
				factor = 2.0
				trait = deceitful
			}
			modifier = {
				factor = 4.0
				trait = ambitious
			}
			# If our liege is only king-tier, make us more likely to act
			modifier = {
				factor = 2.0
				liege = {
					tier = king
				}
			}
			# If we're a king, make us more likely to act
			modifier = {
				factor = 2
				tier = king
			}
		}
	}
}