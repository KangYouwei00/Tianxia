# Warriors of the Rising Sun events

namespace = risingsun

##### Society joining

# From on_character_ask_to_join_society - TODO
character_event = {
    id = risingsun.1
	hide_window = yes
	
    is_triggered_only = yes
	
    trigger = {
    	FROM = { leader = { society_member_of = warriors_of_the_rising_sun } }
    }
    immediate = {
    	FROM = { leader = { character_event = { id = risingsun.2 } } }
    }
}

# Ping event
character_event = {
    id = risingsun.2
	hide_window = yes
	
    is_triggered_only = yes
	
    immediate = {
    	FROM = { letter_event = { id = risingsun.3 } }
    }
}

# Welcome letter
letter_event = {
    id = risingsun.3
    desc = EVTDESC_RISINGSUN_3
    border = GFX_event_letter_frame_war

    is_triggered_only = yes
	
	immediate = { set_character_flag = society_join_block }
	
    option = { 
        name = EVTOPTA_RISINGSUN_3

        join_society = warriors_of_the_rising_sun
		
		clr_character_flag = society_join_block
    }
}

##### Missions

### Mission assignment

# Mission assignment event (hidden)
character_event = {
	id = risingsun.4
	hide_window = yes

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		is_in_society = warriors_of_the_rising_sun
		is_society_grandmaster = no
		has_any_quest = no
		NOT = { is_inaccessible_trigger = yes }
		NOT = { has_character_modifier = quest_cooldown_timer }
	}

	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				NOT = {
					any_rival = {
						character = ROOT
					}
				}
			}
			save_event_target_as = rising_sun_leader
		}
		if = {
			limit = { is_landed = yes }
			capital_scope = { save_event_target_as = home_capital } #For some distance checks...
		}
		
		random_list = {
			1000 = {
				modifier = {
					factor = 0.05
					ai = yes # Better for the AI to not always have a mentor
				}
				modifier = {
					factor = 0
					NAND = {
						society_rank == 1
						NOR = {
							any_opinion_modifier_target = {
								reverse_has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_mentor
								}
							}
							has_character_flag = proved_myself_to_mentor
						}
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.5 } # Find a mentor
				}
			}
			20 = {
				modifier = {
					factor = 0
					society_rank == 1
				}
				modifier = {
					factor = 0.1
					society_rank >= 3
				}
				modifier = {
					factor = 0
					NOT = {
						any_society_member = {
							is_in_society = warriors_of_the_rising_sun
							society_rank == 1
							NOR = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_mentor
									}
								}
								has_character_flag = proved_myself_to_mentor
							}
						}
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.7 } # Take on a(nother) student
				}
			}
			20 = {
				modifier = {
					factor = 0
					NOT = {
						society = {
							any_society_member = {
								is_in_society = warriors_of_the_rising_sun
								ai = yes
								age = 16
								NOT = { character = ROOT }
								is_inaccessible_or_incapable_trigger = no
								NOT = { has_character_modifier = bedridden_illness }
								NOT = { has_character_modifier = severe_illness }
								NOT = { has_character_flag = call_to_legend_active }
								NOT = {
									has_opinion_modifier = {
										modifier = opinion_rising_sun_student
										who = ROOT
									}
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.9 } # Duel someone
				}
			}
			5 = {
				modifier = {
					factor = 0
					NOT = {
					society = {
							any_society_member = {
								is_in_society = warriors_of_the_rising_sun
								ai = yes
								age = 16
								NOT = { character = ROOT }
								is_inaccessible_or_incapable_trigger = no
								NOT = { has_character_modifier = bedridden_illness }
								NOT = { has_character_modifier = severe_illness }
								NOT = { has_character_flag = call_to_legend_active }
								NOT = {
									has_opinion_modifier = {
										modifier = opinion_rising_sun_student
										who = ROOT
									}
								}
								any_rival = {
									character = ROOT
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.14 } # Duel a rival - to the death!
				}
			}
			20 = {
				modifier = {
					factor = 0
					NOT = {
						society_currency >= 100 # If you can't declare the war, don't bother
					}
				}
				modifier = {
					factor = 0
					NAND = {
						war = no
						is_playable = yes
						OR = {
							any_independent_ruler = { # Either an independent ruler
								is_tributary = no
								war = no
								NOT = {
									any_realm_lord = {
										character = ROOT
									}
								}
								any_realm_title = {
									location = {
										OR = {
											AND = { #Either you can travel via water to them...
												is_coastal = yes
												can_naval_path_to = { target = event_target:home_capital distance < 1000 }
											}
											AND = {
												#Or they are accessible via land...
												event_target:home_capital = { is_coastal = no }
												can_land_path_to = { target = event_target:home_capital distance < 1000 }
											}
											AND = { #Or not a coastal place...
												is_coastal = no
												can_land_path_to = { target = event_target:home_capital distance < 1000 }
											}
										}
									}
								}
								NOT = {
									has_truce = ROOT
								}
								# Not too uneven a fight
								relative_power = {
									who = ROOT
									power = 0.9 # A slight advantage is permissible
								}
								NOT = {
									relative_power = {
										who = ROOT
										power = 2.0 # And we don't want a far too powerful target
									}
								}
								OR = {
									NOT = {
										is_in_society = warriors_of_the_rising_sun
									}
									ROOT = {
										root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
									}
								}
							}
							AND = {
								independent = no
								liege = { # Or a vassal of our liege
									any_vassal = {
										war = no
										any_realm_title = {
											location = {
												OR = {
													AND = { #Either you can travel via water to them...
														is_coastal = yes
														can_naval_path_to = { target = event_target:home_capital distance < 1000 }
													}
													AND = {
														#Or they are accessible via land...
														event_target:home_capital = { is_coastal = no }
														can_land_path_to = { target = event_target:home_capital distance < 1000 }
													}
													AND = { #Or not a coastal place...
														is_coastal = no
														can_land_path_to = { target = event_target:home_capital distance < 1000 }
													}
												}
											}
										}
										NOT = {
											has_truce = ROOT
										}
										# Not too uneven a fight
										relative_power = {
											who = ROOT
											power = 0.9 # A slight advantage is permissible
										}
										NOT = {
											relative_power = {
												who = ROOT
												power = 2.0 # And we don't want a far too powerful target
											}
										}
										OR = {
											NOT = {
												is_in_society = warriors_of_the_rising_sun
											}
											ROOT = {
												root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
											}
										}
									}
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.16 } # Win a War of Honor
				}
			}
			5 = {
				modifier = {
					factor = 0
					NOT = {
						society_currency >= 100 # If you can't declare the war, don't bother
					}
				}
				modifier = {
					factor = 0
					NAND = {
						war = no
						is_playable = yes
						any_rival = {
							is_playable = yes
							OR = {
								same_liege = ROOT
								AND = {
									independent = yes
									is_tributary = no
									NOT = {
										any_realm_lord = {
											character = ROOT
										}
									}
								}
							}
							NOT = {
								has_truce = ROOT
							}
							any_realm_title = {
								location = {
									OR = {
										AND = { #Either you can travel via water to them...
											is_coastal = yes
											can_naval_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = {
											#Or they are accessible via land...
											event_target:home_capital = { is_coastal = no }
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = { #Or not a coastal place...
											is_coastal = no
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
									}
								}
							}
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.18 } # Win a War of Honor - against a rival
				}
			}
			10 = {
				modifier = {
					factor = 0
					NAND = {
						is_playable = yes
						any_demesne_province = {
							num_of_empty_holdings = 1
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.20 } # Build a castle
				}
			}
			10 = {
				modifier = {
					factor = 0
					NAND = {
						has_dlc = "Way of Life"
						is_playable = yes
						OR = {
							has_focus = focus_business # Warriors don't trade!
							has_focus = focus_seduction # Dishonest
							has_focus = focus_intrigue # Dishonest
							has_focus = focus_scholarship # Scholarship is not important
							has_focus = focus_theology # Religious matters are not to be the priority
						}
					}
				}
				modifier = {
					factor = 0
					society_rank == 1
					NOR = {
						any_opinion_modifier_target = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_rising_sun_mentor
							}
						}
						has_character_flag = proved_myself_to_mentor
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.22 } # Switch to the War focus
				}
			}
			1 = {
				modifier = {
					factor = 0
					NAND = {
						is_playable = yes
						society_rank >= 2
						NOT = {
							any_society_member = {
								is_in_society = warriors_of_the_rising_sun
								has_quest = quest_the_very_best
							}
						}
						combat_rating = 50 # Anything else would be far too low
					}
				}
				modifier = {
					factor = 0.1
					ai = yes
				}
				modifier = {
					factor = 0.1
					NOT = {
						combat_rating = 75
					}
				}
				modifier = {
					factor = 0.25
					NOT = {
						combat_rating = 100
					}
				}
				event_target:rising_sun_leader = {
					character_event = { id = risingsun.25 } # Become the very best (like no one ever was!)
				}
			}
			75 = { # AI bypasses missions at times
				trigger = {
					ai = yes
				}
				random_list = {
					70 = {
						modifier = {
							factor = 0.9
							society_influence >= 30
						}
						modifier = {
							factor = 0.9
							society_influence >= 40
						}
						modifier = {
							factor = 0.8
							society_influence >= 50
						}
						modifier = {
							factor = 0.7
							society_influence >= 70
						}
						modifier = {
							factor = 0.6
							society_influence >= 80
						}
						modifier = {
							factor = 0.5
							society_influence >= 90
						}
						add_mission_succeed_influence_effect = yes
					}
					30 = {
						add_mission_fail_influence_effect = yes
					}
				}
			}
			200 = {
				trigger = {
					ai = yes
				}
				# Do nothing
			}
		}
	}
}

### Mission - get a mentor

# Ping
character_event = {
	id = risingsun.5
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.6 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.6
	desc = EVTDESC_RISINGSUN_6

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes

	trigger = {
		society_rank == 1
		NOR = {
			any_opinion_modifier_target = {
				reverse_has_opinion_modifier = {
					who = ROOT
					modifier = opinion_rising_sun_mentor
				}
			}
			has_character_flag = proved_myself_to_mentor
		}
	}

	option = {
		name = ACCEPT
		set_quest = quest_rising_sun_get_mentor
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Mission = get a student

# Ping
character_event = {
	id = risingsun.7
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.8 }
		}
	}
}

society_quest_event = {
	id = risingsun.8
	desc = EVTDESC_RISINGSUN_8

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes

	trigger = {
		society_rank >= 2
		NOR = {
			any_opinion_modifier_target = {
				reverse_has_opinion_modifier = {
					who = ROOT
					modifier = opinion_rising_sun_mentor
				}
			}
			has_character_flag = proved_myself_to_mentor
		}
	}

	option = {
		name = ACCEPT
		set_quest = quest_rising_sun_get_student
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Duel someone

# Ping
character_event = {
	id = risingsun.9
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.10 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.10
	desc = EVTDESC_RISINGSUN_10

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes

	trigger = {
		any_society_member = {
			is_in_society = warriors_of_the_rising_sun
			ai = yes
			age = 16
			NOT = { character = ROOT }
			is_inaccessible_or_incapable_trigger = no
			NOT = { has_character_modifier = bedridden_illness }
			NOT = { has_character_modifier = severe_illness }
			NOT = { has_character_flag = call_to_legend_active }
			NOT = {
				has_opinion_modifier = {
					modifier = opinion_rising_sun_student
					who = ROOT
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = { #best case (someone within diplo-range, not sick, not seriously injured already)...
				any_society_member = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					is_maimed_trigger = no
					has_medium_disability_trigger = no #limits the character to some extent
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
					is_within_diplo_range = ROOT
				}
			}

			any_society_member = {
				limit = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					is_maimed_trigger = no
					has_medium_disability_trigger = no #limits the character to some extent
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
					is_within_diplo_range = ROOT
				}
				# TODO: Change these preferred_limits to score_values
				preferred_limit = {
					NOT = {
						any_rival = {
							character = ROOT
						}
					}
				}
				score_value = { #Prioritizes selecting some kind of warrior...
	                value = 10
	                matching_soldier_score = yes
	            }
	            save_event_target_as = duel_target
			}
			
		}
		else_if = { #second best choice (same, but outside of diplo-range)...
			limit = {
				any_society_member = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					has_medium_disability_trigger = no #limits the character to some extent
					is_maimed_trigger = no #has a maimed trait
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
				}
			}
			any_society_member = {
				limit = {
					same_society_as = ROOT
					ai = yes
					age = 16
					NOT = { character = ROOT }
					NOT = { age = 60 }
					has_medium_disability_trigger = no #limits the character to some extent
					is_maimed_trigger = no #has a maimed trait
					has_severe_disability_trigger = no
					character_disease_trigger = no
					NOT = { has_character_flag = call_to_legend_active }
				}
				# TODO: Change these preferred_limits to score_values
				preferred_limit = {
					NOT = {
						any_rival = {
							character = ROOT
						}
					}
				}
				score_value = { #Prioritizes selecting some kind of warrior...
	                value = 10
	                matching_soldier_score = yes
	            }
	            save_event_target_as = duel_target
			}
		}
		else_if = { #third best option (now also injured or old folks allowed)...
			limit = {
				any_society_member = {
					same_society_as = ROOT
	                ai = yes
					age = 16
	                NOT = { character = ROOT }
		            is_inaccessible_or_incapable_trigger = no
	                NOT = { has_character_modifier = bedridden_illness }
		            NOT = { has_character_modifier = severe_illness }
		            NOT = { has_character_flag = call_to_legend_active }
	            }
			}
			any_society_member = {
				limit = {
					same_society_as = ROOT
					ai = yes
					age = 16
	                NOT = { character = ROOT }
		            is_inaccessible_or_incapable_trigger = no
	                NOT = { has_character_modifier = bedridden_illness }
		            NOT = { has_character_modifier = severe_illness }
		            NOT = { has_character_flag = call_to_legend_active }
				}
				# TODO: Change these preferred_limits to score_values
				preferred_limit = {
					NOT = {
						any_rival = {
							character = ROOT
						}
					}
				}
				score_value = { #Prioritizes selecting some kind of warrior...
	                value = 10
	                matching_soldier_score = yes
	            }
	            save_event_target_as = duel_target
			}
		}
	}
	
	quest_target = event_target:duel_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:duel_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_duel_honor
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}


# Hidden Cleanup event for (prematurely) dead quest targets...
character_event = {
	id = risingsun.11
	hide_window = yes
	has_dlc = "Holy Fury"

	is_triggered_only = yes # TODO

	trigger = { 
		is_quest_target = yes
	}

	immediate = {
		any_quester_targeting_this = {
			limit = {
				OR = {
					has_quest = quest_rising_sun_duel_honor
					has_quest = quest_rising_sun_duel_deadly
				}
			}
			character_event = { id = risingsun.12 days = 15 } # Clears duel mission
		}
		any_quester_targeting_this = {
			limit = {
				OR = {
					has_quest = quest_rising_sun_war_of_honor
					has_quest = quest_rising_sun_war_of_honor_rival
				}
			}
			character_event = { id = risingsun.12 days = 15 } # Clears war mission
		}
	}
}

# Notification "I have failed my mission duel <dead character>..."
character_event = {
    id = risingsun.12
    picture = GFX_evt_battle
    border = GFX_event_normal_frame_war
    has_dlc = "Holy Fury"

    is_triggered_only = yes

    desc = {
    	text = EVTDESC_RISINGSUN_12_DUEL
    	trigger = {
			OR = {
				has_quest = quest_rising_sun_duel_honor
				has_quest = quest_rising_sun_duel_deadly
			}
			NOT = { has_quest = quest_rising_sun_war_of_honor	}
			NOT = { has_quest = quest_rising_sun_war_of_honor_rival	}
    	}
    }
    desc = {
    	text = EVTDESC_RISINGSUN_12_WAR
    	trigger = {
			OR = {
				has_quest = quest_rising_sun_war_of_honor
				has_quest = quest_rising_sun_war_of_honor_rival
			}
			NOT = { has_quest = quest_rising_sun_duel_honor	}
			NOT = { has_quest = quest_rising_sun_duel_deadly	}
    	}
    }
    trigger = {
    	OR = {
	    	has_quest = quest_rising_sun_duel_honor
	    	has_quest = quest_rising_sun_duel_deadly
	    	has_quest = quest_rising_sun_war_of_honor
	    	has_quest = quest_rising_sun_war_of_honor_rival
    	}
    }

    notification = yes

    option = { #Alas
        name = ALAS
        character_event = { id = risingsun.13 days = 1 } # ACTUAL cleanup
    }
}

character_event = { #*Actual* clean up, because the event above can't handle all the instant stuff
    id = risingsun.13
    hide_window = yes
    is_triggered_only = yes
    immediate = {
    	if = {
        	limit = {
				OR = {
					has_quest = quest_rising_sun_duel_honor
					has_quest = quest_rising_sun_duel_deadly
				}
        	}
        	add_character_modifier = {
				name = quest_cooldown_timer
				hidden = yes
				days = 1000
			}
        }

        clr_quest = { id = quest_rising_sun_duel_honor failure = yes }
        clr_quest = { id = quest_rising_sun_duel_deadly failure = yes }
        clr_character_flag = deadly_duel@FROM	
    }
}

### Duel a rival - to the death!

# Ping
character_event = {
	id = risingsun.14
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.15 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.15
	desc = EVTDESC_RISINGSUN_15

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		society = {
			any_society_member = {
				is_in_society = warriors_of_the_rising_sun
				ai = yes
				age = 16
				NOT = { character = ROOT }
				is_inaccessible_or_incapable_trigger = no
				NOT = { has_character_modifier = bedridden_illness }
				NOT = { has_character_modifier = severe_illness }
				NOT = { has_character_flag = call_to_legend_active }
				NOT = {
					has_opinion_modifier = {
						modifier = opinion_rising_sun_student
						who = ROOT
					}
				}
				any_rival = {
					character = ROOT
				}
			}
		}
	}
	
	immediate = {
		any_rival = {
			limit = {
				is_inaccessible_or_incapable_trigger = no
				NOT = { has_character_modifier = bedridden_illness }
				NOT = { has_character_modifier = severe_illness }
				is_adult = yes
				ai = yes
				ROOT = { capital_scope = { distance = { where = PREV distance < 1000 } } }
			}
			# TODO: Change these preferred_limits to score_values
			preferred_limit = {
				is_in_society = warriors_of_the_rising_sun
			}
			score_value = { #Prioritizes selecting some kind of character you wouldn't get along with...
				value = 10
				potential_rival_score = yes
			}
			score_value = { #Extra weight for characters you've encountered before...
				value = 10
				disliked_target_selection_score = yes
			}
			save_event_target_as = duel_target
			break = yes
		}
	}
	
	quest_target = event_target:duel_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:duel_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_duel_deadly
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Win a War of Honor

# Ping
character_event = {
	id = risingsun.16
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.17 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.17
	desc = EVTDESC_RISINGSUN_17

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		war = no
		is_playable = yes
		OR = {
			any_independent_ruler = { # Either an independent ruler
				is_tributary = no
				war = no
				any_realm_title = {
					location = {
						OR = {
							AND = { #Either you can travel via water to them...
								is_coastal = yes
								can_naval_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = {
								#Or they are accessible via land...
								event_target:home_capital = { is_coastal = no }
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = { #Or not a coastal place...
								is_coastal = no
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
						}
					}
				}
				NOT = {
					has_truce = ROOT
				}
				# Not too uneven a fight
				relative_power = {
					who = ROOT
					power = 0.9 # A slight advantage is permissible
				}
				NOT = {
					relative_power = {
						who = ROOT
						power = 2.0 # And we don't want a far too powerful target
					}
				}
				OR = {
					NOT = {
						is_in_society = warriors_of_the_rising_sun
					}
					ROOT = {
						root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
					}
				}
			}
			AND = {
				independent = no
				liege = { # Or a vassal of our liege
					any_vassal = {
						war = no
						any_realm_title = {
							location = {
								OR = {
									AND = { #Either you can travel via water to them...
										is_coastal = yes
										can_naval_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = {
										#Or they are accessible via land...
										event_target:home_capital = { is_coastal = no }
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = { #Or not a coastal place...
										is_coastal = no
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
								}
							}
						}
						NOT = {
							has_truce = ROOT
						}
						# Not too uneven a fight
						relative_power = {
							who = ROOT
							power = 0.9 # A slight advantage is permissible
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 2.0 # And we don't want a far too powerful target
							}
						}
						OR = {
							NOT = {
								is_in_society = warriors_of_the_rising_sun
							}
							ROOT = {
								root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
							}
						}
					}
				}
			}
		}
	}

	immediate = {
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						any_independent_ruler = { # Either an independent ruler
							is_tributary = no
							war = no
							NOT = {
								any_realm_lord = {
									character = ROOT
								}
							}
							any_realm_title = {
								location = {
									OR = {
										AND = { #Either you can travel via water to them...
											is_coastal = yes
											can_naval_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = {
											#Or they are accessible via land...
											event_target:home_capital = { is_coastal = no }
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = { #Or not a coastal place...
											is_coastal = no
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
									}
								}
							}
							NOT = {
								has_truce = ROOT
							}
							# Not too uneven a fight
							relative_power = {
								who = ROOT
								power = 0.9 # A slight advantage is permissible
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 2.0 # And we don't want a far too powerful target
								}
							}
							OR = {
								NOT = {
									is_in_society = warriors_of_the_rising_sun
								}
								ROOT = {
									root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
								}
							}
						}
					}
				}
				any_independent_ruler = { # Either an independent ruler
					limit = {
						is_tributary = no
						war = no
						NOT = {
							any_realm_lord = {
								character = ROOT
							}
						}
						any_realm_title = {
							location = {
								OR = {
									AND = { #Either you can travel via water to them...
										is_coastal = yes
										can_naval_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = {
										#Or they are accessible via land...
										event_target:home_capital = { is_coastal = no }
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
									AND = { #Or not a coastal place...
										is_coastal = no
										can_land_path_to = { target = event_target:home_capital distance < 1000 }
									}
								}
							}
						}
						NOT = {
							has_truce = ROOT
						}
						# Not too uneven a fight
						relative_power = {
							who = ROOT
							power = 0.9 # A slight advantage is permissible
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 2.0 # And we don't want a far too powerful target
							}
						}
						OR = {
							NOT = {
								is_in_society = warriors_of_the_rising_sun
							}
							ROOT = {
								root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
							}
						}
					}
					# TODO: Change these preferred_limits to score_values
					preferred_limit = {
						relative_power = {
							who = ROOT
							power = 0.9
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 1.2
							}
						}
					}
					preferred_limit = {
						relative_power = {
							who = ROOT
							power = 1.2
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 1.5
							}
						}
					}
					preferred_limit = {
						relative_power = {
							who = ROOT
							power = 1.5
						}
						NOT = {
							relative_power = {
								who = ROOT
								power = 1.8
							}
						}
					}
					save_event_target_as = war_target
				}
			}
			50 = {
				modifier = {
					factor = 0
					independent = yes
				}
				modifier = {
					factor = 0
					NOT = {
						liege = { # Or a vassal of our liege
							any_vassal = {
								war = no
								any_realm_title = {
									location = {
										OR = {
											AND = { #Either you can travel via water to them...
												is_coastal = yes
												can_naval_path_to = { target = event_target:home_capital distance < 1000 }
											}
											AND = {
												#Or they are accessible via land...
												event_target:home_capital = { is_coastal = no }
												can_land_path_to = { target = event_target:home_capital distance < 1000 }
											}
											AND = { #Or not a coastal place...
												is_coastal = no
												can_land_path_to = { target = event_target:home_capital distance < 1000 }
											}
										}
									}
								}
								NOT = {
									has_truce = ROOT
								}
								# Not too uneven a fight
								relative_power = {
									who = ROOT
									power = 0.9 # A slight advantage is permissible
								}
								NOT = {
									relative_power = {
										who = ROOT
										power = 2.0 # And we don't want a far too powerful target
									}
								}
								OR = {
									NOT = {
										is_in_society = warriors_of_the_rising_sun
									}
									ROOT = {
										root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
									}
								}
							}
						}
					}
				}
				liege = { # Or a vassal of our liege
					any_vassal = {
						limit = {
							war = no
							any_realm_title = {
								location = {
									OR = {
										AND = { #Either you can travel via water to them...
											is_coastal = yes
											can_naval_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = {
											#Or they are accessible via land...
											event_target:home_capital = { is_coastal = no }
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
										AND = { #Or not a coastal place...
											is_coastal = no
											can_land_path_to = { target = event_target:home_capital distance < 1000 }
										}
									}
								}
							}
							NOT = {
								has_truce = ROOT
							}
							# Not too uneven a fight
							relative_power = {
								who = ROOT
								power = 0.9 # A slight advantage is permissible
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 2.0 # And we don't want a far too powerful target
								}
							}
							OR = {
								NOT = {
									is_in_society = warriors_of_the_rising_sun
								}
								ROOT = {
									root_has_sufficient_honor_to_war_of_honor_vs_prev_trigger = yes
								}
							}
						}
						# TODO: Change these preferred_limits to score_values
						preferred_limit = {
							relative_power = {
								who = ROOT
								power = 0.9
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 1.2
								}
							}
						}
						preferred_limit = {
							relative_power = {
								who = ROOT
								power = 1.2
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 1.5
								}
							}
						}
						preferred_limit = {
							relative_power = {
								who = ROOT
								power = 1.5
							}
							NOT = {
								relative_power = {
									who = ROOT
									power = 1.8
								}
							}
						}
						save_event_target_as = war_target
					}
				}
			}
		}
	}
	
	quest_target = event_target:war_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:war_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_war_of_honor
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Win a War of Honor - against a rival

# Ping
character_event = {
	id = risingsun.18
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.19 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.19
	desc = EVTDESC_RISINGSUN_19

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		is_playable = yes
		any_rival = {
			is_playable = yes
			OR = {
				same_liege = ROOT
				AND = {
					is_tributary = no
					independent = yes
					NOT = {
						any_realm_lord = {
							character = ROOT
						}
					}
				}
			}
			NOT = {
				has_truce = ROOT
			}
			any_realm_title = {
				location = {
					OR = {
						AND = { #Either you can travel via water to them...
							is_coastal = yes
							can_naval_path_to = { target = event_target:home_capital distance < 1000 }
						}
						AND = {
							#Or they are accessible via land...
							event_target:home_capital = { is_coastal = no }
							can_land_path_to = { target = event_target:home_capital distance < 1000 }
						}
						AND = { #Or not a coastal place...
							is_coastal = no
							can_land_path_to = { target = event_target:home_capital distance < 1000 }
						}
					}
				}
			}
		}
	}
	
	immediate = {
		any_rival = {
			limit = {
				is_playable = yes
				OR = {
					same_liege = ROOT
					AND = {
						independent = yes
						NOT = {
							any_realm_lord = {
								character = ROOT
							}
						}
					}
				}
				NOT = {
					has_truce = ROOT
				}
				any_realm_title = {
					location = {
						OR = {
							AND = { #Either you can travel via water to them...
								is_coastal = yes
								can_naval_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = {
								#Or they are accessible via land...
								event_target:home_capital = { is_coastal = no }
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
							AND = { #Or not a coastal place...
								is_coastal = no
								can_land_path_to = { target = event_target:home_capital distance < 1000 }
							}
						}
					}
				}
			}
			# TODO: Change these preferred_limits to score_values
			preferred_limit = {
				is_in_society = warriors_of_the_rising_sun
				relative_power = {
					who = ROOT
					power = 0.8
				}
				NOT = {
					relative_power = {
						who = ROOT
						power = 1.2
					}
				}
			}
			preferred_limit = {
				is_in_society = warriors_of_the_rising_sun
				relative_power = {
					who = ROOT
					power = 0.75
				}
				NOT = {
					relative_power = {
						who = ROOT
						power = 1.5
					}
				}
			}
			preferred_limit = {
				is_in_society = warriors_of_the_rising_sun
				relative_power = {
					who = ROOT
					power = 0.5
				}
				NOT = {
					relative_power = {
						who = ROOT
						power = 2
					}
				}
			}
			preferred_limit = {
				is_in_society = warriors_of_the_rising_sun
			}
			score_value = { #Prioritizes selecting some kind of character you wouldn't get along with...
				value = 10
				potential_rival_score = yes
			}
			score_value = { #Extra weight for characters you've encountered before...
				value = 10
				disliked_target_selection_score = yes
			}
			save_event_target_as = war_target
			break = yes
		}
	}
	
	quest_target = event_target:war_target #Is this how it's done? <-- To quote vanilla!

	option = {
		name = ACCEPT
		event_target:war_target = {
			show_scope_change = no
			set_quest_target = {
				id = quest_rising_sun_war_of_honor_rival
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Build a castle

# Ping
character_event = {
	id = risingsun.20
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.21 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.21
	desc = EVTDESC_RISINGSUN_21
	border = GFX_event_letter_frame_war

	is_triggered_only = yes


	option = {
		name = ACCEPT
		set_quest = quest_rising_sun_castle_construction
	}
	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### Switch to the War focus

# Ping
character_event = {
	id = risingsun.22
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.23 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.23
	desc = EVTDESC_RISINGSUN_23
	border = GFX_event_letter_frame_war

	is_triggered_only = yes

	quest_target = ROOT

	option = {
		name = ACCEPT
		ROOT = {
			set_quest_target = {
				id = quest_rising_sun_war_focus
				holder = ROOT
			}
		}
	}
	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
	
	after = {
		hidden_effect = { #For the one who instantly selected the focus, bypassing the mission-trigger
			if = {
				limit = { has_focus = focus_war }
				character_event = { id = risingsun.24 days = 1 }
			}
		}
	}
}

#on_focus_selected: Changing to War focus.
character_event = {
	id = risingsun.24
	desc = EVTDESC_RISINGSUN_24
	picture = GFX_evt_china_expansionist
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	trigger = {
		is_in_society = warriors_of_the_rising_sun
		has_quest = quest_rising_sun_war_focus
		has_focus = focus_war
	}

	option = {
		name = EVOPTA_RISING_SUN_24
		clr_quest = quest_rising_sun_war_focus
		add_society_currency_minor_effect = yes
	}
}

### Prove yourself as the very best (like no one ever was!)

# Ping
character_event = {
	id = risingsun.25
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			society_quest_event = { id = risingsun.26 }
		}
	}
}

# Inform the member
society_quest_event = {
	id = risingsun.26
	desc = EVTDESC_RISINGSUN_26
	border = GFX_event_letter_frame_war

	is_triggered_only = yes

	option = {
		name = ACCEPT
		ROOT = {
			set_quest_target = {
				id = quest_rising_sun_the_very_best
				holder = ROOT
			}
		}
	}
	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

### War of Honor mission success/failure

# You succeeded (hidden)
character_event = {
	id = risingsun.27
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				NOR = {
					any_rival = {
						character = ROOT
					}
					ROOT = {
						quest_target = {
							character = PREV
						}
					}
				}
			}
			save_event_target_as = rising_sun_leader
		}
		
		event_target:rising_sun_leader = {
			character_event = { id = risingsun.28 }
		}
	}
}

# Ping congratulating person
character_event = {
	id = risingsun.28
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			letter_event = { id = risingsun.29 }
		}
	}
}

# You succeeded!
letter_event = {
	id = risingsun.29
	border = GFX_event_letter_frame_war

	portrait = event_target:rising_sun_leader
	
	is_triggered_only = yes

	trigger = {
		OR = {
			has_quest = quest_rising_sun_war_of_honor
			has_quest = quest_rising_sun_war_of_honor_rival
		}
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor
		}
		text = EVTDESC_RISINGSUN_29A
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor_rival
		}
		text = EVTDESC_RISINGSUN_29B
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_29 # I proved my honor!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor
			}
			clr_quest = quest_rising_sun_war_of_honor
			add_society_currency_major_effect = yes
		}
		else_if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor_rival
			}
			clr_quest = quest_rising_sun_war_of_rival
			add_society_currency_major_effect = yes
		}
	}
}

# You failed (hidden)
character_event = {
	id = risingsun.30
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				OR = {
					AND = {
						is_society_grandmaster = yes
						NOT = {
							character = ROOT
						}
					}
					AND = {
						society_rank == 3
						ROOT = {
							is_society_grandmaster = yes
						}
					}
				}
				same_society_as = ROOT
			}
			preferred_limit = {
				NOR = {
					any_rival = {
						character = ROOT
					}
					ROOT = {
						quest_target = {
							character = PREV
						}
					}
				}
			}
			save_event_target_as = rising_sun_leader
		}
		
		event_target:rising_sun_leader = {
			character_event = { id = risingsun.31 }
		}
	}
}

# Ping congratulating person
character_event = {
	id = risingsun.31
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			letter_event = { id = risingsun.32 }
		}
	}
}

# You succeeded!
letter_event = {
	id = risingsun.32
	border = GFX_event_letter_frame_war

	portrait = event_target:rising_sun_leader
	
	is_triggered_only = yes

	trigger = {
		OR = {
			has_quest = quest_rising_sun_war_of_honor
			has_quest = quest_rising_sun_war_of_honor_rival
		}
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor
		}
		text = EVTDESC_RISINGSUN_32A
	}
	
	desc = {
		trigger = {
			has_quest = quest_rising_sun_war_of_honor_rival
		}
		text = EVTDESC_RISINGSUN_32B
	}
	
	option = {
		name = EVTOPTA_RISINGSUN_32 # Dishonor on me!
		
		if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor
			}
			clr_quest = quest_rising_sun_war_of_honor
			detract_society_currency_major_effect = yes
		}
		else_if = {
			limit = {
				has_quest = quest_rising_sun_war_of_honor_rival
			}
			clr_quest = quest_rising_sun_war_of_rival
			detract_society_currency_major_effect = yes
		}
	}
}

##### Brothers in Arms

# Called to arms
letter_event = {
	id = risingsun.33
	desc = EVTDESC_RISINGSUN_33
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_33 # Of course I'll join!
		
		change_society_currency = 100
		
		join_attacker_wars = FROM
		join_defender_wars = FROM
		
		FROMFROM = {
			letter_event = { id = risingsun.34 }
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_33 # I don't think so!
		
		change_society_currency = -500
		
		FROMFROM = {
			letter_event = { id = risingsun.35 }
		}
	}
}

# FROM accepted CtA
letter_event = {
	id = risingsun.34
	desc = EVTDESC_RISINGSUN_34
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_34 # Good to hear!
		
		opinion = {
			who = FROM
			modifier = opinion_accepted_rising_sun_cta
		}
	}
}

# FROM refused CtA
letter_event = {
	id = risingsun.35
	desc = EVTDESC_RISINGSUN_35
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_35 # I will remember this!
		
		opinion = {
			who = FROM
			modifier = opinion_refused_rising_sun_cta
		}
	}
}

##### Mentor events

### Approaching a possible mentor

# Mentor approached
letter_event = {
	id = risingsun.36
	desc = EVTDESC_RISINGSUN_36
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_36 # Sure; I'll teach you!
		
		opinion = {
			who = FROMFROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROMFROM
			modifier = opinion_rising_sun_mentor
		}
		FROMFROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		
		FROMFROM = {
			letter_event = { id = risingsun.37 days = 1 } # FROMFROM got a mentor
		}
		FROMFROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		if = {
			limit = {
				has_quest = quest_rising_sun_get_student
			}
			clr_quest = quest_rising_sun_get_student
			add_society_currency_medium_effect = yes
		}
		
		change_society_currency = 50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 10
				FROMFROM = {
					any_friend = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 10
				FROMFROM = {
					any_lover = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 5
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.1
				society_rank == 3
			}
			modifier = {
				factor = 0.01
				society_rank == 4
			}
			modifier = {
				factor = 0.001
				trait = greedy
			}
			modifier = {
				factor = 0.001
				trait = proud
			}
			modifier = {
				factor = 0.001
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 0.1
				has_any_opinion_modifier = opinion_rising_sun_student
			}
			modifier = {
				factor = 5
				has_quest = quest_rising_sun_get_student
			}
			modifier = {
				factor = 0.1
				trait = slothful
			}
			modifier = {
				factor = 2
				trait = diligent
			}
			modifier = {
				factor = 0.1
				is_female = no
				FROMFROM = {
					is_female = yes
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_36 # Show me what you've got!
		
		FROMFROM = {
			letter_event = { id = risingsun.38 days = 1 } # FROMFROM is asked to show their skill
		}
		
		change_society_currency = 25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.5
				society_rank == 3
			}
			modifier = {
				factor = 0.1
				society_rank == 4
			}
			modifier = {
				factor = 0.001
				trait = greedy
			}
			modifier = {
				factor = 0.001
				trait = proud
			}
			modifier = {
				factor = 0.001
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 5
				has_any_opinion_modifier = opinion_rising_sun_student
			}
			modifier = {
				factor = 10
				has_quest = quest_rising_sun_get_student
			}
			modifier = {
				factor = 0.01
				trait = slothful
			}
			modifier = {
				factor = 10
				trait = diligent
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				NOT = {
					has_dlc = "Conclave"
				}
				is_landed = no
				holds_favor_on = FROMFROM
			}
		}
		
		name = EVTOPTC_RISINGSUN_36 # Some gold would be nice...
		
		FROMFROM = {
			letter_event = { id = risingsun.39 days = 1 } # FROMFROM is asked to pay
		}
		
		change_society_currency = -50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.5
				society_rank == 3
			}
			modifier = {
				factor = 0.1
				society_rank == 4
			}
			modifier = {
				factor = 10
				trait = greedy
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 5
				trait = slothful
			}
			modifier = {
				factor = 0.2
				trait = diligent
			}
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			is_landed = yes
			NOT = {
				holds_favor_on = FROMFROM
			}
		}
		
		name = EVTOPTD_RISINGSUN_36 # A Favor would be nice...
		
		FROMFROM = {
			letter_event = { id = risingsun.40 days = 1 } # FROMFROM is asked for a Favor
		}
		
		change_society_currency = -50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				FROMFROM = {
					any_rival = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.5
				society_rank == 3
			}
			modifier = {
				factor = 0.1
				society_rank == 4
			}
			modifier = {
				factor = 10
				trait = greedy
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = envious
			}
			modifier = {
				factor = 0.001
				trait = cruel
			}
			modifier = {
				factor = 5
				trait = slothful
			}
			modifier = {
				factor = 0.2
				trait = diligent
			}
		}
	}
	
	option = {
		name = EVTOPTE_RISINGSUN_36 # Teach YOU? HA!
		
		FROMFROM = {
			letter_event = { id = risingsun.41 days = 1 } # FROMFROM is told to get lost
		}
		
		change_society_currency = -100
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				FROMFROM = {
					any_friend = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 0.01
				FROMFROM = {
					any_lover = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 0.1
				FROMFROM = {
					any_close_relative = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 0.1
				FROMFROM = {
					dynasty = ROOT
				}
			}
			modifier = {
				factor = 0.1
				society_rank == 2
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 0.001
				trait = kind
			}
			modifier = {
				factor = 10
				trait = cruel
			}
			modifier = {
				factor = 2
				has_any_opinion_modifier = opinion_rising_sun_student
			}
			modifier = {
				factor = 0.1
				has_quest = quest_rising_sun_get_student
			}
			modifier = {
				factor = 10
				trait = slothful
			}
		}
	}
}

# Mentor accepted right away
letter_event = {
	id = risingsun.37
	desc = EVTDESC_RISINGSUN_37
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_37 # Yay!
		
		clr_quest = quest_rising_sun_get_mentor
		add_society_currency_minor_effect = yes
	}
}

# Mentor set a challenge - show me what you've got!
letter_event = {
	id = risingsun.38
	desc = EVTDESC_RISINGSUN_38
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_38 # But of course!
		
		hidden_tooltip = {
			random_list = {
				1 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = 20
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = 50
						}
					}
					FROM = {
						character_event = { id = risingsun.42 days = 1 } # Did incredibly well
					}
				}
				29 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = 5
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = 20
							}
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = 10
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = 20
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.43 days = 1 } # Did good
					}
				}
				40 = {
					FROM = {
						character_event = { id = risingsun.44 days = 1 } # Did okay
					}
				}
				29 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = -5
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = -20
							}
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = -10
						}
						NOT = {
							combat_rating_diff = {
								who = FROM
								value = -20
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.45 days = 1 } # Did poorly
					}
				}
				1 = {
					modifier = {
						factor = 2
						combat_rating_diff = {
							who = FROM
							value = -20
						}
					}
					modifier = {
						factor = 5
						combat_rating_diff = {
							who = FROM
							value = -50
						}
					}
					FROM = {
						character_event = { id = risingsun.46 days = 1 } # Did incredibly poorly
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_38 # I don't think so!
		
		change_society_currency = -50
		
		FROM = {
			character_event = { id = risingsun.47 days = 1 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mentor demanded a bribe - money (scaled by tier)
letter_event = {
	id = risingsun.39
	desc = EVTDESC_RISINGSUN_39
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_39 # But of course!
		
		if = {
			limit = {
				OR = {
					tier = emperor
					any_close_relative = {
						dynasty = ROOT
						tier = emperor
					}
				}
			}
			wealth = -250
			FROM = {
				wealth = 250
			}
		}
		else_if = {
			limit = {
				OR = {
					tier = king
					any_close_relative = {
						dynasty = ROOT
						tier = king
					}
				}
			}
			wealth = -100
			FROM = {
				wealth = 100
			}
		}
		else_if = {
			limit = {
				OR = {
					tier = duke
					any_close_relative = {
						dynasty = ROOT
						tier = duke
					}
				}
			}
			wealth = -50
			FROM = {
				wealth = 50
			}
		}
		else_if = {
			limit = {
				OR = {
					tier = count
					any_close_relative = {
						dynasty = ROOT
						tier = count
					}
				}
			}
			wealth = -25
			FROM = {
				wealth = 25
			}
		}
		else = {
			wealth = -10
			FROM = {
				wealth = 10
			}
		}
		
		FROM = {
			letter_event = { id = risingsun.63 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = greedy
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_39 # I don't think so!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.64 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = charitable
			}
		}
	}
}

# Mentor demanded a bribe - Favor (only with Conclave and no held Favor by them)
letter_event = {
	id = risingsun.40
	desc = EVTDESC_RISINGSUN_40
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_40 # But of course!
		
		FROM = {
			add_favor = ROOT
		}
		
		FROM = {
			letter_event = { id = risingsun.65 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = proud
					trait = ambitious
					trait = paranoid
					trait = envious
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_40 # I don't think so!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.66 days = 1 }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = humble
					trait = content
				}
			}
		}
	}
}

# Mentor refused right away
letter_event = {
	id = risingsun.41
	desc = EVTDESC_RISINGSUN_41
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_41 # I will remember this!
		
		prestige = -25
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Show me what you've got - incredibly good student
character_event = {
	id = risingsun.42
	desc = EVTDESC_RISINGSUN_42
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				society_rank >= 2
				NOR = {
					any_rival = {
						character = ROOT
					}
					any_rival = {
						character = FROM
					}
				}
				combat_rating_diff = {
					who = ROOT
					value = 25
				}
			}
			save_event_target_as = better_mentor
		}
	}
	
	option = {
		trigger = {
			event_target:better_mentor = {
				always = yes
			}
		}
		name = EVTOPTA_RISINGSUN_42 # I cannot teach you much; you should try [other member]!
		
		change_society_currency = 100
		
		FROM = {
			character_event = { id = risingsun.48 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = proud
			}
			modifier = {
				factor = 10
				event_target:better_mentor = {
					OR = {
						any_friend = {
							character = ROOT
						}
						any_lover = {
							character = ROOT
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_42 # I'll teach you!
		
		change_society_currency = 50
		
		FROM = {
			letter_event = { id = risingsun.59 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTC_RISINGSUN_42 # You're no good!
		
		change_society_currency = -100
		
		FROM = {
			letter_event = { id = risingsun.61 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					trait = cruel
					trait = envious
				}
			}
			modifier = {
				factor = 0.01
				trait = honest
			}
		}
	}
}

# Show me what you've got - good student
character_event = {
	id = risingsun.43
	desc = EVTDESC_RISINGSUN_43
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	
	option = {
		name = EVTOPTA_RISINGSUN_43 # I'll teach you!
		
		change_society_currency = 50
		
		FROM = {
			letter_event = { id = risingsun.59 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_43 # You're no good!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.61 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					trait = cruel
					trait = envious
				}
			}
			modifier = {
				factor = 0.01
				trait = honest
			}
		}
	}
}

# Show me what you've got - average student
character_event = {
	id = risingsun.44
	desc = EVTDESC_RISINGSUN_44
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_44 # I'll teach you!
		
		change_society_currency = 25
		
		FROM = {
			letter_event = { id = risingsun.60 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_44 # You're no good!
		
		FROM = {
			letter_event = { id = risingsun.62 }
		}
		
		change_society_currency = -25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOR = {
					trait = cruel
					trait = envious
				}
			}
		}
	}
}

# Show me what you've got - poor student
character_event = {
	id = risingsun.45
	desc = EVTDESC_RISINGSUN_45
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_45 # I'll teach you!
		
		change_society_currency = 25
		
		FROM = {
			letter_event = { id = risingsun.60 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_45 # You're no good!
		
		FROM = {
			letter_event = { id = risingsun.62 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.5
				NOR = {
					trait = cruel
					trait = envious
				}
			}
		}
	}
}

# Show me what you've got - unimpressive student
character_event = {
	id = risingsun.46
	desc = EVTDESC_RISINGSUN_46
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_46 # I'll teach you!
		
		FROM = {
			letter_event = { id = risingsun.60 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		change_society_currency = 25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = {
					trait = humble
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_46 # You're no good!
		
		FROM = {
			letter_event = { id = risingsun.62 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				OR = {
					trait = kind
					trait = humble
				}
			}
		}
	}
}

# Student refused to show off - inform mentor
character_event = {
	id = risingsun.47
	desc = EVTDESC_RISINGSUN_47
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_47 # Then get lost!
		
		change_society_currency = 25
	}
}

# Mentor said you were too good - suggested another mentor
character_event = {
	id = risingsun.48
	desc = EVTDESC_RISINGSUN_48
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_48 # Let's ask!
		
		event_target:better_mentor = {
			character_event = { id = risingsun.52 days = 1 }
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_49 # No, I want YOU!
		
		FROM = {
			character_event = { id = risingsun.49 days = 1 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Student insisted - take them on?
character_event = {
	id = risingsun.49
	desc = EVTDESC_RISINGSUN_49
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_48 # Fine!
		
		FROM = {
			letter_event = { id = risingsun.50 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
		
		change_society_currency = 25
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_49 # Not happening!
		
		change_society_currency = -25
		
		FROM = {
			letter_event = { id = risingsun.51 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mentor accepted
letter_event = {
	id = risingsun.50
	desc = EVTDESC_RISINGSUN_50
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_50 # Yay!
		
		change_society_currency = 25
	}
}

# Mentor refused
letter_event = {
	id = risingsun.51
	desc = EVTDESC_RISINGSUN_51
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_51 # I will remember this!
		
		change_society_currency = -25
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Other mentor approached - exceptional student
character_event = {
	id = risingsun.52
	desc = EVTDESC_RISINGSUN_52
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_52 # Sure!
		
		change_society_currency = 50
		
		FROM = {
			letter_event = { id = risingsun.53 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_52 # Nope!
		
		change_society_currency = -50
		
		FROM = {
			letter_event = { id = risingsun.55 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Other mentor accepted - student
letter_event = {
	id = risingsun.53
	desc = EVTDESC_RISINGSUN_53
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_51 # Yay!
		
		change_society_currency = 50
		
		FROMFROMFROM = {
			letter_event = { id = risingsun.54 }
		}
	}
}

# Other mentor accepted - mentor
letter_event = {
	id = risingsun.54
	desc = EVTDESC_RISINGSUN_54
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_54 # Yay!
		
		change_society_currency = 25
	}
}

# Other mentor refused - student
letter_event = {
	id = risingsun.55
	desc = EVTDESC_RISINGSUN_55
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_55 # I will remember this!
		
		change_society_currency = -25
		
		FROMFROMFROM = {
			character_event = { id = risingsun.56 days = 1 }
		}
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Other mentor refused - mentor
letter_event = {
	id = risingsun.56
	desc = EVTDESC_RISINGSUN_56
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_56 # Fine!
		
		change_society_currency = 25
		
		FROM = {
			letter_event = { id = risingsun.57 }
		}
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_56 # Not happening!
		
		change_society_currency = -25
		
		FROM = {
			letter_event = { id = risingsun.58 }
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Old mentor took you on
letter_event = {
	id = risingsun.57
	desc = EVTDESC_RISINGSUN_57
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_57 # Yay!
		
		change_society_currency = 25
	}
}

# Old mentor did not take you on
letter_event = {
	id = risingsun.58
	desc = EVTDESC_RISINGSUN_58
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_58 # I will remember this!
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Good or better - mentor accepted
letter_event = {
	id = risingsun.59
	desc = EVTDESC_RISINGSUN_59
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_59 # Yay!
		
		change_society_currency = 25
	}
}

# Average or worse - mentor accepted
letter_event = {
	id = risingsun.60
	desc = EVTDESC_RISINGSUN_60
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_60 # Yay!
	}
}

# Good or better - mentor refused
letter_event = {
	id = risingsun.61
	desc = EVTDESC_RISINGSUN_61
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_61 # I will remember this!
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Average or worse - mentor refused
letter_event = {
	id = risingsun.62
	desc = EVTDESC_RISINGSUN_62
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_62 # I will remember this!
		
		change_society_currency = -25
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

# Mentor got money
letter_event = {
	id = risingsun.63
	desc = EVTDESC_RISINGSUN_63
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_63 # A deal is a deal...
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
}

# Mentor did NOT get money
letter_event = {
	id = risingsun.64
	desc = EVTDESC_RISINGSUN_64
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_64 # Then get lost!
	}
}

# Mentor got Favor
letter_event = {
	id = risingsun.65
	desc = EVTDESC_RISINGSUN_65
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_65 # A deal is a deal...
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
		}
		FROM = {
			hidden_tooltip = {
				set_variable = {
					which = rising_sun_student
					value = 0
				}
			}
			character_event = { id = risingsun.73 days = 60 random = 60} # Select an event to send
		}
	}
}

# Mentor did NOT get Favor
letter_event = {
	id = risingsun.66
	desc = EVTDESC_RISINGSUN_66
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_66 # Then get lost!
	}
}

# Ping the new student
character_event = {
	id = risingsun.67
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			any_opinion_modifier_target = {
				limit = {
					has_opinion_modifier = {
						who = FROM
						modifier = opinion_rising_sun_mentor
					}
					NOT = {
						character = ROOT
					}
				}
				letter_event = { id = risingsun.68 days = 1 }
			}
		}
	}
}

# Inform existing students of the new student
letter_event = {
	id = risingsun.68
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_68A
	}
	
	desc = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_68C
	}
	
	desc = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		text = EVTDESC_RISINGSUN_68B
	}
	
	option = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTA_RISINGSUN_68 # That's great!
		
		FROM = {
			letter_event = { id = risingsun.69 days = 1 random = 7 }
		}
	}
	
	option = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTB_RISINGSUN_68 # I see...
		
		FROM = {
			letter_event = { id = risingsun.69 days = 1 random = 7 }
		}
	}
	
	option = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		
		name = EVTOPTC_RISINGSUN_68 # Well, that's no good!
		
		FROM = {
			letter_event = { id = risingsun.69 days = 1 random = 7 }
		}
	}
}

# Inform new student of existing students
letter_event = {
	id = risingsun.69
	
	is_triggered_only = yes
	
	desc = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_69A
	}
	
	desc = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		text = EVTDESC_RISINGSUN_69C
	}
	
	desc = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		text = EVTDESC_RISINGSUN_69B
	}
	
	option = {
		trigger = {
			OR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTA_RISINGSUN_69 # I agree!
	}
	
	option = {
		trigger = {
			NOR = {
				any_friend = {
					character = FROM
				}
				any_lover = {
					character = FROM
				}
				any_rival = {
					character = FROM
				}
			}
		}
		
		name = EVTOPTB_RISINGSUN_69 # Good to know!
	}
	
	option = {
		trigger = {
			any_rival = {
				character = FROM
			}
		}
		
		name = EVTOPTC_RISINGSUN_69 # I'm not thrilled about this either...
	}
}

### Recruiting a possible student

# Student approached
letter_event = {
	id = risingsun.70
	desc = EVTDESC_RISINGSUN_70
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_70 # Sure!
		
		FROMFROM = {
			letter_event = { id = risingsun.71 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				FROMFROM = {
					is_female = yes
				}
				is_female = no
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_70 # Nah!
		
		FROMFROM = {
			letter_event = { id = risingsun.72 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				FROMFROM = {
					society_rank >= 3
				}
			}
			modifier = {
				factor = 0.01
				FROMFROM = {
					society_rank == 4
				}
			}
		}
	}
}

# Student accepted
letter_event = {
	id = risingsun.71
	desc = EVTDESC_RISINGSUN_71
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_71 # Yay!
		
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_student
		}
		reverse_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		hidden_tooltip = {
			set_variable = {
				which = rising_sun_student
				value = 0
			}
		}
		FROM = {
			character_event = { id = risingsun.67 days = 1 } # Ping, then inform other students
			character_event = { id = risingsun.74 days = 60 random = 60 } # Event selection
		}
	}
}

# Student refused
letter_event = {
	id = risingsun.72
	desc = EVTDESC_RISINGSUN_72
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_72 # Then get lost!
		
		random = {
			chance = 1
			add_rival = FROM
		}
	}
}

### Student-mentor interactions

# Ping student
character_event = {
	id = risingsun.73
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = risingsun.74}
		}
	}
}

# Ping mentor
character_event = {
	id = risingsun.74
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = risingsun.75}
		}
	}
}

# Select a student-mentor, student-student, other mentor, or other mentor's student event to fire
character_event = {
	id = risingsun.75
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				# If either party is incapable, inaccessible, etc., try again later
				OR = {
					is_inaccessible_or_incapable_trigger = yes
					FROM = {
						is_inaccessible_or_incapable_trigger = yes
					}
				}
			}
			FROM = {
				character_event = { id = risingsun.74 days = 30 }
			}
		}
		else = {
			change_variable = {
				which = rising_sun_student
				value = 1
			}
			random_list = {
				# Mentor-student
				5 = {
					# Sword practice
					FROM = {
						character_event = { id = risingsun.76 }
					}
				}
				5 = {
					# Bow practice
					FROM = {
						character_event = { id = risingsun.78 }
					}
				}
				5 = {
					# Spear practice
					FROM = {
						character_event = { id = risingsun.80 }
					}
				}
				5 = {
					# Riding practice
					FROM = {
						character_event = { id = risingsun.82 }
					}
				}
				5 = {
					# Mounted archery practice
					FROM = {
						character_event = { id = risingsun.84 }
					}
				}
				5 = {
					# Mounted swordsmanship practice
					FROM = {
						character_event = { id = risingsun.86 }
					}
				}
				5 = {
					# Mounted spear practice
					FROM = {
						character_event = { id = risingsun.88 }
					}
				}
				5 = {
					# Unarmed combat
					FROM = {
						character_event = { id = risingsun.90 }
					}
				}
				5 = {
					# Law and crime
					modifier = {
						factor = 0
						FROM = {
							trait = arbitrary
						}
					}
					FROM = {
						character_event = { id = risingsun.92 }
					}
				}
				5 = {
					# Foreign religions
					modifier = {
						factor = 0
						NAND = {
							FROM = {
								OR = {
									religion = buddhist
									religion = shinto
								}
								NOR = {
									trait = sympathy_christendom
									trait = sympathy_islam
									trait = sympathy_judaism
									trait = sympathy_pagans
									trait = sympathy_zoroastrianism
								}
							}
							ROOT = {
								OR = {
									religion = buddhist
									religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.95 }
					}
				}
				5 = {
					# Foreign religions - mentor has foreign religion
					modifier = {
						factor = 0
						NAND = {
							FROM = {
								NOR = {
									religion = buddhist
									religion = shinto
								}
							}
							ROOT = {
								OR = {
									religion = buddhist
									religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.97 }
					}
				}
				5 = {
					# Foreign religions - student has foreign religion
					modifier = {
						factor = 0
						NAND = {
							FROM = {
								OR = {
									religion = buddhist
									religion = shinto
								}
							}
							ROOT = {
								NOR = {
									religion = buddhist
									religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.99 }
					}
				}
				5 = {
					# Foreign religions - both have different foreign religion group
					modifier = {
						factor = 0
						FROM = {
							OR = {
								religion_group = ROOT
								religion_group = indian_group
								ROOT = {
									religion_group = indian_group
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.101 }
					}
				}
				5 = {
					# Foreign religions - both have same foreign religion
					modifier = {
						factor = 0
						FROM = {
							NAND = {
								religion = ROOT
								NOR = {
									religion = buddhist
									religion = shinto
								}
							}
						}
					}
					modifier = {
						factor = 0
						any_rival = {
							character = FROM
						}
					}
					FROM = {
						character_event = { id = risingsun.103 }
					}
				}
				5 = {
					# Mentor-student romance
					modifier = {
						factor = 0
						FROM = {
							NAND = {
								prev_attraction_trigger = yes
								attacted_to_prev_trigger = yes # Vanilla typo!
							}
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.105 }
					}
				}
				5 = {
					# Friendship
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.109 }
					}
				}
				5 = {
					# Warfare discussion
					FROM = {
						character_event = { id = risingsun.111 }
					}
				}
				5 = {
					# Shirabyoshi
					modifier = {
						factor = 0
						NAND = {
							is_female = no
							FROM = {
								is_female = no
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.113 }
					}
				}
				5 = {
					# Shirabyoshi - mentor is female
					modifier = {
						factor = 0
						NAND = {
							is_female = no
							FROM = {
								is_female = yes
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.116 }
					}
				}
				5 = {
					# Shirabyoshi - student is female
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = no
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.119 }
					}
				}
				5 = {
					# Shirabyoshi - both are female
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = yes
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.122 }
					}
				}
				5 = {
					# Mentor suggests dishonorable tactics - speak up?
					modifier = {
						factor = 0
						FROM = {
							NOR = {
								trait = deceitful
								trait = arbitrary
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.124 }
					}
				}
				5 = {
					# Not-so-friendly duel with rival mentor
					modifier = {
						factor = 0
						NOT = {
							any_rival = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.127 }
					}
				}
				5 = {
					# Student thinks they're ready, but they aren't
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 5
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.138 }
					}
				}
				5 = {
					# Student is ready - hold them back?
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 5
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.142 }
					}
				}
				5 = {
					# Student thinks you're holding them back
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 5
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 0
						OR = {
							any_friend = {
								character = FROM
							}
							any_rival = {
								character = FROM
							}
							any_lover = {
								character = FROM
							}
						}
					}
					FROM = {
						character_event = { id = risingsun.146 }
					}
				}
				5 = {
					# Student is ready, time to end their training
					modifier = {
						factor = 0
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.2
						NOT = {
							check_variable = {
								which = rising_sun_student
								value = 10
							}
						}
					}
					modifier = {
						factor = 10
						check_variable = {
							which = rising_sun_student
							value = 15
						}
					}
					modifier = {
						factor = 10
						check_variable = {
							which = rising_sun_student
							value = 20
						}
					}
					modifier = {
						factor = 10
						check_variable = {
							which = rising_sun_student
							value = 25
						}
					}
					FROM = {
						character_event = { id = risingsun.150 }
					}
				}
				# Student-student
				5 = {
					# Friendship with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.152 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Romance with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									ROOT = {
										prev_attraction_trigger = yes
										attacted_to_prev_trigger = yes # Vanilla typo!
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.154 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Rivalry with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.158 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Weapon practice with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOT = {
										any_rival = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOT = {
								any_rival = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.160 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Caught other student in a lie - confront?
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.162 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Warfare discussion with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOT = {
										any_rival = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOT = {
								any_rival = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.171 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Not-so-friendly practice duel with other student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									any_rival = {
										character = ROOT
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							any_rival = {
								character = ROOT
							}
						}
						character_event = { id = risingsun.173 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Other student is a woman and you are not - take issue?
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.185 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Other student is a woman and you are too - become friends
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_opinion_modifier_target = {
									reverse_has_opinion_modifier = {
										who = FROM
										modifier = opinion_rising_sun_mentor
									}
									is_inaccessible_or_incapable_trigger = no
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							reverse_has_opinion_modifier = {
								who = FROM
								modifier = opinion_rising_sun_mentor
							}
							is_inaccessible_or_incapable_trigger = no
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
							}
						}
						character_event = { id = risingsun.188 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				
				# Student-other mentor
				5 = {
					# Friendship with friend of mentor
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					FROM = {
						random_friend = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
								}
							}
							character_event = { id = risingsun.190 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Rivalry with rival of mentor
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
								}
							}
							character_event = { id = risingsun.193 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Mentor's rival seeks to recruit you
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
										has_opinion_modifier = {
											who = ROOT
											modifier = opinion_rising_sun_ex_student
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
							character_event = { id = risingsun.196 }
						}
					}
					
					# Do not send this one back to the event selection here; it would possibly mess things up
				}
				5 = {
					# Other mentor gives you advice
					modifier = {
						factor = 0
						NOT = {
							any_society_member = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									character = FROM
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
						}
						NOR = {
							trait = arbitrary
							trait = deceitful
						}
					}
					random_society_member = {
						limit = {
							is_in_society = warriors_of_the_rising_sun
							society_rank >= 2
							NOR = {
								character = FROM
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_ex_student
								}
							}
							OR = {
								trait = arbitrary
								trait = deceitful
							}
						}
						character_event = { id = risingsun.203 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Female mentor helps female student of other non-female mentor
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = no
							}
							any_society_member = {
								is_female = yes
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							is_female = yes
							is_in_society = warriors_of_the_rising_sun
							society_rank >= 2
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_ex_student
								}
							}
						}
						character_event = { id = risingsun.205 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Female mentor helps female student of other female mentor
					modifier = {
						factor = 0
						NAND = {
							is_female = yes
							FROM = {
								is_female = yes
							}
							any_society_member = {
								is_female = yes
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								NOR = {
									any_friend = {
										character = ROOT
									}
									any_rival = {
										character = ROOT
									}
									any_lover = {
										character = ROOT
									}
									has_opinion_modifier = {
										who = ROOT
										modifier = opinion_rising_sun_ex_student
									}
								}
							}
						}
					}
					random_society_member = {
						limit = {
							is_female = yes
							is_in_society = warriors_of_the_rising_sun
							society_rank >= 2
							NOR = {
								any_friend = {
									character = ROOT
								}
								any_rival = {
									character = ROOT
								}
								any_lover = {
									character = ROOT
								}
								has_opinion_modifier = {
									who = ROOT
									modifier = opinion_rising_sun_ex_student
								}
							}
						}
						character_event = { id = risingsun.207 }
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				
				# Student-other mentor's student
				5 = {
					# Rivalry with mentor's rival's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							character_event = { id = risingsun.209 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Friendship with mentor's rival's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							character_event = { id = risingsun.211 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Lover with mentor's rival's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_rival = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
										ROOT = {
											attacted_to_prev_trigger = yes # Vanilla typo!
											prev_attraction_trigger = yes
										}
									}
								}
							}
						}
					}
					FROM = {
						random_rival = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
							}
							character_event = { id = risingsun.213 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Rivalry with mentor's friend's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						any_friend = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							character_event = { id = risingsun.217 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Friendship with mentor's friend's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						any_friend = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
								}
							}
							character_event = { id = risingsun.219 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Lover with mentor's friend's student
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_friend = {
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						any_friend = {
							limit = {
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									ROOT = {
										attacted_to_prev_trigger = yes # Vanilla typo!
										prev_attraction_trigger = yes
									}
								}
							}
							character_event = { id = risingsun.221 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Other mentor's student gives you advice
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_society_member = {
									NOT = {
										character = FROM
									}
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOT = {
											any_rival = {
												character = ROOT
											}
										}
									}
								}
							}
						}
					}
					FROM = {
						any_society_member = {
							limit = {
								NOT = {
									character = FROM
								}
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOT = {
										any_rival = {
											character = ROOT
										}
									}
								}
							}
							random_opinion_modifier_target = {
								limit = {
									NOT = {
										character = FROM
									}
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOT = {
										any_rival = {
											character = ROOT
										}
									}
								}
							}
							character_event = { id = risingsun.225 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
				5 = {
					# Other mentor's student is a woman and you are not - take issue?
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_society_member = {
									NOT = {
										character = FROM
									}
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
										is_female = yes
										ROOT = {
											is_female = no
										}
									}
								}
							}
						}
					}
					FROM = {
						any_society_member = {
							limit = {
								NOT = {
									character = FROM
								}
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
							}
							random_opinion_modifier_target = {
								limit = {
									NOT = {
										character = FROM
									}
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
							}
							character_event = { id = risingsun.227 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun. days = 60 random = 60 }
					}
				}
				5 = {
					# Other mentor's student is a woman and you are too - become friends
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								any_society_member = {
									NOT = {
										character = FROM
									}
									is_in_society = warriors_of_the_rising_sun
									society_rank >= 2
									any_opinion_modifier_target = {
										has_opinion_modifier = {
											who = PREV
											modifier = opinion_rising_sun_mentor
										}
										NOR = {
											any_friend = {
												character = ROOT
											}
											any_rival = {
												character = ROOT
											}
											any_lover = {
												character = ROOT
											}
										}
										is_female = yes
										ROOT = {
											is_female = yes
										}
									}
								}
							}
						}
					}
					FROM = {
						any_society_member = {
							limit = {
								NOT = {
									character = FROM
								}
								is_in_society = warriors_of_the_rising_sun
								society_rank >= 2
								any_opinion_modifier_target = {
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
							}
							random_opinion_modifier_target = {
								limit = {
									NOT = {
										character = FROM
									}
									has_opinion_modifier = {
										who = PREV
										modifier = opinion_rising_sun_mentor
									}
									NOR = {
										any_friend = {
											character = ROOT
										}
										any_rival = {
											character = ROOT
										}
										any_lover = {
											character = ROOT
										}
									}
									is_female = yes
								}
							}
							character_event = { id = risingsun.230 }
						}
					}
					
					# Send us back to the event selection here - it is safest
					FROM = {
						character_event = { id = risingsun.74 days = 60 random = 60 }
					}
				}
			}
		}
	}
}

# Sword practice - mentor
character_event = {
	id = risingsun.76
	desc = EVTDESC_RISINGSUN_76
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_76 # The sword is an elegant weapon...
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.77 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_76 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Sword practice - student
character_event = {
	id = risingsun.77
	desc = EVTDESC_RISINGSUN_77
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_77 # ... for a civilized age!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_77 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Bow practice - mentor
character_event = {
	id = risingsun.78
	desc = EVTDESC_RISINGSUN_78
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_78 # Strike at the heart!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.79 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Bow practice - student
character_event = {
	id = risingsun.79
	desc = EVTDESC_RISINGSUN_79
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_79 # My arrow finds its mark!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Spear practice - mentor
character_event = {
	id = risingsun.80
	desc = EVTDESC_RISINGSUN_80
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_80 # Keep them at range!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.81 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_80 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Spear practice - student
character_event = {
	id = risingsun.81
	desc = EVTDESC_RISINGSUN_81
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_81 # Pointy end forward!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_81 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Riding practice - mentor
character_event = {
	id = risingsun.82
	desc = EVTDESC_RISINGSUN_82
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_82 # Ride to glory!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.83 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Riding practice - student
character_event = {
	id = risingsun.83
	desc = EVTDESC_RISINGSUN_83
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_83 # This is nice!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_83 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted archery practice - mentor
character_event = {
	id = risingsun.84
	desc = EVTDESC_RISINGSUN_84
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_84 # Loose and keep moving!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.85 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_84 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted archery practice - student
character_event = {
	id = risingsun.85
	desc = EVTDESC_RISINGSUN_85
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_85 # This is going well!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_85 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted swordsmanship practice - mentor
character_event = {
	id = risingsun.86
	desc = EVTDESC_RISINGSUN_86
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_86 # Swing down at your foe!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.87 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_86 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted swordsmanship practice - student
character_event = {
	id = risingsun.87
	desc = EVTDESC_RISINGSUN_87
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_87 # Trample them!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_87 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted spear practice - mentor
character_event = {
	id = risingsun.88
	desc = EVTDESC_RISINGSUN_88
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_88 # Skewer them!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.89 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_79 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mounted spear practice - student
character_event = {
	id = risingsun.89
	desc = EVTDESC_RISINGSUN_89
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_89 # This is effective!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_89 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Unarmed combat - mentor
character_event = {
	id = risingsun.90
	desc = EVTDESC_RISINGSUN_90
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_90 # Even without your weapon, you should know how to fight!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.91 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_90 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Unarmed combat - student
character_event = {
	id = risingsun.91
	desc = EVTDESC_RISINGSUN_91
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_91 # They'll not find me unprepared!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_91 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Law and crime - teach student the right way?
character_event = {
	id = risingsun.92
	desc = EVTDESC_RISINGSUN_92
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_92 # Act with honor and be just!
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			if = {
				limit = {
					trait = just
				}
				character_event = { id = risingsun.93 days = 1 } # Student gets event
			}
			else = {
				character_event = { id = risingsun.94 days = 1 } # Student gets event
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_92 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Just student
character_event = {
	id = risingsun.93
	desc = EVTDESC_RISINGSUN_93
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_93 # Justice is the way!
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Non-Just student
character_event = {
	id = risingsun.94
	desc = EVTDESC_RISINGSUN_94
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_94 # I should be more just!
		
		prestige = 5
		change_society_currency = 5
		
		random = {
			chance = 5
			if = {
				limit = {
					trait = arbitrary
				}
				remove_trait = arbitrary
			}
			else = {
				add_trait = just
			}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_94 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Foreign religions - mentor
character_event = {
	id = risingsun.95
	desc = EVTDESC_RISINGSUN_95
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_95 # Avoid their foreign ways!
		
		piety = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.96 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_95 # I don't have time for this!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Foreign religions - student
character_event = {
	id = risingsun.96
	desc = EVTDESC_RISINGSUN_96
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_96 # Their foreign ways are wrong!
		
		piety = 10
		change_society_currency = 5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_christendom
					}
				}
				remove_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_islam
					}
				}
				remove_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_judaism
					}
				}
				remove_trait = sympathy_judaism
			}
			5 = { # A bit lower
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_pagans
					}
				}
				remove_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						trait = sympathy_zoroastrianism
					}
				}
				remove_trait = sympathy_zoroastrianism
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						trait = sympathy_christendom
						trait = sympathy_islam
						trait = sympathy_judaism
						trait = sympathy_pagans
						trait = sympathy_zoroastrianism
						FROM = {
							NOT = {
								religion = ROOT
							}
						}
					}
				}
				if = {
					limit = {
						trait = cynical
					}
					remove_trait = cynical
				}
				else = {
					add_trait = zealous
				}
			}
			50 = {}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_96 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Foreign religions - mentor has foreign religion - mentor
character_event = {
	id = risingsun.97
	desc = EVTDESC_RISINGSUN_97
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_97 # You could learn from me!
		
		prestige = 5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.98 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_97 # I don't have time for this!
		
		prestige = -10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Foreign religions - mentor has foreign religion - student
character_event = {
	id = risingsun.98
	desc = EVTDESC_RISINGSUN_98
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_98 # Well, you seem alright...
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = christian
						}
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = muslim
						}
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = jewish_group
						}
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = pagan_group
						}
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = zoroastrian_group
						}
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		hidden_tooltip = {
			if = {
				limit = {
					ai = yes
					trait = cynical
				}
				random = {
					chance = 5
					set_secret_religion = FROM
				}
			}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_98 # Boring lesson; skip!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					trait = zealous
				}
			}
		}
	}
}

# Foreign religions - student has foreign religion - mentor
character_event = {
	id = risingsun.99
	desc = EVTDESC_RISINGSUN_99
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_99 # Tell me of your ways!
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = christian
						}
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = muslim
						}
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = jewish_group
						}
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = pagan_group
						}
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					NOT = {
						FROM = {
							religion_group = zoroastrian_group
						}
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		hidden_tooltip = {
			if = {
				limit = {
					ai = yes
					trait = cynical
				}
				random = {
					chance = 5
					set_secret_religion = FROM
				}
			}
		}
		
		FROM = {
			character_event = { id = risingsun.100 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_99 # I don't have time for this!
		
		prestige = -10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					trait = zealous
				}
			}
		}
	}
}

# Foreign religions - student has foreign religion - student
character_event = {
	id = risingsun.100
	desc = EVTDESC_RISINGSUN_100
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_100 # Well, you seem alright...
		
		piety = 10
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Foreign religions - both have different foreign religion group - mentor
character_event = {
	id = risingsun.101
	desc = EVTDESC_RISINGSUN_101
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_101 # Tell me more of your ways
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = christian
							}
						}
						religion_group = christian
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = muslim
							}
						}
						religion_group = muslim
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = jewish_group
							}
						}
						religion_group = jewish_group
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = pagan_group
							}
						}
						religion_group = pagan_group
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = zoroastrian_group
							}
						}
						religion_group = zoroastrian_group
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		FROM = {
			character_event = { id = risingsun.102 } # Student gets the event
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_101 # I don't have time for this!
		
		prestige = -10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					trait = zealous
				}
			}
		}
	}
}

# Foreign religions - both have different foreign religion group - student
character_event = {
	id = risingsun.102
	desc = EVTDESC_RISINGSUN_102
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_102 # Tell me of your ways!
		
		piety = -10
		change_society_currency = -5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = christian
							}
						}
						religion_group = christian
					}
				}
				add_trait = sympathy_christendom
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = muslim
							}
						}
						religion_group = muslim
					}
				}
				add_trait = sympathy_islam
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = jewish_group
							}
						}
						religion_group = jewish_group
					}
				}
				add_trait = sympathy_judaism
			}
			20 = { # A bit higher
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = pagan_group
							}
						}
						religion_group = pagan_group
					}
				}
				add_trait = sympathy_pagans
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							FROM = {
								religion_group = zoroastrian_group
							}
						}
						religion_group = zoroastrian_group
					}
				}
				add_trait = sympathy_zoroastrianism
			}
			10 = {
				if = {
					limit = {
						trait = zealous
					}
					remove_trait = zealous
				}
				else = {
					add_trait = cynical
				}
			}
			50 = {}
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_102 # I don't have time for this!
		
		piety = 10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					trait = zealous
				}
			}
		}
	}
}

# Foreign religions - both have same foreign religion - mentor
character_event = {
	id = risingsun.103
	desc = EVTDESC_RISINGSUN_103
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_103 # We are in this together!
		
		FROM = {
			character_event = { id = risingsun.104 days = 1 } # Student gets event
		}
		
		piety = 10
		change_society_currency = -5
	}
}

# Foreign religions - both have same foreign religion - student
character_event = {
	id = risingsun.104
	desc = EVTDESC_RISINGSUN_104
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_104 # We are in this together!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		piety = 10
		change_society_currency = -5
	}
}

# Mentor-student romance - mentor
character_event = {
	id = risingsun.105
	desc = EVTDESC_RISINGSUN_105
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_105 # Proposition them
		
		FROM = {
			character_event = { id = risingsun.106 days = 1 } # Student gets event
		}
		
		piety = -10
		change_society_currency = -25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_105 # I don't think so!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		piety = 10
		change_society_currency = 25
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Mentor-student romance - student gets to respond
character_event = {
	id = risingsun.106
	desc = EVTDESC_RISINGSUN_106
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_106 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.107 days = 1 } # Mentor gets response
		}
		
		piety = -10
		change_society_currency = -25
		
		add_lover = FROM
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_105 # I don't think so!
		
		piety = 10
		change_society_currency = 25
		
		FROM = {
			character_event = { id = risingsun.108 days = 1 } # Mentor gets response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Mentor-student romance - lovers
character_event = {
	id = risingsun.107
	desc = EVTDESC_RISINGSUN_107
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_107 # Yay!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor-student romance - not lovers
character_event = {
	id = risingsun.108
	desc = EVTDESC_RISINGSUN_108
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_108 # Be that way!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Friendship - mentor
character_event = {
	id = risingsun.109
	desc = EVTDESC_RISINGSUN_109
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_109 # Together we will be unstoppable!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.110 } # Inform student
		}
	}
}

# Friendship - student
character_event = {
	id = risingsun.110
	desc = EVTDESC_RISINGSUN_110
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_110 # Together we will be unstoppable!
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Warfare discussion - mentor
character_event = {
	id = risingsun.111
	desc = EVTDESC_RISINGSUN_111
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_111 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
		
		FROM = {
			character_event = { id = risingsun.112 } # Inform student
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_111 # I don't have time for this!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Warfare discussion - student
character_event = {
	id = risingsun.112
	desc = EVTDESC_RISINGSUN_112
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_112 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_112 # I don't have time for this!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Shirabyoshi - mentor
character_event = {
	id = risingsun.113
	desc = EVTDESC_RISINGSUN_113
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_113 # Mock her!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.114 } # Inform student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_female = yes
			}
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_113 # Just keep walking
		
		prestige = 5
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Shirabyoshi - student
character_event = {
	id = risingsun.114
	desc = EVTDESC_RISINGSUN_114
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_114 # Yes; she's no good!
		
		prestige = 5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_114 # I don't think you should underestimate her
		
		prestige = 10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.115 days = 1 } # Inform mentor
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# If student disagreed, inform mentor
character_event = {
	id = risingsun.115
	desc = EVTDESC_RISINGSUN_115
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_115 # Huh...
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Shirabyoshi - mentor is female - mentor
character_event = {
	id = risingsun.116
	desc = EVTDESC_RISINGSUN_116
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_116 # Don't underestimate her!
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.117 } # Inform student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_116 # Just keep walking
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				is_female = yes
			}
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
}

# Shirabyoshi - mentor is female - student
character_event = {
	id = risingsun.117
	desc = EVTDESC_RISINGSUN_117
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_117 # Yes; she could be good
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_117 # I don't think she is any good
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.118 days = 1 } # Inform mentor
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# If student disagreed, inform mentor
character_event = {
	id = risingsun.118
	desc = EVTDESC_RISINGSUN_118
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_118 # Well, you're wrong!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Shirabyoshi - student is female - mentor
character_event = {
	id = risingsun.119
	desc = EVTDESC_RISINGSUN_119
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_119 # Some days you remind me of her!
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.120 days = 1 } # Inform student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_119 # Just keep walking
		
		prestige = 5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Shirabyoshi - student is female - student
character_event = {
	id = risingsun.120
	desc = EVTDESC_RISINGSUN_120
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_120 # Ignore the insult
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		random = {
			chance = 1
			add_rival = FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					trait = humble
					trait = shy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_120 # I think you underestimate both of us!
		
		prestige = 15
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.121 days = 1 } # Inform mentor
		}
		
		random = {
			chance = 1
			add_rival = FROM
		}
		
		ai_chance = {
			factor = 100
		}
	}
}

# If student disagreed, inform mentor
character_event = {
	id = risingsun.121
	desc = EVTDESC_RISINGSUN_121
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_121 # Well, you're wrong!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Shirabyoshi - both are female - mentor
character_event = {
	id = risingsun.122
	desc = EVTDESC_RISINGSUN_122
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_122 # Let none tell you you shouldn't use a sword!
		
		FROM = {
			character_event = { id = risingsun.123 } # Inform student
		}
	}
}

# Shirabyoshi - both are female - student
character_event = {
	id = risingsun.123
	desc = EVTDESC_RISINGSUN_123
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_123 # Indeed!
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor suggests dishonorable tactics - speak up? - mentor
character_event = {
	id = risingsun.124
	desc = EVTDESC_RISINGSUN_124
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_124 # Here is a useful trick!
		
		prestige = 5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.125 days = 1 } # Student gets event
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_124 # I don't have time for this!
		
		prestige = -5
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Mentor suggests dishonorable tactics - speak up? - student
character_event = {
	id = risingsun.125
	desc = EVTDESC_RISINGSUN_125
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_125 # A useful trick indeed!
		
		prestige = -5
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = honest
					trait = just
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_125 # This is wrong!
		
		prestige = 10
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.126 } # Inform FROM
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = deceitful
					trait = arbitrary
				}
			}
		}
	}
}

# Inform mentor if student spoke up
character_event = {
	id = risingsun.126
	desc = EVTDESC_RISINGSUN_126
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_126 # Well, you're wrong!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Not-so-friendly duel with rival mentor - mentor
character_event = {
	id = risingsun.127
	desc = EVTDESC_RISINGSUN_127
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_127 # I challenge you to a "sparring" session!
		
		prestige = 5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.128 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -50
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -25
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_127 # I don't have time for this!
		
		prestige = -5
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 50
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 25
				}
			}
		}
	}
}

# Not-so-friendly duel with rival mentor - student
character_event = {
	id = risingsun.128
	desc = EVTDESC_RISINGSUN_128
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_128 # Oh, it's on!
		
		prestige = 5
		change_society_currency = 5
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = -50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -25
					}
				}
				FROM = {
					character_event = { id = risingsun.130 days = 1 } # Student maims mentor
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = -50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -25
					}
				}
				FROM = {
					character_event = { id = risingsun.132 days = 1 } # Student wounds mentor
				}
			}
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = 50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 25
					}
				}
				FROM = {
					character_event = { id = risingsun.134 days = 1 } # Mentor maims student
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = 50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 25
					}
				}
				FROM = {
					character_event = { id = risingsun.136 days = 1 } # Mentor wounds student
				}
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -50
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -25
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_128 # I think not
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.129 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 50
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 25
				}
			}
		}
	}
}

# Inform mentor if student refused
character_event = {
	id = risingsun.129
	desc = EVTDESC_RISINGSUN_129
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_129 # How cowardly!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student maims mentor - mentor
character_event = {
	id = risingsun.130
	desc = EVTDESC_RISINGSUN_130
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_130 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.131 } # Inform FROM
		}
	}
}

# Student maims mentor - student
character_event = {
	id = risingsun.131
	desc = EVTDESC_RISINGSUN_131
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_131 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student wounds mentor - mentor
character_event = {
	id = risingsun.132
	desc = EVTDESC_RISINGSUN_132
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_132 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.133 } # Inform FROM
		}
	}
}

# Student wounds mentor - student
character_event = {
	id = risingsun.133
	desc = EVTDESC_RISINGSUN_133
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_133 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor maims student - mentor
character_event = {
	id = risingsun.134
	desc = EVTDESC_RISINGSUN_134
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_134 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.135 } # Inform FROM
		}
	}
}

# Mentor maims student - student
character_event = {
	id = risingsun.135
	desc = EVTDESC_RISINGSUN_135
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_135 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Mentor wounds student - mentor
character_event = {
	id = risingsun.136
	desc = EVTDESC_RISINGSUN_136
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_136 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.137 } # Inform FROM
		}
	}
}

# Mentor wounds student - student
character_event = {
	id = risingsun.137
	desc = EVTDESC_RISINGSUN_137
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_137 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student thinks they're ready, but they aren't - mentor
character_event = {
	id = risingsun.138
	desc = EVTDESC_RISINGSUN_138
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_138 # You are (not) ready!
		
		change_society_currency = -100
		
		FROM = {
			character_event = { id = risingsun.139 days = 1 } # Training ends
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = slothful
					trait = deceitful
					trait = arbitrary
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_138 # You are NOT ready!
		
		change_society_currency = 50
		
		FROM = {
			character_event = { id = risingsun.140 days = 1 } # FROM is informed
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = diligent
					trait = honest
					trait = just
				}
			}	
		}
	}
}

# "You're ready" (but actually not)
character_event = {
	id = risingsun.139
	desc = EVTDESC_RISINGSUN_139
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_139 # I knew it!
		
		change_society_currency = 50
		
		set_character_flag = proved_myself_to_mentor
		
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		reverse_remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_mentor
		}
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_student
		}
	}
}

# "You're not ready" - rivalry?
character_event = {
	id = risingsun.140
	desc = EVTDESC_RISINGSUN_140
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_140 # I suppose you know best...
		
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_140 # I AM ready!
		
		change_society_currency = -10
		
		random_list = {
			50 = {
				add_rival = FROM
				FROM = {
					character_event = { id = risingsun.141 days = 1 } # FROM is informed
				}
			}
			50 = {
				FROM = {
					character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
				}
			}
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
}

# Inform mentor of rivalry
character_event = {
	id = risingsun.141
	desc = EVTDESC_RISINGSUN_141
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_141 # Today's youth...
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student is ready - hold them back? - mentor
character_event = {
	id = risingsun.142
	desc = EVTDESC_RISINGSUN_142
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_142 # You are ready!
		
		change_society_currency = 100
		
		FROM = {
			character_event = { id = risingsun.143 days = 1 } # Training ends
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = deceitful
					trait = arbitrary
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_138 # You are not ready!
		
		change_society_currency = -50
		
		FROM = {
			character_event = { id = risingsun.144 days = 1 } # FROM is informed
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					trait = honest
					trait = just
				}
			}	
		}
	}
}

# You are ready!
character_event = {
	id = risingsun.143
	desc = EVTDESC_RISINGSUN_143
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_143 # I knew it!
		
		change_society_currency = 50
		
		set_character_flag = proved_myself_to_mentor
		
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		reverse_remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_mentor
		}
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_student
		}
	}
}

# "You're not ready" (but actually you are) - rivalry?
character_event = {
	id = risingsun.144
	desc = EVTDESC_RISINGSUN_144
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_144 # I suppose you know best...
		
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = proud
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_144 # I AM ready!
		
		change_society_currency = -10
		
		random_list = {
			50 = {
				add_rival = FROM
				FROM = {
					character_event = { id = risingsun.145 days = 1 } # FROM is informed
				}
			}
			50 = {
				FROM = {
					character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
				}
			}
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = humble
			}
		}
	}
}

# Inform mentor of rivalry
character_event = {
	id = risingsun.145
	desc = EVTDESC_RISINGSUN_145
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_145 # I should have seen that coming!
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student thinks you're holding them back - mentor
character_event = {
	id = risingsun.146
	desc = EVTDESC_RISINGSUN_146
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_146 # Now, see here...
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					NOT = {
						diplomacy = 8
					}
				}
				modifier = {
					factor = 0.5
					NOT = {
						diplomacy = 12
					}
				}
				FROM = {
					character_event = { id = risingsun.147 days = 1 } # Convinced them
				}
			}
			50 = {
				modifier = {
					factor = 0
					diplomacy = 20
				}
				modifier = {
					factor = 0.5
					diplomacy = 16
				}
				FROM = {
					character_event = { id = risingsun.148 days = 1 } # Failed to convince them
				}
			}
		}
	}
}

# Convincing mentor
character_event = {
	id = risingsun.147
	desc = EVTDESC_RISINGSUN_147
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_147 # I suppose more training would be good
		
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Unconvincing mentor - rivalry!
character_event = {
	id = risingsun.148
	desc = EVTDESC_RISINGSUN_148
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_148 # You LIE!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.149 } # Inform FROM
		}
	}
}

# Inform mentor of rivalry
character_event = {
	id = risingsun.149
	desc = EVTDESC_RISINGSUN_149
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_149 # I should have worded that better...
		
		FROM = {
			character_event = { id = risingsun.73 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student is ready, time to end their training - mentor
character_event = {
	id = risingsun.150
	desc = EVTDESC_RISINGSUN_150
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_150 # Your training is complete!
		
		change_society_currency = 100
		
		FROM = {
			character_event = { id = risingsun.151 } # Inform FROM
		}
	}
}

# Training ends - student
character_event = {
	id = risingsun.151
	desc = EVTDESC_RISINGSUN_151
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_151 # I knew it!
		
		change_society_currency = 50
		
		set_character_flag = proved_myself_to_mentor
		
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		reverse_remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_mentor
		}
		opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_mentor
		}
		remove_opinion = {
			who = FROM
			modifier = opinion_rising_sun_was_my_student
		}
	}
}

### Student-student interactions (for students with the same mentor)

# Friendship with other student - student 1
character_event = {
	id = risingsun.152
	desc = EVTDESC_RISINGSUN_152
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_152 # Together we will be unstoppable!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.153 } # Inform student 2
		}
	}
}

# Friendship with other student - student 2
character_event = {
	id = risingsun.153
	desc = EVTDESC_RISINGSUN_153
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_153 # Together we will be unstoppable!
		
		add_friend = FROM
	}
}

# Romance with other student
character_event = {
	id = risingsun.154
	desc = EVTDESC_RISINGSUN_154
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_154 # Proposition them
		
		piety = -10
		
		FROM = {
			character_event = { id = risingsun.155 days = 1 } # Other student gets the event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_105 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Other student gets to respond
character_event = {
	id = risingsun.155
	desc = EVTDESC_RISINGSUN_155
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_155 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.156 days = 1 } # Other student gets the response
		}
		
		piety = -10
		
		add_lover = FROM
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_155 # I don't think so!
		
		piety = 10
		
		FROM = {
			character_event = { id = risingsun.157 days = 1 } # Other student gets the response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Lovers
character_event = {
	id = risingsun.156
	desc = EVTDESC_RISINGSUN_156
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_156 # Yay!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = risingsun.157
	desc = EVTDESC_RISINGSUN_157
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_157 # Be that way!
	}
}

# Rivalry with other student - student 1
character_event = {
	id = risingsun.158
	desc = EVTDESC_RISINGSUN_158
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_158 # You will never be my equal!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.159 } # Inform FROM
		}
	}
}

# Rivalry with other student - student 2
character_event = {
	id = risingsun.159
	desc = EVTDESC_RISINGSUN_159
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_159 # You were never my equal!
	}
}

# Weapon practice with other student - student 1
character_event = {
	id = risingsun.160
	desc = EVTDESC_RISINGSUN_160
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_160 # We learned much together
		
		prestige = 10
		change_society_currency = 10
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.161 } # Inform FROM
		}
	}
}

# Weapon practice with other student - student 2
character_event = {
	id = risingsun.161
	desc = EVTDESC_RISINGSUN_161
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_161 # We learned much together
		
		prestige = 10
		change_society_currency = 10
		
		random = {
			chance = 1
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Caught other student in a lie - confront?
character_event = {
	id = risingsun.162
	desc = EVTDESC_RISINGSUN_162
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_162 # Confront them
		
		prestige = 10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.163 } # Inform FROM
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_162 # I saw nothing!
		
		prestige = -10
		change_society_currency = -10
		
		ai_chance = {
			factor = 0
		}
	}
}

# Student confronted
character_event = {
	id = risingsun.163
	desc = EVTDESC_RISINGSUN_163
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_163 # How about a bribe?
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.164 days = 1 } # Inform FROM
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			is_landed = yes
			NOR = {
				holds_favor_on = FROM
				FROM = {
					holds_favor_on = ROOT
				}
			}
		}
		name = EVTOPTB_RISINGSUN_163 # How about a Favor?
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.165 days = 1 } # Inform FROM
		}
	}
	
	option = {
		trigger = {
			has_dlc = "Conclave"
			is_landed = yes
			holds_favor_on = FROM
		}
		name = EVTOPTC_RISINGSUN_163 # You owe me!
		
		remove_favor = FROM
		
		FROM = {
			character_event = { id = risingsun.168 days = 1 } # Inform FROM
		}
		
		prestige = 10
		change_society_currency = 10
	}
	
	option = {
		name = EVTOPTD_RISINGSUN_163 # Do your worst!
		
		prestige = 10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.169 days = 1 } # Inform FROM
		}
		
		ai_chance = {
			factor = 0
		}
	}
}

# Bribe offered
character_event = {
	id = risingsun.164
	desc = EVTDESC_RISINGSUN_164
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_164 # Very well
		
		wealth = 100
		change_society_currency = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_164 # I cannot be bribed!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.166 }
		}
		FROMFROMFROMFROM = {
			character_event = { id = risingsun.167 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
				NOT = {
					trait = just
				}
			}
		}
	}
}

# Favor offered
character_event = {
	id = risingsun.165
	desc = EVTDESC_RISINGSUN_165
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_165 # Very well
		
		add_favor = FROM
		change_society_currency = -10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
				NOT = {
					trait = greedy
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_168 # I cannot be bribed!
		
		prestige = -10
		change_society_currency = -10
		
		FROM = {
			character_event = { id = risingsun.166 }
		}
		FROMFROMFROMFROM = {
			character_event = { id = risingsun.167 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = greedy
				NOT = {
					trait = just
				}
			}
		}
	}
}

# Student refused bribe or Favor
character_event = {
	id = risingsun.166
	desc = EVTDESC_RISINGSUN_166
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_166 # Curses!
		
		change_society_currency = -50
		
		random = {
			chance = 50
			add_rival = FROM
		}
	}
}

# Inform mentor
character_event = {
	id = risingsun.167
	desc = EVTDESC_RISINGSUN_167
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_167 # I see...
	}
}

# Student called in Favor
character_event = {
	id = risingsun.168
	desc = EVTDESC_RISINGSUN_168
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_168 # I have to accept this...
	}
}

# Student told you to do your worst
character_event = {
	id = risingsun.169
	desc = EVTDESC_RISINGSUN_169
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_169 # You asked for it
		
		FROMFROMFROMFROM = {
			character_event = { id = risingsun.170 }
		}
	}
}

# Mentor informed
character_event = {
	id = risingsun.170
	desc = EVTDESC_RISINGSUN_170
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_170 # I see...
	}
}

# Warfare discussion with other student - student 1
character_event = {
	id = risingsun.171
	desc = EVTDESC_RISINGSUN_171
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_171 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
		
		FROM = {
			character_event = { id = risingsun.172 } # Inform other student
		}
	}
}

# Warfare discussion with other student - student 2
character_event = {
	id = risingsun.172
	desc = EVTDESC_RISINGSUN_172
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_172 # We must study the Art of War
		
		prestige = 5
		change_society_currency = 10
		
		random = {
			chance = 15
			military_techpoints = 15
		}
	}
}

# Not-so-friendly practice duel with other student
character_event = {
	id = risingsun.173
	desc = EVTDESC_RISINGSUN_173
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_173 # I challenge you to a "sparring" session!
		
		prestige = 5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.174 days = 1 } # Student gets event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -50
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -25
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_173 # I don't have time for this!
		
		prestige = -5
		change_society_currency = 5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 50
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 25
				}
			}
		}
	}
}

# Other student responds
character_event = {
	id = risingsun.174
	desc = EVTDESC_RISINGSUN_174
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_174 # Oh, it's on!
		
		prestige = 5
		change_society_currency = 5
		
		FROMFROMFROM = {
			character_event = { id = risingsun.184 days = 1 } # Inform mentor
		}
		
		random_list = {
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = -50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -25
					}
				}
				FROM = {
					character_event = { id = risingsun.176 days = 1 } # Student maims mentor
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = -50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = -25
					}
				}
				FROM = {
					character_event = { id = risingsun.178 days = 1 } # Student wounds mentor
				}
			}
			10 = {
				modifier = {
					factor = 0
					combat_rating_diff = {
						who = FROM
						value = 50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 25
					}
				}
				FROM = {
					character_event = { id = risingsun.180 days = 1 } # Mentor maims student
				}
			}
			40 = {
				modifier = {
					factor = 0.1
					combat_rating_diff = {
						who = FROM
						value = 50
					}
				}
				modifier = {
					factor = 0.01
					combat_rating_diff = {
						who = FROM
						value = 25
					}
				}
				FROM = {
					character_event = { id = risingsun.182 days = 1 } # Mentor wounds student
				}
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = -50
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = -25
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_174 # I think not
		
		prestige = -5
		change_society_currency = -5
		
		FROM = {
			character_event = { id = risingsun.175 } # Inform FROM
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.01
				trait = brave
			}
			modifier = {
				factor = 0
				combat_rating_diff = {
					who = FROM
					value = 50
				}
				NOT = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.1
				combat_rating_diff = {
					who = FROM
					value = 25
				}
			}
		}
	}
}

# No duel
character_event = {
	id = risingsun.175
	desc = EVTDESC_RISINGSUN_175
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_175 # How cowardly!
	}
}

# Student 1 maimed student 2 - student 1
character_event = {
	id = risingsun.176
	desc = EVTDESC_RISINGSUN_176
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_176 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.177 } # Inform FROM
		}
	}
}

# Student 1 maimed student 2 - student 2
character_event = {
	id = risingsun.177
	desc = EVTDESC_RISINGSUN_177
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_177 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Student 1 wounded student 2 - student 1
character_event = {
	id = risingsun.178
	desc = EVTDESC_RISINGSUN_178
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_178 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.179 } # Inform FROM
		}
	}
}

# Student 1 wounded student 2 - student 2
character_event = {
	id = risingsun.179
	desc = EVTDESC_RISINGSUN_179
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_179 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Student 2 maimed student 1 - student 1
character_event = {
	id = risingsun.180
	desc = EVTDESC_RISINGSUN_180
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_180 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.181 } # Inform FROM
		}
	}
}

# Student 2 maimed student 1 - student 2
character_event = {
	id = risingsun.181
	desc = EVTDESC_RISINGSUN_181
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_181 # Curses!
		
		add_maimed_trait_effect = yes
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Student 2 wounded student 1 - student 1
character_event = {
	id = risingsun.182
	desc = EVTDESC_RISINGSUN_182
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_182 # Got you!
		
		change_society_currency = 25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
		
		FROM = {
			character_event = { id = risingsun.183 } # Inform FROM
		}
	}
}

# Student 2 wounded student 1 - student 2
character_event = {
	id = risingsun.183
	desc = EVTDESC_RISINGSUN_183
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_183 # Curses!
		
		add_trait = wounded
		
		change_society_currency = -25
		
		random = {
			chance = 15
			increase_duel_exp_modifier_effect = yes
		}
	}
}

# Inform mentor
character_event = {
	id = risingsun.184
	desc = EVTDESC_RISINGSUN_184
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_184 # I see...
	}
}

# Other student is a woman and you are not - take issue?
character_event = {
	id = risingsun.185
	desc = EVTDESC_RISINGSUN_185
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_185 # You'll never amount to anything
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.186 days = 1 } # Inform other student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_185 # She's not *that* bad...
		
		prestige = 5
		change_society_currency = 5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Other student took issue - rivalry?
character_event = {
	id = risingsun.186
	desc = EVTDESC_RISINGSUN_186
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_186 # Stay silent
		
		prestige = -15
		change_society_currency = -15
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_186 # I'll show you just how good I am!
		
		prestige = 5
		change_society_currency = 5
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.187 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Inform first student of rivalry
character_event = {
	id = risingsun.187
	desc = EVTDESC_RISINGSUN_187
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_187 # Bring it on!
		
		add_rival = FROM
	}
}

# Other student is a woman and you are too - become friends
character_event = {
	id = risingsun.188
	desc = EVTDESC_RISINGSUN_188
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_188 # We need to stick together!
		
		add_friend = FROM
		FROM = {
			character_event = { id = risingsun.189 }
		}
	}
}

# Inform other student
character_event = {
	id = risingsun.189
	desc = EVTDESC_RISINGSUN_189
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_189 # We need to stick together!
		
		add_friend = FROM
	}
}

### Interactions with other mentors

# Friendship with friend of mentor - other mentor
character_event = {
	id = risingsun.190
	desc = EVTDESC_RISINGSUN_190
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_190 # We need to stick together!
		
		add_friend = FROM
		FROM = {
			character_event = { id = risingsun.191 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.191
	desc = EVTDESC_RISINGSUN_191
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_191 # We need to stick together!
		
		add_friend = FROM
		FROMFROMFROM = {
			character_event = { id = risingsun.192 }
		}
	}
}

# Student's mentor gets the event
character_event = {
	id = risingsun.192
	desc = EVTDESC_RISINGSUN_192
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_192 # We need to stick together!
	}
}

# Rivalry with rival of mentor
character_event = {
	id = risingsun.193
	desc = EVTDESC_RISINGSUN_193
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_193 # If you are with FROMFROM, you are my enemy!
		
		add_rival = FROM
		FROM = {
			character_event = { id = risingsun.194 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.194
	desc = EVTDESC_RISINGSUN_194
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_194 # You are my enemy!
		
		add_rival = FROM
		FROMFROMFROM = {
			character_event = { id = risingsun.195 }
		}
	}
}

# Student's mentor gets the event
character_event = {
	id = risingsun.195
	desc = EVTDESC_RISINGSUN_195
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_195 # Good! Good! Destroy FROMFROM!
	}
}

# Mentor's rival seeks to recruit you - other mentor decides whether to make the attempt
character_event = {
	id = risingsun.196
	desc = EVTDESC_RISINGSUN_196
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_196 # Join me, and together we will rule the ga- society!
		
		change_society_currency = -50
		
		FROM = {
			character_event = { id = risingsun.198 days = 1 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = just
			}
			modifier = {
				factor = 0.1
				trait = honest
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = yes
				}
				is_female = no
			}
			modifier = {
				factor = 10
				any_friend = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				any_lover = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = ambitious
			}
			modifier = {
				factor = 0.01
				trait = slothful
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_196 # It is not worth it...
		
		FROM = {
			character_event = { id = risingsun.197 } # Ping and return to event selection
		}
		
		change_society_currency = 50
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = arbitrary
			}
			modifier = {
				factor = 0.1
				trait = deceitful
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = yes
				}
				is_female = yes
				FROMFROM = {
					is_female = no
				}
			}
			modifier = {
				factor = 10
				trait = humble
			}
			modifier = {
				factor = 10
				trait = content
			}
			modifier = {
				factor = 0.01
				trait = diligent
			}
		}
	}
}

# Hidden ping for From to set up scopes properly in case the other mentor didn't go for the recruitment
character_event = {
	id = risingsun.197
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROMFROMFROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
	}
}

# Student gets the recruitment event
character_event = {
	id = risingsun.198
	desc = EVTDESC_RISINGSUN_198
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_198 # I pledge myself to you
		
		change_society_currency = -100
		
		FROM = {
			opinion = {
				who = ROOT
				modifier = opinion_rising_sun_student
			}
			reverse_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_mentor
			}
			character_event = { id = risingsun.199 } # Inform new mentor
		}
		FROMFROMFROM = {
			remove_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_student
			}
			reverse_remove_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_mentor
			}
			opinion = {
				who = ROOT
				modifier = opinion_rising_sun_ex_student
			}
			reverse_opinion = {
				who = ROOT
				modifier = opinion_rising_sun_ex_mentor
			}
			character_event = { id = risingsun.200 } # Inform old mentor
		}
		FROM = {
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = just
			}
			modifier = {
				factor = 0.1
				trait = honest
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = no
				}
				is_female = yes
				FROMFROMFROM = {
					is_female = yes
				}
			}
			modifier = {
				factor = 10
				any_friend = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				any_lover = {
					character = FROM
				}
			}
			modifier = {
				factor = 0
				any_rival = {
					character = FROM
				}
			}
			modifier = {
				factor = 10
				trait = proud
			}
			modifier = {
				factor = 10
				trait = ambitious
			}
			modifier = {
				factor = 0.01
				trait = slothful
			}
			modifier = {
				factor = 0
				any_friend = {
					character = FROMFROMFROM
				}
			}
			modifier = {
				factor = 0
				any_lover = {
					character = FROMFROMFROM
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_197 # It is not worth it...
		
		FROM = {
			character_event = { id = risingsun.201 } # Inform FROM
		}
		FROMFROMFROM = {
			character_event = { id = risingsun.202 } # Inform FROMFROMFROM
			character_event = { id = risingsun.74 days = 60 random = 60 } # Back to event selection
		}
		
		change_society_currency = 100
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = arbitrary
			}
			modifier = {
				factor = 0.1
				trait = deceitful
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = yes
				}
				is_female = yes
				FROMFROMFROM = {
					is_female = no
				}
			}
			modifier = {
				factor = 10
				trait = humble
			}
			modifier = {
				factor = 10
				trait = content
			}
			modifier = {
				factor = 0.01
				trait = diligent
			}
			modifier = {
				factor = 0
				any_rival = {
					character = FROMFROMFROM
				}
			}
		}
	}
}

# Student agreed - other mentor
character_event = {
	id = risingsun.199
	desc = EVTDESC_RISINGSUN_199
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_199 # Haha!
		
		prestige = 100
	}
}

# Student agreed - old mentor
character_event = {
	id = risingsun.200
	desc = EVTDESC_RISINGSUN_200
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_200 # Curses!
		
		prestige = -100
	}
}

# Student disagreed - other mentor
character_event = {
	id = risingsun.201
	desc = EVTDESC_RISINGSUN_201
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_201 # Curses!
		
		prestige = -100
	}
}

# Student disagreed - old mentor
character_event = {
	id = risingsun.202
	desc = EVTDESC_RISINGSUN_202
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_202 # Haha!
		
		prestige = 100
	}
}

# Other mentor gives you advice - other mentor
character_event = {
	id = risingsun.203
	desc = EVTDESC_RISINGSUN_203
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_203 # Here's a quick tip!
		
		prestige = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.204 }
		}
	}
}

# Student
character_event = {
	id = risingsun.204
	desc = EVTDESC_RISINGSUN_204
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_204 # Thank you!
		
		prestige = 10
		change_society_currency = 5
	}
}

# Female mentor helps female student of other non-female mentor
character_event = {
	id = risingsun.205
	desc = EVTDESC_RISINGSUN_205
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_205 # We're in this together!
		
		prestige = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.206 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.206
	desc = EVTDESC_RISINGSUN_206
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_206 # We're in this together!
		
		prestige = 10
		change_society_currency = 5
	}
}

# Female mentor helps female student of other female mentor
character_event = {
	id = risingsun.207
	desc = EVTDESC_RISINGSUN_207
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_207 # We're in this together!
		
		prestige = 20
		change_society_currency = 10
		
		FROM = {
			character_event = { id = risingsun.208 }
		}
	}
}

# Student gets event
character_event = {
	id = risingsun.208
	desc = EVTDESC_RISINGSUN_208
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_208 # We're in this together!
		
		prestige = 20
		change_society_currency = 10
	}
}

### Interactions with students of other mentors

# Rivalry with mentor's rival's student - other student
character_event = {
	id = risingsun.209
	desc = EVTDESC_RISINGSUN_209
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_209 # You and your master are going down!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.210 }
		}
	}
}

# Notified of rivalry
character_event = {
	id = risingsun.210
	desc = EVTDESC_RISINGSUN_210
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_210 # An empty threat
		
		add_rival = FROM
	}
}

# Friendship with mentor's rival's student - other student
character_event = {
	id = risingsun.211
	desc = EVTDESC_RISINGSUN_211
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_211 # We should not be foes!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.212 }
		}
	}
}

# Notified of friendship
character_event = {
	id = risingsun.212
	desc = EVTDESC_RISINGSUN_212
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_212 # We should not be foes!
		
		add_friend = FROM
	}
}

# Lover with mentor's rival's student - other student
character_event = {
	id = risingsun.213
	desc = EVTDESC_RISINGSUN_213
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_213 # Proposition them
		
		piety = -10
		
		FROM = {
			character_event = { id = risingsun.214 days = 1 } # Other student gets the event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_213 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Other student gets to respond
character_event = {
	id = risingsun.214
	desc = EVTDESC_RISINGSUN_214
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_214 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.215 days = 1 } # Other student gets the response
		}
		
		piety = -10
		
		add_lover = FROM
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_214 # I don't think so!
		
		piety = 10
		
		FROM = {
			character_event = { id = risingsun.216 days = 1 } # Other student gets the response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Lovers
character_event = {
	id = risingsun.215
	desc = EVTDESC_RISINGSUN_215
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_215 # Yay!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = risingsun.216
	desc = EVTDESC_RISINGSUN_216
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_216 # Be that way!
	}
}

# Rivalry with mentor's friend's student - other student
character_event = {
	id = risingsun.217
	desc = EVTDESC_RISINGSUN_217
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_217 # They might be friends, but we are not!
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.218 }
		}
	}
}

# Notified of rivalry
character_event = {
	id = risingsun.218
	desc = EVTDESC_RISINGSUN_218
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_218 # I hate you too!
		
		add_rival = FROM
	}
}

# Friendship with mentor's friend's student - other student
character_event = {
	id = risingsun.219
	desc = EVTDESC_RISINGSUN_219
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_219 # We should also be friends!
		
		add_friend = FROM
		
		FROM = {
			character_event = { id = risingsun.220 }
		}
	}
}

# Notified of friendship
character_event = {
	id = risingsun.220
	desc = EVTDESC_RISINGSUN_220
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_220 # We should also be friends!
		
		add_friend = FROM
	}
}

# Lover with mentor's friend's student - other student
character_event = {
	id = risingsun.221
	desc = EVTDESC_RISINGSUN_221
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_221 # Proposition them
		
		piety = -10
		
		FROM = {
			character_event = { id = risingsun.222 days = 1 } # Other student gets the event
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_221 # I don't think so!
		
		piety = 10
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Other student gets to respond
character_event = {
	id = risingsun.222
	desc = EVTDESC_RISINGSUN_222
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_222 # A lovely idea!
		
		FROM = {
			character_event = { id = risingsun.223 days = 1 } # Other student gets the response
		}
		
		piety = -10
		
		add_lover = FROM
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = chaste
			}
			modifier = {
				factor = 0
				trait = celibate
			}
			modifier = {
				factor = 0
				is_ascetic_trigger = yes
				NOT = {
					trait = lustful
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_222 # I don't think so!
		
		piety = 10
		
		FROM = {
			character_event = { id = risingsun.224 days = 1 } # Other student gets the response
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# Lovers
character_event = {
	id = risingsun.223
	desc = EVTDESC_RISINGSUN_223
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_223 # Yay!
		
		add_lover = FROM
	}
}

# Not lovers
character_event = {
	id = risingsun.224
	desc = EVTDESC_RISINGSUN_224
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_224 # Be that way!
	}
}

# Other mentor's student gives you advice
character_event = {
	id = risingsun.225
	desc = EVTDESC_RISINGSUN_225
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_225 # Here's a quick tip!
		
		prestige = 10
		change_society_currency = 5
		
		FROM = {
			character_event = { id = risingsun.226 }
		}
	}
}

# Got advice
character_event = {
	id = risingsun.226
	desc = EVTDESC_RISINGSUN_226
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_226 # Thank you!
		
		prestige = 10
		change_society_currency = 5
	}
}

# Other mentor's student is a woman and you are not - take issue?
character_event = {
	id = risingsun.227
	desc = EVTDESC_RISINGSUN_227
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_227 # You'll never amount to anything
		
		prestige = -15
		change_society_currency = -15
		
		FROM = {
			character_event = { id = risingsun.228 days = 1 } # Inform other student
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_227 # She's not *that* bad...
		
		prestige = 5
		change_society_currency = 5
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Other student took issue - rivalry?
character_event = {
	id = risingsun.228
	desc = EVTDESC_RISINGSUN_228
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTB_RISINGSUN_228 # Stay silent
		
		prestige = -15
		change_society_currency = -15
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = humble
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
	}
	
	option = {
		name = EVTOPTB_RISINGSUN_228 # I'll show you just how good I am!
		
		prestige = 5
		change_society_currency = 5
		
		add_rival = FROM
		
		FROM = {
			character_event = { id = risingsun.229 }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				trait = proud
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
		}
	}
}

# Inform first student of rivalry
character_event = {
	id = risingsun.229
	desc = EVTDESC_RISINGSUN_229
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_229 # Bring it on!
		
		add_rival = FROM
	}
}

# Other mentor's student is a woman and you are too - become friends
character_event = {
	id = risingsun.230
	desc = EVTDESC_RISINGSUN_230
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_230 # We need to stick together!
		
		add_friend = FROM
		FROM = {
			character_event = { id = risingsun.231 }
		}
	}
}

# Inform other student
character_event = {
	id = risingsun.231
	desc = EVTDESC_RISINGSUN_231
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_231 # We need to stick together!
		
		add_friend = FROM
	}
}

##### Powers

# Summon commander
character_event = {
	id = risingsun.232
	desc = EVTDESC_RISINGSUN_232
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_232 # Good to have them here!
	}
}

# Disband Ronin

# Mark of Dishonor gained
character_event = {
	id = risingsun.234
	desc = EVTDESC_RISINGSUN_234
	picture = GFX_evt_china_expansionist # TODO
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_234 # Curses!
		
		prestige = -500
		add_character_modifier = {
			modifier = mark_of_dishonor
			months = 120
		}
		if = {
			limit = {
				NOT = {
					any_rival = {
						character = FROM
					}
				}
			}
			add_rival = FROM
		}
	}
}

# Rising Sun Subjugation target selected - hidden setup
character_event = {
	id = risingsun.235
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			save_persistent_event_target = { name = rising_sun_subjugation_target scope = ROOT }
		}
		any_playable_ruler = {
			limit = {
				ai = no
			}
			narrative_event = { id = risingsun.236 }
		}
	}
}


# Rising Sun Subjugation target selected - inform the world
narrative_event = {
	id = risingsun.236
	title = EVTTITLE_RISINGSUN_236
	desc = EVTDESC_RISINGSUN_236
	picture = GFX_evt_china_expansionist # TODO
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				is_in_society = warriors_of_the_rising_sun
			}
		}
		name = EVTOPTA_RISINGSUN_236 # Worrying...
	}
	
	option = {
		trigger = {
			is_in_society = warriors_of_the_rising_sun
		}
		name = EVTOPTB_RISINGSUN_236 # It will be glorious!
	}
}

# Leader is notified that FROM helped increase progress
letter_event = {
	id = risingsun.237
	desc = EVTDESC_RISINGSUN_237
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_237 # Thank you!
		
		FROM = {
			letter_event = { id = risingsun.238 } # Inform from!
		}
	}
}

# FROM is thanked
letter_event = {
	id = risingsun.238
	desc = EVTDESC_RISINGSUN_238
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RISINGSUN_238 # No problem!
		
		prestige = 100
	}
}

# Inform the world if the invasion is called off before being launched due to the leader's death

# Rising Sun Subjugation war launched - non-member

# Rising Sun Subjugation war launched - member

# Inform the world if the invasion failed due to the leader's death

##### Interactions with other members

### Sake drinking contest

### Poetry contest

### Go contest

### Befriend/rival/tumble/become lovers with random member

### Discredit rival

### Strategy discussion

### Military advances discussion

##### The Very Best

##### Misc events

### Lose T1 non-martial education

### Foreigners on your shores

##### Maintenance

# AI rank up

# Recreation if destroyed